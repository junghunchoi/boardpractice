<!DOCTYPE html>
<html>
<head>
	<title>Image</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

	<script type="text/javascript">
		document.write('<scr' + 'ipt src="../config/editor_crossdomain_config.js?t=' + (new Date).getTime() + '" type="text/javascript"><\/scr' + 'ipt>');
	</script>

	<script type="text/javascript">
		var KEDITORTOP = parent;
		var KEditorLayerFrame = KEDITORTOP.KEDITORDOC.getElementById("raonk_frame_" + KEDITORTOP.G_CURRKEDITOR.ID);
		if (KEDITORTOP.G_CURRKEDITOR.dialogWindow != null) {
			KEDITORTOP = KEditorLayerFrame.contentWindow.KEDITORTOP;
		}
		var KEditorLayerWin = KEditorLayerFrame.contentWindow;

		document.write('<link href="' + KEditorLayerWin._k_editor._config.popupCssUrl + '?t=' + KEDITORTOP.RAONKEDITOR.UrlStamp + '" rel="stylesheet" type="text/css" />');
        if (KEditorLayerWin._k_editor._config.customCssUrlDetailApply == "1") {
            document.write('<link href="' + KEditorLayerWin._k_editor._config.style.customCssUrl  + "?t=" + KEDITORTOP.RAONKEDITOR.UrlStamp + '" rel="stylesheet" type="text/css" />');
        }
		document.write('<scr' + 'ipt src="' + KEditorLayerWin._k_editor._config.dialogJSUrl + '?t=' + KEDITORTOP.RAONKEDITOR.UrlStamp + '" type="text/javascript"><\/scr' + 'ipt>');

		if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
			document.write('<scr' + 'ipt src="' + KEditorLayerWin._k_editor._config.ajaxUploadJSUrl + '?t=' + KEDITORTOP.RAONKEDITOR.UrlStamp + '" type="text/javascript"><\/scr' + 'ipt>');
		}
	</script>

	<style type="text/css">
		#img_dlg_back {
			z-index: 20;
			background-color: white;
			left: 0px;
			top: 40px;
			width: 100%;
			height: 60px;
			position: absolute;
			filter: alpha(opacity=40);
			opacity: 0.4;
			-moz-opacity: 0.4;
			-ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=40);
			-khtml-opacity: 0.4;
		}
		.focusVisible { outline: solid 2px #000; outline-style: auto; }
	</style>

	<script type="text/javascript">
		var G_SelectedFiles = [];
		
		var file_field_id = LayerWin._k_editor._config.fileFieldID;
		var user_field_id = LayerWin._k_editor._config.userFieldID;
		var user_field_value = LayerWin._k_editor._config.userFieldValue;
		var elemModify = null;
		try {
			elemModify = KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT;
			if (elemModify && elemModify.tagName.toLowerCase() != "img") KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT = elemModify = null;
			if (elemModify && elemModify != null) {
				elemModifyParent = LayerWin.GetParentbyTagName(elemModify, "figure");

				if (elemModifyParent) {
					if (elemModifyParent.tagName.toLowerCase() != "figure")
						elemModifyParent = null;
				}
			}
            if (elemModify != null) {
                G_SelectedFiles.push({
                    elemModify: elemModify
				});
			}
		} catch (e) {
			elemModify = null;
		}

		function page_loaded_event() {
			setBrowserClass(document.body);

			var _td1InnerHtml = '', _td2InnerHtml = '', _td3InnerHtml = '';
			var fileAccept = '';
			if (KEditorLayerWin._k_editor._config.allowImageFileType && KEditorLayerWin._k_editor._config.allowImageFileType.length > 0) {
                fileAccept = 'accept="' + KEDITORTOP.RAONKEDITOR.util.getMimeFilter(KEditorLayerWin._k_editor._config.allowImageFileType) + '"';
            }

			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				_td1InnerHtml += '<input id="radio_image" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="1" checked="checked" />';

				_td2InnerHtml += '<label for="radio_image" id="label_image_info">이미지 경로</label>';

				_td3InnerHtml += '<input type="hidden" id="drop_zone_uploadtype" name="drop_zone_uploadtype" value="image" /><input type="hidden" id="file_text" name="file_text" />';
				_td3InnerHtml += '<div class="K_edITor_ED_Popup_DropZone K_edITor_ED_Popup_DropZone_2" id="drop_zone" style="border:dashed 1px gray; width:323px; height:40px; line-height:40px; text-align:center; color:gray; text-overflow:ellipsis; overflow:hidden; white-space:nowrap;"></div>';
                _td3InnerHtml += '<div style="position:absolute; left:0px; top:-40px;"><input class="noline" ' + (elemModify == null && KEditorLayerWin._k_editor._config.insertMultiImage == "1" ? 'multiple' : '') + ' type="file" {0} id="Filedata" name="Filedata" style="width:0px; height:0px" onchange="fileOnchange(this, \'image\');" /></div>';
			}
			else {
				_td1InnerHtml += '<input id="radio_image" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="1" checked="checked" />';

				_td2InnerHtml += '<label for="radio_image" id="label_image_info">이미지 경로</label>';

				_td3InnerHtml += '<input name="image_url" id="image_url" type="text" class="con_input" style="width:245px; float:left;background:#fff" disabled="disabled" />';
				_td3InnerHtml += '<span id="find_file_nm" style="width:67px; height:20px; *margin-left:-3px;_margin-left:-3px; background-position: 0px 0px; display:block; float:left; cursor:pointer; background-repeat:no-repeat;">';
				_td3InnerHtml += '<span id="file_input_search" class="file_input_button2">찾아보기</span>';
                _td3InnerHtml += '<input class="noline" type="file" {0} id="Filedata" name="Filedata" style="margin-top:-35px;*margin-top: -28px; margin-left:-250px;width:325px;height:25px; opacity:0; filter:alpha(opacity=0); -moz-opacity:0; cursor:pointer;" onchange="fileOnchange(this, \'image\');" />';
                _td3InnerHtml += '<a href="javascript:void(0);" id="a_file" tabindex="-1"></a></span>';
			}

            _td3InnerHtml = _td3InnerHtml.replace('{0}', fileAccept);

			var _td1 = document.createElement('td');
			_td1.width = '5%';
			_td1.innerHTML = _td1InnerHtml;

			var _td2 = document.createElement('td');
			_td2.width = '22%';
			_td2.innerHTML = _td2InnerHtml;

			var _td3 = document.createElement('td');

			_td3.width = '73%';
			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				_td3.rowSpan = '2';
				_td3.id = '_td_drop_zone';
			}

			_td3.innerHTML = _td3InnerHtml;

			document.getElementById('file_tag_or_drop_zone').appendChild(_td1);
			document.getElementById('file_tag_or_drop_zone').appendChild(_td2);
			document.getElementById('file_tag_or_drop_zone').appendChild(_td3);

			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				setDragAndDropEvent('drop_zone');

				// url입력 input태그 hidden
				document.getElementById('drop_zone').removeAttribute('hidden')
				document.getElementById('img_web_url').setAttribute('hidden', 'hidden');
			}

			var html_figure1 = '', html_figure2 = '';
			if (!(KEDITORTOP.RAONKEDITOR.browser.ie && KEDITORTOP.RAONKEDITOR.browser.ieVersion <= 8) && KEditorLayerWin._k_editor._config.figure.use == "1") {
				var tr_figure = document.getElementById("figure");

                var html_figure = '<input id="img_figure" name="img_figure" type="checkbox" /><label style="vertical-align:middle;" for="img_figure" id="label_img_figure">' + KEditorLayerWin.RAONKEditor_lang.image.image_figcaption; +'</label>';
				//html_figure2 += '';

				var td_figure1 = document.createElement('td');
				td_figure1.setAttribute("colspan", '2');
				td_figure1.innerHTML = html_figure;

				var td_figure2 = document.createElement('td');
				tr_figure.appendChild(td_figure1);
				tr_figure.appendChild(td_figure2);

				// figure 사용일경우 hyperlink 미사용 처리함.
				var figureChk = td_figure1.firstChild;
				var figureOnchange = function () {
					var tab1 = document.getElementById('a_secon_tab_1');
					var tab2 = document.getElementById('a_secon_tab_2');
					var tab3 = document.getElementById('a_secon_tab_3');
					if (figureChk.checked) {
						tab1.style.display = 'none';
						tab2.style.display = 'none';
						tab3.style.display = 'none';
					} else {
						tab1.style.display = 'block';
						tab2.style.display = 'block';
						tab3.style.display = 'block';
					}
				};
				KEDITORTOP.RAONKEDITOR.util.addEvent(figureChk, 'change', figureOnchange);
			}

			set_page_lang();

			dialogPartialInit();

			var accessibility = LayerWin._k_editor._config.accessibility;
			if (accessibility == "-1") {
				if (document.getElementById("access_img")) document.getElementById("access_img").style.display = "none";
			}

			var img_ratio = document.getElementById("img_ratio");
			var img_ratio_toggle = (function () {
				var inputWidth = document.getElementById('img_width');
				var inputHeight = document.getElementById('img_height');
				var selectWidthUnit = document.getElementById('img_width_unit');
				var selectHeightUnit = document.getElementById('img_height_unit');
				if (img_ratio.getAttribute("ratio-checked") == "true") {
					img_ratio.className = "img_link_btn";
					img_ratio.setAttribute("ratio-checked", false);
					inputWidth.removeAttribute("disabled");
					if(selectWidthUnit.value != '%' || selectHeightUnit.value != '%'){
						inputHeight.removeAttribute("disabled");
					}
				} else {
					if (selectWidthUnit.value == selectHeightUnit.value) {
						img_ratio.className = "img_link_active_btn";
						img_ratio.setAttribute("ratio-checked", true);

						if (selectWidthUnit.value == '%' || selectHeightUnit.value == '%') {
							inputHeight.value = '';
							inputHeight.setAttribute("disabled", "true");
						} else {
							inputWidth.removeAttribute("disabled");
							inputHeight.removeAttribute("disabled");
						}
					}
				}
			});
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_ratio, "click", img_ratio_toggle);

			if (LayerWin._k_editor._config.uploadUseHTML5 != "1") {
				var _upload_frame = document.getElementById("upload_frame");

				var eventHandler = function () {
					var _body;
					try {
						_body = (_upload_frame.contentDocument) ? _upload_frame.contentDocument.body : _upload_frame.contentWindow.document.body;
					}
					catch (e) {
						_body = _upload_frame.document.body;
					}

					if ('textContent' in _body) { _web_url = _body.textContent; } else { _web_url = _body.innerText; }
					_web_url = KEDITORTOP.RAONKEDITOR.util.trim(_web_url);
					event_keditor_image_upload_completed(_web_url);
				}

				KEDITORTOP.RAONKEDITOR.util.addEvent(_upload_frame, "load", eventHandler, true);
			}

			set_page();

			var _link_target = document.getElementById('link_target');
			var cnt = LayerWin.RAONKEditor_lang.hyperlink.arr_target.value.length;
			for (var i = 0; i < cnt; i++) {
				var opt = document.createElement('option');
				opt.value = LayerWin.RAONKEditor_lang.hyperlink.arr_target.value[i];
				opt.innerHTML = LayerWin.RAONKEditor_lang.hyperlink.arr_target.text[i];
				_link_target.appendChild(opt);
			}

			var hyperlinkTargetList = LayerWin._k_editor._config.hyperlinkTargetList;
			cnt = hyperlinkTargetList.length;
			if (cnt > 0) {
				for (var i = 0; i < cnt; i++) {
					var opt = document.createElement('option');
					opt.value = hyperlinkTargetList[i];
					opt.innerHTML = hyperlinkTargetList[i];
					_link_target.appendChild(opt);
				}
			}

			var margin_left_spinUp = document.getElementById("margin_left_spinUp");
			var margin_right_spinUp = document.getElementById("margin_right_spinUp");
			var margin_top_spinUp = document.getElementById("margin_top_spinUp");
			var margin_bottom_spinUp = document.getElementById("margin_bottom_spinUp");

			var margin_left_spinDown = document.getElementById("margin_left_spinDown");
			var margin_right_spinDown = document.getElementById("margin_right_spinDown");
			var margin_top_spinDown = document.getElementById("margin_top_spinDown");
			var margin_bottom_spinDown = document.getElementById("margin_bottom_spinDown");
			//var border_spinUp = document.getElementById("border_spinUp");
			//var border_spinDown = document.getElementById("border_spinDown");

			var img_margin_left = document.getElementById('img_margin_left');
			var img_margin_right = document.getElementById('img_margin_right');
			var img_margin_top = document.getElementById('img_margin_top');
			var img_margin_bottom = document.getElementById('img_margin_bottom');
			//var border = document.getElementById('img_border');

			var img_width = document.getElementById('img_width');
			var img_height = document.getElementById('img_height');
            var img_width_Unit = document.getElementById('img_width_unit');
            var img_height_Unit = document.getElementById('img_height_unit');
            if (LayerWin._k_editor._config.imgDefaultWidth.indexOf("%") > -1) {
                img_width_Unit.value = "%";
                img_height_Unit.value = "%";
                img_height.disabled = true;
            }

			var original_size = document.getElementById('original_size');

			/* 이미지 다이얼로그 로드시 imgDefaultWidth, imgDefaultHeight 삽입 불필요하여 주석처리 - by LimSW 23.01.09
			var imgDefaultWidth = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultWidth;
			var imgDefaultHeight = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultHeight;
			img_width.value = imgDefaultWidth;
			img_height.value = imgDefaultHeight;
			*/

			if (LayerWin._k_editor._config.allowImgSize == "0") {
				document.getElementById('img_width_div').style.display = 'none';
				document.getElementById('img_height_div').style.display = 'none';
			}

			var lineStyle = LayerWin._k_editor._config.imageLineStyleValue;
			var ulLineStyle = document.getElementById("ul_line_style");
			var imageLineStyleList = LayerWin._k_editor._config.imageLineStyleList;
			_cnt = imageLineStyleList.length;
			if (_cnt > 0) {
				for (var i = 0; i < _cnt; i++) {
					if (lineStyle["_" + tableLineStyleList[i]]) {
						var option = document.createElement("LI");
                        var _spanClass = 'line ' + imageLineStyleList[i];
                        var optVal = '<a href="javascript:void(0);" class="sebt"><span class="' + _spanClass + '" style="' + lineStyle["_" + imageLineStyleList[i]] + '">';
                        
						if (imageLineStyleList[i] == 'hidden' || imageLineStyleList[i] == 'none') { optVal += LayerWin.RAONKEditor_lang.image.line_style_hidden; }
						optVal += '</span></a>';
						option.innerHTML = optVal;
						ulLineStyle.appendChild(option);
					}
				}
			} else {
				var _line_style_value = LayerWin.RAONKEditor_lang.arr_line_style_value.value;
				_cnt = _line_style_value.length;
				for (var i = 0; i < _cnt; i++) {
					var option = document.createElement("LI");
                    var _spanClass = 'line ' + _line_style_value[i];
                    var optVal = '<a href="javascript:void(0);" class="sebt"><span class="' + _spanClass + '" style="' + lineStyle["_" + _line_style_value[i]] + '">';
                    
					if (_line_style_value[i] == 'hidden' || _line_style_value[i] == 'none') { optVal += LayerWin.RAONKEditor_lang.image.line_style_hidden; }
					optVal += '</span></a>';
					option.innerHTML = optVal;
					ulLineStyle.appendChild(option);
				}
			}
			setLineStyleEvt();

			var _aNodes = ulLineStyle.getElementsByTagName('a');
            LayerWin.setFocusFirstAndLast2(document.getElementById('line_style_btn'), _aNodes[_aNodes.length - 1]);

			var _line_kind_value = LayerWin.RAONKEditor_lang.arr_line_kind_value.value;
			_cnt = _line_kind_value.length;
			var _value = "";
			var _text = "";
			for (var i = 0; i < _cnt; i++) {
				//var _line_kind_list = parent.RAONKEDITOR.util.xml.getNodeIdx(_line_kind_value, "line_kind_list", i);
				_value = LayerWin.RAONKEditor_lang.arr_line_kind_value.value[i];
				_text = LayerWin.RAONKEditor_lang.arr_line_kind_value.text[i];
				var option = document.createElement("OPTION");
				option.value = _value;
				option.text = _text;
				document.getElementById("line_kind").options.add(option);
			}
			document.getElementById("line_kind").options[0].selected = "selected";

			document.getElementById("line_thickness").value = '0';

			img_margin_left.value = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultMarginLeft;
			img_margin_right.value = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultMarginRight;
			img_margin_top.value = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultMarginTop;
			img_margin_bottom.value = LayerWin.KEDITORTOP.G_CURRKEDITOR._config.imgDefaultMarginBottom;

			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_left_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_left, 9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_right_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_right, 9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_top_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_top, 9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_bottom_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_bottom, 9999, 1); });

			// 이미지 여백 음수값 입력 가능하도록 수정(0 -> -9999로 변경) by jh 2018.04.09
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_left_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_left, -9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_right_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_right, -9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_top_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_top, -9999, 1); });
			KEDITORTOP.RAONKEDITOR.util.addEvent(margin_bottom_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_bottom, -9999, 1); });

			//KEDITORTOP.RAONKEDITOR.util.addEvent(border_spinUp, 'click', function () { LayerWin.click_plus_func(border, 10, 1); });
			//KEDITORTOP.RAONKEDITOR.util.addEvent(border_spinDown, 'click', function () { LayerWin.click_minus_func(border, 0, 1); });

			// 이미지 여백 음수값 입력 가능하도록 수정 by jh 2018.04.09
			//KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_left, 'keydown', LayerWin.onlyNumber);
			//KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_right, 'keydown', LayerWin.onlyNumber);
			//KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_top, 'keydown', LayerWin.onlyNumber);
			//KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_bottom, 'keydown', LayerWin.onlyNumber);
			var keydownInputText = function (obj) {
				if (!isNaN(new Number(obj.value)))
					KEDITORTOP.G_CURRKEDITOR.keydownInputText = obj.value;
			}
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_left, 'keydown', function () { keydownInputText(img_margin_left) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_right, 'keydown', function () { keydownInputText(img_margin_right) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_top, 'keydown', function () { keydownInputText(img_margin_top) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_bottom, 'keydown', function () { keydownInputText(img_margin_bottom) });

			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_left, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_left) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_right, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_right) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_top, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_top) });
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_margin_bottom, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_bottom) });

			//KEDITORTOP.RAONKEDITOR.util.addEvent(border, 'keydown', LayerWin.onlyNumber);
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_width, 'keydown', LayerWin.onlyNumber);
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_height, 'keydown', LayerWin.onlyNumber);

			KEDITORTOP.RAONKEDITOR.util.addEvent(original_size, 'click', function () {
				var img_width = document.getElementById('img_width');
				var img_height = document.getElementById('img_height');
				var original_size = document.getElementById('original_size');
				var selectWidth = document.getElementById('img_width_unit');
				var selectHeight = document.getElementById('img_height_unit');
				if (original_size.checked) {
                    // 이미지 속성창에서도 원본 크기 가능하도록 수정 by dahyun 22.07.14
                    if (document.getElementById('original_image_width').value == "" || document.getElementById('original_image_height').value == "") {
                        setOriginSize();
                    }
					// 원본크기 유지 체크 시 원본 이미지 크기 들어가도록 추가 by JinYoung 21.03.19
					if (selectWidth.value == '%') {
						var baseWidth = KEDITORTOP.RAONKEDITOR.util.getEditSpacePx(KEDITORTOP.G_CURRKEDITOR);
						var calPercent = Math.round((document.getElementById('original_image_width').value / baseWidth) * 10000) / 100;
						if (calPercent == "0") {
							calPercent = "";
						}
						img_width.value = calPercent;
						img_width.disabled = "true";
						img_height.value = "";
						img_height.disabled = "true";
						selectWidth.value = '%';
						selectHeight.value = '%';
						selectWidth.disabled = 'true';
						selectHeight.disabled = 'true';
					} else {
                        img_width.value = document.getElementById('original_image_width').value;
                        img_width.disabled = "true";
                        img_height.value = document.getElementById('original_image_height').value;
                        img_height.disabled = "true";
                        selectWidth.value = 'px';
                        selectHeight.value = 'px';
                        selectWidth.disabled = 'true';
                        selectHeight.disabled = 'true';
                    }
				} else {
					img_width.removeAttribute("disabled");
                    if (selectWidth.value != '%') {
                        img_height.removeAttribute("disabled");
                    }
					selectWidth.removeAttribute("disabled");
					selectHeight.removeAttribute("disabled");
				}
			});


			var setOriginSize = function () {
				var tempImage = new Image();
                var img_web_url = document.getElementById('img_web_url');
				tempImage.onload = function () {
					try {
						var urlCreator = window.URL || window.webkitURL || window;
						urlCreator.revokeObjectURL(this.src);
					} catch (e) {
                        KEDITORTOP && KEDITORTOP.RAONKEDITOR && KEDITORTOP.RAONKEDITOR.logMode && window && window.console && console.log(e);
					}
					var tempImgW = tempImage.width;
                    var tempImgH = tempImage.height;
                    document.getElementById('original_image_width').value = tempImgW;
                    document.getElementById('original_image_height').value = tempImgH;
					// 이미지 크기를 %로 지정할 수 있는 기능 추가 by hyeokjoo 20.05.27
					var selectWidthUnit = document.getElementById('img_width_unit');
					var selectHeightUnit = document.getElementById('img_height_unit');
					var checkWidthUnit = false, checkHeightUnit = false;
					if (selectWidthUnit && selectWidthUnit.value == '%') checkWidthUnit = true;
					if (selectHeightUnit && selectHeightUnit.value == '%') checkHeightUnit = true;
					if (!checkWidthUnit && !checkHeightUnit) {
						// imgDefaultWidth, imgDefaultHeight 설정에 의해 width, height 처리되도록 수정 - by hsi 2020.12.29
						var imgDefaultWidth = '';
						var imgDefaultHeight = '';
						if (LayerWin._k_editor._config.imgDefaultWidth.indexOf("%") < 0) {
							imgDefaultWidth = LayerWin._k_editor._config.imgDefaultWidth;
							imgDefaultHeight = LayerWin._k_editor._config.imgDefaultHeight;
						}
						if (imgDefaultWidth != '') {
							if (KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgW) > KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultWidth)) {
								var y = ((KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgH, 10) * KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultWidth, 10)) / KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgW, 10));
								tempImgH = isNaN(y) ? tempImgH : Math.round(y);
								tempImgW = KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultWidth);
							}
						} else if (imgDefaultHeight != '') {
							if (KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgH) > KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultHeight)) {
								var x = ((KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgW, 10) * KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultHeight, 10)) / KEDITORTOP.RAONKEDITOR.util.parseIntOr0(tempImgH, 10));
								tempImgW = isNaN(x) ? tempImgW : Math.round(x);
								tempImgH = KEDITORTOP.RAONKEDITOR.util.parseIntOr0(imgDefaultHeight);
							}
						}
						if (document.getElementById('img_width').value == "") { document.getElementById('img_width').value = tempImgW; }
						if (document.getElementById('img_height').value == "") { document.getElementById('img_height').value = tempImgH; }
                    } else {
                        var baseWidth = KEDITORTOP.RAONKEDITOR.util.getEditSpacePx(KEDITORTOP.G_CURRKEDITOR);
                        var calPercent = Math.round((tempImgW / baseWidth) * 10000) / 100;
                        if (calPercent == "0") {
                            calPercent = "";
                        }
                        if (document.getElementById('img_width').value == "") {
                            document.getElementById('img_width').value = calPercent;
                        }
                        document.getElementById('img_height').value = "";
                    }

					tempImage = null;
					tempImage = undefined;
				};
                tempImage.src = img_web_url.value;
			};
			/*
			var select_img_protocol = document.getElementById('select_img_protocol');
			var img_web_url = document.getElementById('img_web_url');
			var select_link_protocol = document.getElementById('select_link_protocol');
			var link_url = document.getElementById('link_url');
			LayerWin.createSelectProtocols(select_img_protocol, img_web_url);
			LayerWin.createSelectProtocols(select_link_protocol, link_url);
			*/

			if (LayerWin._k_editor._config.disableInsertImage.indexOf(',image,') > -1) {
				document.getElementById('file_tag_or_drop_zone').style.display = 'none';

				document.getElementById('radio_image_url').checked = true;
				InputFlag_change(document.getElementById('radio_image_url'));

				var nextTr = document.getElementById('file_tag_or_drop_zone').nextSibling;
				if (nextTr.tagName != 'TR') {
					nextTr = nextTr.nextSibling;
				}
				var tdArr = nextTr.getElementsByTagName('td');
				tdArr[0].width = '5%';
				tdArr[1].width = '22%';
				tdArr[2].width = '73%';
			}

			var btn_ok_a = document.getElementById('btn_ok_a');
			if (elemModify != null) {
				KEDITORTOP.RAONKEDITOR.util.addEvent(btn_ok_a, 'click', function () {
                    startInsertImage();
				});
				if (LayerWin._k_editor._config.allowImgSize == "1") {
					set_img_ratio();
				}
				set_modify_field();
			} else {
				KEDITORTOP.RAONKEDITOR.util.addEvent(btn_ok_a, 'click', function () {
                    startInsertImage();
				});

				if (LayerWin._k_editor._config.useKManager == "1") {
					set_img_ratio();
				}
			}

			if (LayerDoc.compatMode == "BackCompat") {
				var inputs = document.getElementsByTagName('input');
				for (var i = 0; i < inputs.length; i++) {
					if (inputs[i].type == 'text') {
						inputs[i].style.height = '20px';
					}
				}
			}
			var first_tab_1 = document.getElementById("first_tab_1");
			setCursorPos(first_tab_1, false, false);
			LayerWin.setFocusFirstAndLast(document, first_tab_1);

			var imgAlt = document.getElementById('img_alt');
			var pasteTemp = document.getElementById('paste_temp');
			var beforeRange = {
				start: 0,
				end: 0
			};
			imgAlt.onkeydown = function (evt) {
                var keyCode = ('which' in evt) ? evt.which : evt.keyCode;
				var Key_V = 86;

				if (evt.ctrlKey == true && keyCode == Key_V) {
					beforeRange.start = imgAlt.selectionStart;
                    beforeRange.end = imgAlt.selectionEnd;
                    pasteTemp.focus();
                }
			};

			pasteTemp.onpaste = function (evt) {
				setTimeout(function () {
					imgAlt.focus();

					var beforeAltText = imgAlt.value;
                    var beforeText = beforeAltText.slice(0, beforeRange.start);
                    var afterText = beforeAltText.slice(beforeRange.end);

					var beforeToPasteText = beforeText + pasteTemp.value.replace(/\n/g, '&#10;');
                    imgAlt.value = beforeToPasteText + afterText;
					pasteTemp.value = '';

                    imgAlt.setSelectionRange(beforeToPasteText.length, beforeToPasteText.length);
				}, 1);
			};

            KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("continue_insert"), 'click', continueInsertClicked);

            if (document.getElementById('original_image_width').value == "" || document.getElementById('original_image_height').value == "") {
                setOriginSize();
			}

			if (!KEDITORTOP.RAONKEDITOR.browser.ie) {
				var file_field_id_obj = document.getElementById(file_field_id);
				var focusVisibleNode = null;
				if (LayerWin._k_editor._config.uploadUseHTML5 == "1" || LayerWin._k_editor._config.useKManager == "1") {
					focusVisibleNode = document.getElementById('drop_zone');
				} else {
					focusVisibleNode = document.getElementById('file_input_search');
				}
				KEDITORTOP.RAONKEDITOR.util.addEvent(file_field_id_obj, "focus", function () {
					focusVisibleNode && focusVisibleNode.classList.add('focusVisible');
				});

				KEDITORTOP.RAONKEDITOR.util.addEvent(file_field_id_obj, "blur", function () {
					focusVisibleNode && focusVisibleNode.classList.remove('focusVisible');
				});
			}
		}

		function set_page() {
			var _upload_url = LayerWin._k_editor._config.handlerUrl;
			document.getElementById("upload_url").value = _upload_url;
		}

		function set_page_lang() {
            var _skin_name = LayerWin.getDialogSkinName(LayerWin._k_editor);

			document.getElementById("keditor_dialog_box").className = 'K_edITor_ED_Popup_Type02 K_edITor_PUi_' + _skin_name;

			document.getElementById("span_first_tab_1").innerHTML = LayerWin.RAONKEditor_lang.image.first_tab;
			document.getElementById("span_first_tab_1").parentNode.title = LayerWin.RAONKEditor_lang.image.first_tab;
			document.getElementById("span_first_tab_2").innerHTML = LayerWin.RAONKEditor_lang.image.first_tab;
            document.getElementById("span_first_tab_2").parentNode.title = LayerWin.RAONKEditor_lang.image.first_tab;
			document.getElementById("span_first_tab_3").innerHTML = LayerWin.RAONKEditor_lang.image.first_tab;
            document.getElementById("span_first_tab_3").parentNode.title = LayerWin.RAONKEditor_lang.image.first_tab;
			document.getElementById("span_secon_tab_1").innerHTML = LayerWin.RAONKEditor_lang.image.secon_tab;
            document.getElementById("span_secon_tab_1").parentNode.title = LayerWin.RAONKEditor_lang.image.secon_tab;
			document.getElementById("span_secon_tab_2").innerHTML = LayerWin.RAONKEditor_lang.image.secon_tab;
            document.getElementById("span_secon_tab_2").parentNode.title = LayerWin.RAONKEditor_lang.image.secon_tab;
			document.getElementById("span_secon_tab_3").innerHTML = LayerWin.RAONKEditor_lang.image.secon_tab;
            document.getElementById("span_secon_tab_3").parentNode.title = LayerWin.RAONKEditor_lang.image.secon_tab;
			document.getElementById("span_third_tab_1").innerHTML = LayerWin.RAONKEditor_lang.image.third_tab;
            document.getElementById("span_third_tab_1").parentNode.title = LayerWin.RAONKEditor_lang.image.third_tab;
			document.getElementById("span_third_tab_2").innerHTML = LayerWin.RAONKEditor_lang.image.third_tab;
            document.getElementById("span_third_tab_2").parentNode.title = LayerWin.RAONKEditor_lang.image.third_tab;
			document.getElementById("span_third_tab_3").innerHTML = LayerWin.RAONKEditor_lang.image.third_tab;
            document.getElementById("span_third_tab_3").parentNode.title = LayerWin.RAONKEditor_lang.image.third_tab;
			document.getElementById("span_title").innerHTML = LayerWin.RAONKEditor_lang.image.title;
			document.getElementById("label_image_title").innerHTML = LayerWin.RAONKEditor_lang.image.image_title;
			document.getElementById("label_image_info").innerHTML = LayerWin.RAONKEditor_lang.image.image_info;
			document.getElementById("label_image_url_info").innerHTML = LayerWin.RAONKEditor_lang.image.image_url_info;
			document.getElementById("label_image_description").innerHTML = LayerWin.RAONKEditor_lang.image.image_description;

			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				if (KEDITORTOP.RAONKEDITOR.browser.mobile == true || KEDITORTOP.RAONKEDITOR.UserAgent.device.type == 'mobile') {
					document.getElementById("drop_zone").innerHTML = LayerWin.RAONKEditor_lang.upload.drop_zone_content2; 
				}
				else {
					document.getElementById("drop_zone").innerHTML = LayerWin.RAONKEditor_lang.upload.drop_zone_content; 
				}
			}
			else {
				document.getElementById("file_input_search").innerHTML = LayerWin.RAONKEditor_lang.image.file_search; 
			}

			if (LayerWin._k_editor._config.allowImgSize == "0") {
				document.getElementById("label_width").innerHTML = "";
				document.getElementById("label_height").innerHTML = "";
			} else {
				document.getElementById("label_width").innerHTML = LayerWin.RAONKEditor_lang.image.width;
				document.getElementById("label_height").innerHTML = LayerWin.RAONKEditor_lang.image.height;
			}

			document.getElementById("label_original_size").innerHTML = LayerWin.RAONKEditor_lang.image.original_size;

			document.getElementById("label_margin_left").innerHTML = LayerWin.RAONKEditor_lang.image.margin_left;
			document.getElementById("label_margin_right").innerHTML = LayerWin.RAONKEditor_lang.image.margin_right;
			document.getElementById("label_margin_top").innerHTML = LayerWin.RAONKEditor_lang.image.margin_top;
			document.getElementById("label_margin_bottom").innerHTML = LayerWin.RAONKEditor_lang.image.margin_bottom;

			document.getElementById("label_img_align").innerHTML = LayerWin.RAONKEditor_lang.image.align;
			document.getElementById("label_hplink_url_info").innerHTML = LayerWin.RAONKEditor_lang.image.image_url_info;
			document.getElementById("label_hplink_title").innerHTML = LayerWin.RAONKEditor_lang.image.hyperlink_title;
			document.getElementById("label_hplink_target").innerHTML = LayerWin.RAONKEditor_lang.image.hyperlink_target;
			document.getElementById("btn_ok").innerHTML = LayerWin.RAONKEditor_lang.image.btn_ok;
            document.getElementById("btn_ok").parentNode.title = LayerWin.RAONKEditor_lang.image.btn_ok;
			document.getElementById("btn_cancel").innerHTML = LayerWin.RAONKEditor_lang.image.btn_cancel;
            document.getElementById("btn_cancel").parentNode.title = LayerWin.RAONKEditor_lang.image.btn_cancel;
			document.getElementById("label_continue_insert").innerHTML = LayerWin.RAONKEditor_lang.image.continue_insert;

			document.getElementById("label_line_style").innerHTML = LayerWin.RAONKEditor_lang.image.line_style;
			document.getElementById("label_line_kind").innerHTML = LayerWin.RAONKEditor_lang.image.line_kind;
			document.getElementById("label_line_thickness").innerHTML = LayerWin.RAONKEditor_lang.image.line_thickness;
			document.getElementById("span_line_color").innerHTML = LayerWin.RAONKEditor_lang.image.line_color;
            document.getElementById("line_color").parentNode.title = LayerWin.RAONKEditor_lang.image.line_color;
			document.getElementById("label_not_apply_border").innerHTML = LayerWin.RAONKEditor_lang.image.not_apply_border;

			document.title = LayerWin.RAONKEditor_lang.image.frame_title;

			document.getElementById("label_maintain_value").innerHTML = LayerWin.RAONKEditor_lang.image.maintain_value;
			document.getElementById("label_image_spacing").innerHTML = LayerWin.RAONKEditor_lang.image.image_spacing;

			var fileDataObj = document.getElementById("Filedata");
			fileDataObj.id = file_field_id;
			fileDataObj.name = file_field_id;

			var userDataObj = document.getElementById("userField");
			userDataObj.id = user_field_id;
			userDataObj.name = user_field_id;
			userDataObj.value = user_field_value;

			var header = LayerWin.getElementsByClass('EdiTor_Popup_header', document);
			header[0].onselectstart = function () { return false; };
		}

		function set_modify_field() {
			var title = document.getElementById('img_title');
			var alt = document.getElementById('img_alt');
			var img_id = document.getElementById('img_id');
			var img_class = document.getElementById('img_class');
			var img_figure = document.getElementById('img_figure');
			var img_width = document.getElementById('img_width');
			var img_height = document.getElementById('img_height');
			var img_margin_left = document.getElementById('img_margin_left');
			var img_margin_right = document.getElementById('img_margin_right');
			var img_margin_top = document.getElementById('img_margin_top');
			var img_margin_bottom = document.getElementById('img_margin_bottom');
			var align = document.getElementById('img_align');
			var ratio = document.getElementById("img_ratio");
			var img_web_url = document.getElementById('img_web_url');
			var InputFlag = document.getElementsByName('InputFlag');
			var filedata = document.getElementById(file_field_id);
			
			var srcReg = new RegExp('src\s*=\s*(\"|\')(([^\"\']*))(\"|\')', 'gi');
			var matArr = elemModify.outerHTML.match(srcReg);
			var imgSrc = '';
			if (matArr && matArr.length > 0) {
				imgSrc = matArr[0].replace('src=', '');
				imgSrc = imgSrc.replace(/\'/g, '');
				imgSrc = imgSrc.replace(/\"/g, '');
				imgSrc = imgSrc.replace(/\&amp;/g, '&');
			}

			if (KEditorLayerWin._k_editor._config.useKManager == '1') {
				imgSrc = decodeURIComponent(imgSrc);
				imgSrc = LayerWin.convertImageAgentSrc(imgSrc, false);
				imgSrc = decodeURIComponent(imgSrc);
			}

			img_web_url.value = imgSrc;

			title.value = elemModify.title;
            alt.value = LayerWin.setImgAltLineBreak(elemModify.alt, false, true);
			img_id.value = elemModify.id;
			img_class.value = elemModify.className;

			if (elemModifyParent) {
				if (img_figure) {
					img_figure.checked = true;
					document.getElementById('a_secon_tab_1').style.display = 'none';
					document.getElementById('a_secon_tab_2').style.display = 'none';
					document.getElementById('a_secon_tab_3').style.display = 'none';
				}
			}

			var selectWidthUnit = document.getElementById('img_width_unit');
			var selectHeightUnit = document.getElementById('img_height_unit');

			var tmpWidth = tmpHeight = "";
            tmpWidth = LayerWin.getNodeWidthHeight(elemModify, 'width');
            tmpHeight = LayerWin.getNodeWidthHeight(elemModify, 'height');
            
            if (tmpWidth.indexOf('%') > -1) {
				selectWidthUnit.value = '%';
                img_height.disabled = true;
            } else {
                selectWidthUnit.value = 'px';
            }
            img_width.value = tmpWidth.replace("px", "").replace("%", "");

            if (tmpHeight.indexOf('%') > -1 || tmpWidth.indexOf('%') > -1) {
				selectHeightUnit.value = '%';
                img_height.disabled = true;
            } else {
                selectHeightUnit.value = 'px';
            }
            img_height.value = tmpHeight.replace("px", "").replace("%", "");

			img_margin_left.value = elemModify.style.marginLeft.toString() == '' ? '' : elemModify.style.marginLeft.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginLeft.replace('px', '')) : '';
			img_margin_right.value = elemModify.style.marginRight.toString() == '' ? '' : elemModify.style.marginRight.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginRight.replace('px', '')) : '';
			img_margin_top.value = elemModify.style.marginTop.toString() == '' ? '' : elemModify.style.marginTop.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginTop.replace('px', '')) : '';
			img_margin_bottom.value = elemModify.style.marginBottom.toString() == '' ? '' : elemModify.style.marginBottom.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginBottom.replace('px', '')) : '';

			if (img_margin_top.value.toString() == "" && elemModify.getAttribute("vspace") == null) {
				// nothing
			} else {
				img_margin_top.value.toString() == "" ? elemModify.vspace.toString() == "" ? img_margin_top.value = "" : img_margin_top.value = elemModify.vspace : img_margin_top.value = img_margin_top.value;
			}
			if (img_margin_bottom.value.toString() == "" && elemModify.getAttribute("vspace") == null) {
				// nothing
			} else {
				img_margin_bottom.value.toString() == "" ? elemModify.vspace.toString() == "" ? img_margin_bottom.value = "" : img_margin_bottom.value = elemModify.vspace : img_margin_bottom.value = img_margin_bottom.value;
			}
			if (img_margin_right.value.toString() == "" && elemModify.getAttribute("hspace") == null) {
				// nothing
			} else {
				img_margin_right.value.toString() == "" ? elemModify.hspace.toString() == "" ? img_margin_right.value = "" : img_margin_right.value = elemModify.hspace : img_margin_right.value = img_margin_right.value;
			}
			if (img_margin_left.value.toString() == "" && elemModify.getAttribute("hspace") == null) {
				// nothing
			} else {
				img_margin_left.value.toString() == "" ? elemModify.hspace.toString() == "" ? img_margin_left.value = "" : img_margin_left.value = elemModify.hspace : img_margin_left.value = img_margin_left.value;
			}

			elemModify.align == "" ? align.value = "" : align.value = elemModify.align;
			
			var prtNode = LayerWin.GetParentbyTagName(elemModify, "a");
			if (prtNode && prtNode.tagName.toLowerCase() == 'a') {
				var _link_url = document.getElementById('link_url');
				var _link_title = document.getElementById('link_title');
				var _link_target = document.getElementById('link_target');

				var prtHtml = prtNode.outerHTML.replace(/"/g, '\'');
				var reg_exp = new RegExp('href\s*=\s*(\"|\')(([^\"\';]*))(\"|\')', 'gi');
				var match_array = prtHtml.match(reg_exp);
				var prtHref = prtNode.getAttribute('href');
				if (match_array && match_array.length > 0) {
					prtHref = match_array[0].replace('href=', '');
					prtHref = prtHref.replace(/\'/g, '');
				}

				_link_url.value = prtHref;
				_link_title.value = prtNode.title;
				if (prtNode.target == '') {
					_link_target.value = _link_target[0].value;
				} else {
					_link_target.value = prtNode.target;
				}
			}
			ratio.style.display = 'block';
			if (LayerWin._k_editor._config.allowImgSize == "1" && (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px')) {
				ratio.className = 'img_link_active_btn';
				ratio.setAttribute('ratio-checked', 'true');
			} else {
				ratio.className = 'img_link_btn';
				ratio.setAttribute('ratio-checked', 'false');
			}

			var notApplyBorder = document.getElementById('not_apply_border');
			var lineStyle = document.getElementById('line_style');
			var lineKind = document.getElementById('line_kind');
			var lineColor = document.getElementById('line_color');
			var lineThickness = document.getElementById('line_thickness');

			document.getElementById('tr_not_apply_border').style.display = '';
			notApplyBorder.checked = true;

			var borderStyle = '', borderKind = '', borderColor = '', borderThickness = '';

			borderStyle = elemModify.style.borderStyle;
			if (borderStyle == '') {
				if (elemModify.getAttribute('border') && elemModify.getAttribute('border') != '') {
					borderStyle = 'solid';
					borderKind = '';
					borderColor = '#000000';
					borderThickness = elemModify.getAttribute('border');
				}
			} else {
				if (elemModify.style.borderColor.indexOf('rgb') < 0 && elemModify.style.borderColor.indexOf('#') < 0) borderColor = '';
				else borderColor = elemModify.style.borderColor;

				if (elemModify.style.borderWidth != '') {
					if (elemModify.style.borderWidth.indexOf('px') > -1) {
						borderThickness = elemModify.style.borderWidth;
					} else {
						borderKind = elemModify.style.borderWidth;
					}
				}
			}

			try {
				setBorderListValue(borderStyle, lineStyle);
			} catch (e) {
				setBorderListValue(borderStyle, 'solid');
			}

			try {
				lineColor.style.borderTopColor = borderColor;
			} catch (e) {
				lineColor.style.borderTopColor = '#000000';
			}


			if (borderThickness != '') {
				try {
					lineThickness.value = parseInt(borderThickness, 10);
				} catch (e) {
					lineThickness.value = 0;
				}
			}

			if (borderKind != '') {
				try {
					lineKind.value = borderKind;
				} catch (e) {
					lineKind.value = '';
				}
				imgLineKindChange();
			}

			var changeNotApplyBorder = function () {
				if (notApplyBorder.checked) {
					document.getElementById('img_dlg_back').style.display = '';
				} else {
					var tempValue = document.getElementById('line_thickness').value;
					if (tempValue <= 0) {
						document.getElementById('line_thickness').value = 1;
                    }
					document.getElementById('img_dlg_back').style.display = 'none';

				}
			};
			KEDITORTOP.RAONKEDITOR.util.addEvent(notApplyBorder, "click", changeNotApplyBorder);

			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				var modify_default_radio = document.getElementById('radio_image_url');
				var modify_radio = document.getElementById('radio_image');

				modify_radio.removeAttribute('checked');
				modify_default_radio.setAttribute('checked', 'checked');

				InputFlag_change(modify_default_radio);
			}
		}

		function continueInsertClicked() {
			var continueInsert = document.getElementById("continue_insert");
			var imageSpacing = document.getElementById('image_spacing');
			var maintainValue = document.getElementById('maintain_value');
			
            if (G_SelectedFiles && G_SelectedFiles.length > 1) {
				imageSpacing.parentNode.style.visibility = '';

				if (continueInsert.checked) {
					maintainValue.parentNode.style.visibility = '';
				} else {
                    maintainValue.parentNode.style.visibility = 'hidden';
				}
			} else {
                if (continueInsert.checked) {
					imageSpacing.parentNode.style.visibility = '';
                    maintainValue.parentNode.style.visibility = '';
                } else {
                    imageSpacing.parentNode.style.visibility = 'hidden';
                    maintainValue.parentNode.style.visibility = 'hidden';
                    document.getElementById('image_spacing').checked = false;
                }
			}
        };

		//var g_curr_width = [], g_curr_height = [];
		function set_img_ratio() {
			var ratio = document.getElementById('img_ratio');
			var img_width = document.getElementById('img_width');
			var img_height = document.getElementById('img_height');

			if (elemModify) {
				var _widthValue, _heightValue;
				_widthValue = LayerWin.getNodeWidthHeight(elemModify, 'width');
				_heightValue = LayerWin.getNodeWidthHeight(elemModify, 'height');
				
				if (_widthValue.indexOf("%") < 0 && _heightValue.indexOf("%") < 0) {
                    G_SelectedFiles[0].width = _widthValue.replace("px", "");
                    G_SelectedFiles[0].height = _heightValue.replace("px", "");
					//g_curr_width.push(_widthValue.replace("px", ""));
                    //g_curr_height.push(_heightValue.replace("px", ""));
				}
			}

			if (LayerWin._k_editor._config.useKManager == "1") {
				ratio.style.display = 'block';
				ratio.className = 'img_link_active_btn';
				ratio.setAttribute('ratio-checked', 'true');
			}

			addEventImgWidthHeight();

			var ratio_width_keydown = (function (e) {
                if (G_SelectedFiles.length > 1 && ratio.getAttribute("ratio-checked") == "true") {
					if (img_height.value != '') {
						KEDITORTOP.RAONKEDITOR.util.cancelEvent(e);
					}
				}
			});
			var ratio_height_keydown = (function (e) {
                if (G_SelectedFiles.length > 1 && ratio.getAttribute("ratio-checked") == "true") {
					if (img_width.value != '') {
						KEDITORTOP.RAONKEDITOR.util.cancelEvent(e);
					}
				}
			});
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_width, "keydown", ratio_width_keydown);
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_height, "keydown", ratio_height_keydown);
		}

		function InputFlag_change(obj) {
			var img_web_url = document.getElementById("img_web_url");
			
			if (KEditorLayerWin._k_editor._config.uploadUseHTML5 == "1" || KEditorLayerWin._k_editor._config.useKManager == '1') {
				var drop_zone = document.getElementById("drop_zone");
				var td_drop_zone = document.getElementById("_td_drop_zone");

				if (!elemModify) {
					img_web_url.value = "";
				}

				if (obj.value == "1") {
					drop_zone.removeAttribute('hidden')
					drop_zone.setAttribute('style', 'border:dashed 1px gray; width:323px; height:40px; text-align:center; display:table-cell; vertical-align:middle; color:gray;');

					td_drop_zone.setAttribute('rowspan', '2');

					img_web_url.setAttribute('hidden', 'hidden');
				}
				else if (obj.value == "2") {
					drop_zone.setAttribute('hidden', 'hidden');
					drop_zone.removeAttribute('style');

					td_drop_zone.removeAttribute('rowspan')
					
					img_web_url.removeAttribute('hidden');

					if (!elemModify) {
						img_web_url.value = "http://";
					}
					img_web_url.removeAttribute("disabled");
					setCursorPos(img_web_url, true, false);
				}
			}
			else {
				var file_data = document.getElementById(file_field_id);

				file_data.setAttribute("disabled", "disabled");
				img_web_url.setAttribute("disabled", "disabled");

				if (!elemModify) {
					img_web_url.value = "";
				}

				if (obj.value == "1") {
					file_data.removeAttribute("disabled");
				} else if (obj.value == "2") {
					if (!elemModify) {
						img_web_url.value = "http://";
					}
					img_web_url.removeAttribute("disabled");
					setCursorPos(img_web_url, true, false);
				}
			}
		}

		function popup_toggle(tapNum) {
			var popTap = LayerWin.getElementsByClass("EdiTor_Popup_contents", document);
			var div_tab_arr = LayerWin.getElementsByClass("con_btn", document);
			var input_link_url = document.getElementById('link_url');

			switch (tapNum) {
				case 0:
					setCursorPos(document.getElementById('radio_image'), false, false);
					input_link_url.value = LayerWin.ReplaceAll(input_link_url.value, ' ', '');
					if (input_link_url.value != '') {
						var chkReg = new RegExp(/^(http|ftp|https|news)/);
						var chkVal = chkReg.test(input_link_url.value);
						if (input_link_url.value == 'http://' || input_link_url.value == '') {
							input_link_url.value = '';
                        } else if (chkVal && !LayerWin.urlCheckOrPass(input_link_url.value)) {
							alert(LayerWin.RAONKEditor_lang.msg.alert_url);
							input_link_url.focus();
							return;
						}
					}
					popTap[0].className = "EdiTor_Popup_contents view";
					popTap[1].className = "EdiTor_Popup_contents none";
					popTap[2].className = "EdiTor_Popup_contents none";

					document.getElementById('img_dlg_back').style.display = 'none';

					LayerWin.setFocusFirstAndLast(document, div_tab_arr[0].getElementsByTagName('a')[0]);
					break;
				case 1:
					popTap[0].className = "EdiTor_Popup_contents none";
					popTap[1].className = "EdiTor_Popup_contents view";
					popTap[2].className = "EdiTor_Popup_contents none";

					document.getElementById('img_dlg_back').style.display = 'none';

					if (input_link_url.value == '') {
						input_link_url.value = 'http://';
					}
					setCursorPos(input_link_url, true, false);
					LayerWin.setFocusFirstAndLast(document, div_tab_arr[1].getElementsByTagName('a')[0]);
					break;
				case 2:
					popTap[0].className = "EdiTor_Popup_contents none";
					popTap[1].className = "EdiTor_Popup_contents none";
					popTap[2].className = "EdiTor_Popup_contents view";

					if (document.getElementById('not_apply_border').checked) {
						document.getElementById('img_dlg_back').style.display = '';
					}

					LayerWin.setFocusFirstAndLast(document, div_tab_arr[2].getElementsByTagName('a')[0]);
					break;
				default: return;
			}
		}

		function lineCountCheck(object, mode, max, min) {
			if (parseInt(object.value, 10) < parseInt(min, 10)) {
				if (mode == "L") {
					alert(LayerWin.RAONKEditor_lang.msg.detailTableInsertLineThicknessMinAlert);
					object.focus();
				}
				object.value = min;
			} else if (parseInt(object.value, 10) > parseInt(max, 10)) {
				if (mode == "L") {
					alert(LayerWin.RAONKEditor_lang.msg.detailTableInsertLineThicknessMaxAlert);
					object.focus();
				}
				object.value = max;
			}
		}

		function addEventImgWidthHeight() {
			var img_width = document.getElementById('img_width');
			var img_height = document.getElementById('img_height');
			var ratio = document.getElementById("img_ratio");
			var selectWidthUnit = document.getElementById('img_width_unit');
			var selectHeightUnit = document.getElementById('img_height_unit');

			//ratio checked field keyup Event
			var ratio_width_keyup = (function () {
				if (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px') {
					if (ratio.getAttribute("ratio-checked") == "true") {
                        if (G_SelectedFiles.length == 1) {
                            var y = ((parseInt(G_SelectedFiles[0].height, 10) * parseInt(img_width.value, 10)) / parseInt(G_SelectedFiles[0].width, 10));
							img_height.value = isNaN(y) ? img_height.value : Math.round(y);
						} else {
                            var imgLen = G_SelectedFiles.length;
                            for (var i = 0; i < imgLen; i++) {
                                G_SelectedFiles[i].newHeight = ((parseInt(G_SelectedFiles[i].height, 10) * parseInt(img_width.value, 10)) / parseInt(G_SelectedFiles[i].width, 10));
							}
						}
					}
				}
			});
			var ratio_height_keyup = (function () {
				if (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px') {
					if (ratio.getAttribute("ratio-checked") == "true") {
                        if (G_SelectedFiles.length == 1) {
                            var x = ((parseInt(G_SelectedFiles[0].width, 10) * parseInt(img_height.value, 10)) / parseInt(G_SelectedFiles[0].height, 10));
							img_width.value = isNaN(x) ? img_width.value : Math.round(x);
						} else {
                            var imgLen = G_SelectedFiles.length;
                            for (var i = 0; i < imgLen; i++) {
                                G_SelectedFiles[i].newWidth = ((parseInt(G_SelectedFiles[i].height, 10) * parseInt(img_width.value, 10)) / parseInt(G_SelectedFiles[i].width, 10));
							}
						}
					}
				}
			});

			KEDITORTOP.RAONKEDITOR.util.addEvent(img_width, "keyup", ratio_width_keyup);
			KEDITORTOP.RAONKEDITOR.util.addEvent(img_height, "keyup", ratio_height_keyup);
		}

		function dialogPartialInit() {
            var imgTitle = document.getElementById('img_title');
            var imgAlt = document.getElementById('img_alt');
            var imagId = document.getElementById('img_id');
			var imagClass = document.getElementById('img_class');
            var originalSize = document.getElementById('original_size');
			var continueInsert = document.getElementById('continue_insert');
            var continueInsertMenu = document.getElementById('continue_insert_menu');
			var maintainValue = document.getElementById('maintain_value');
			var imageSpacing = document.getElementById('image_spacing');
            var createOnlyItem = document.getElementById('create_only_item');

			if (imgTitle) {
				imgTitle.value = '';
				imgTitle.disabled = false;
			}
            if (imgAlt) {
				imgAlt.value = '';
				imgAlt.disabled = false;
			}
            if (imagId) {
				imagId.value = '';
				imagId.disabled = false;
                if (elemModify) {
                    imagId.value = elemModify.id;
                }
			}
            if (imagClass) {
				imagClass.value = '';
				imagClass.disabled = false;
				if (elemModify) {
					imagClass.value = elemModify.className;
				}
			}
            if (originalSize) {
                originalSize.checked = false;
			}
            			
            document.getElementById('img_width').value = '';
            document.getElementById('img_height').value = '';

			if (elemModify != null) {
                createOnlyItem.style.display = 'none';

				if (KEDITORTOP.RAONKEDITOR.browser.ie && KEDITORTOP.RAONKEDITOR.browser.ieVersion < 10) {
                    document.getElementById('original_size_td').style.display = 'none';
				}
			} else {
				if (LayerWin._k_editor._config.imageContinueInsertMaintainValue == "1") {
                    maintainValue.checked = true;
				}
			}
			continueInsertClicked();
		}
	</script>
</head>
<body style="margin:0px; padding:0px; " onload="page_loaded_event(); page_dialog_loaded_event();">
	<div id="keditor_dialog_box" class="">
		<div id="img_dlg_back" style="display:none;"></div>
		<!-- Header -->
		<div class="EdiTor_Popup_header">
			<span id="span_title" class="subject">이미지</span><span class="text"></span>
			<div class="close">
				<a href="javascript:event_keditor_image_upload_cancel();" title="close"></a>
			</div>
		</div>
		<!-- // Header -->
		<!-- Contents / general -->
		<div class="EdiTor_Popup_contents view" id="tab_1">
			<div class="con_btn">
				<a href="javascript:void(0);" id="first_tab_1" class="on"><span id="span_first_tab_1"></span></a>
				<a href="javascript:popup_toggle(1);" class="off" id="a_secon_tab_1"><span id="span_secon_tab_1"></span></a>
				<a href="javascript:popup_toggle(2);" class="off"><span id="span_third_tab_1"></span></a>
			</div>
			<input type="hidden" id="upload_url" name="upload_url" value="" />
			<form name="keditor_upload_form" id="keditor_upload_form" method="post" target="upload_frame" enctype="multipart/form-data" action="">
				<div id="div_config">
					<input type="hidden" id="k00" name="k00" value="" />
					<input type="hidden" id="userField" value="" />
					<input type="hidden" id="document_domain" name="document_domain" value="" />
					<input type="hidden" id="original_image_width" name="original_image_width" value="" />
					<input type="hidden" id="original_image_height" name="original_image_height" value="" />
				</div>
				<div id="contents_tab_1" class="contents" style="height:320px; overflow: hidden;">
					<div class="speech_balloons" id="access_div" style="position:absolute; display:none; width:317px;">
						<span class="sp_t" style="width:300px;"><p></p></span>
						<span class="sp_arrow">
							<img src="../images/editor/dialog/speech_arrow.gif" width="15" height="16" alt="web accessibility" />
						</span>
					</div>
					<div class="con border">
						<table cellpadding="0" cellspacing="0">

							<tr id="file_tag_or_drop_zone"></tr>

							<tr>
								<td><input id="radio_image_url" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="2" /></td>
								<td><label for="radio_image_url" id="label_image_url_info">이미지 경로</label></td>
								<td>
									<input type="text" id="img_web_url" name="img_web_url" style="width:320px;" class="con_input" disabled="disabled" />
								</td>
							</tr>
							<tr>
								<td colspan="2"><label for="img_title" id="label_image_title">이미지 제목</label></td>
								<td>
									<input id="img_title" name="img_title" type="text" style="width:320px;" class="con_input" />
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<label for="img_alt" id="label_image_description">이미지 설명</label>
									<a href="javascript:LayerWin.showAccessPopup(document, document.getElementById('access_img'), document.getElementById('access_div'), LayerWin.RAONKEditor_lang.access_explain.image, 15, 0);">
										<img id="access_img" src="../images/editor/dialog/editor_a.gif" alt="web_accessibility" style="border:0;" />
									</a>
								</td>
								<td><input id="img_alt" name="img_alt" type="text" style="width:320px;" class="con_input" /><textarea id="paste_temp" style="width:0px; height:0px; position:absolute; left:-1000px;" tabindex="-1"></textarea></td>
							</tr>
							<tr id="figure"></tr>
						</table>
					</div>
					<iframe id="upload_frame" name="upload_frame" frameborder="0" style="width:0px; height:0px; display:none;" title="K Editor Upload"></iframe>
					<div class="con">
						<table cellpadding="0" cellspacing="0">
							<tr>
								<td width="20%"><label for="img_width" id="label_width">너비</label></td>
								<td width="25%">
									<div id="img_width_div"><input id="img_width" name="img_width" type="text" style="width:55px;" class="con_input" /><select id="img_width_unit" onchange="imgSizeUnitChange(this.value, 'w')"><option selected value="px">px</option><option value="%">%</option></select></div>
								</td>
								<td rowspan="2" align="left" width="10%">
									<a id="img_ratio" style="display:none;" ratio-checked="false" class="img_link_btn" title="비율 유지"></a>
								</td>
								<td width="20%">
									<label for="img_id" id="label_id">ID : </label>
								</td>
								<td>
									<input id="img_id" name="img_id" type="text" style="width: 90%;" class="con_input" />
								</td>
							</tr>
							<tr>
								<td width="20%"><label for="img_height" id="label_height">높이</label></td>
								<td width="25%">
									<div id="img_height_div"><input id="img_height" name="img_height" type="text" style="width:55px;" class="con_input" /><select id="img_height_unit" onchange="imgSizeUnitChange(this.value, 'h')"><option selected value="px">px</option><option value="%">%</option></select></div>
								</td>
								<td>
									<label for="img_class" id="label_class">Class : </label>
								</td>
								<td>
									<input id="img_class" name="img_class" type="text" style="width: 90%;" class="con_input" />
								</td>
							</tr>
							<tr>
								<td width="20%"><label for="img_align" id="label_img_align">정렬</label></td>
								<td width="25%">
									<select id="img_align" name="img_align" style="width:90px;">
										<option value="">default</option>
										<option value="left">Left</option>
										<option value="right">Right</option>
										<option value="top">Top</option>
										<option value="middle">Middle</option>
										<option value="baseline">Baseline</option>
										<option value="bottom">Bottom</option>
										<option value="texttop">Text Top</option>
										<option value="absmiddle">absMiddle</option>
										<option value="absbottom">absBottom</option>
									</select>
								</td>
								<td rowspan="5" align="left" width="10%"></td>
								<td width="20%">
									<!--<label for="img_border" id="label_img_border">테두리</label>-->
								</td>
								<td width="25%">
									<!--<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td width="50px">
												<div class="no_a">
													<input id="img_border" name="img_border" type="text" style="height:20; width:30px;" class="con_input" value="0" />
													<ul>
														<li id="border_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
														<li id="border_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
													</ul>
												</div>
											</td>
											<td>px</td>
										</tr>
									</tbody>
									</table>-->
								</td>
							</tr>
							<tr>
								<td width="20%"><label for="img_margin_left" id="label_margin_left">좌여백</label></td>
								<td width="25%">
									<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
										<tbody>
											<tr>
												<td width="50px">
													<div class="no_a">
														<input id="img_margin_left" name="img_margin_left" type="text" style="width:29px;" class="con_input" value="0" />
														<ul>
															<li id="margin_left_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
															<li id="margin_left_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
														</ul>
													</div>
												</td>
												<td>px</td>
											</tr>
										</tbody>
									</table>
								</td>
								<td><label for="img_margin_right" id="label_margin_right">우여백</label></td>
								<td>
									<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
										<tbody>
											<tr>
												<td width="50px">
													<div class="no_a">
														<input id="img_margin_right" name="img_margin_right" type="text" style="width:29px;" class="con_input" value="0" />
														<ul>
															<li id="margin_right_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
															<li id="margin_right_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
														</ul>
													</div>
												</td>
												<td>px</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
							<tr>
								<td width="20%"><label for="img_margin_top" id="label_margin_top">상여백</label></td>
								<td width="25%">
									<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
										<tbody>
											<tr>
												<td width="50px">
													<div class="no_a">
														<input id="img_margin_top" name="img_margin_top" type="text" style="width:29px;" class="con_input" value="0" />
														<ul>
															<li id="margin_top_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
															<li id="margin_top_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
														</ul>
													</div>
												</td>
												<td>px</td>
											</tr>
										</tbody>
									</table>
								</td>
								<td><label for="img_margin_bottom" id="label_margin_bottom">하여백</label></td>
								<td>
									<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
										<tbody>
											<tr>
												<td width="50px">
													<div class="no_a">
														<input id="img_margin_bottom" name="img_margin_bottom" type="text" style="width:29px;" class="con_input" value="0" />
														<ul>
															<li id="margin_bottom_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
															<li id="margin_bottom_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
														</ul>
													</div>
												</td>
												<td>px</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
							<tr>
								<td width="45%" colspan="2" id="original_size_td"><input type="checkbox" id="original_size" /><label style="vertical-align:middle;" for="original_size" id="label_original_size">원본크기 유지</label></td>
								<td colspan="2" id="create_only_item">
									<input type="checkbox" id="continue_insert" /><label style="vertical-align:middle;" for="continue_insert" id="label_continue_insert">이미지 계속 삽입</label>
								</td>
							</tr>
							<tr id="continue_insert_menu">
								<td width="45%" colspan="2"><input type="checkbox" id="image_spacing" /><label style="vertical-align:middle;" for="image_spacing" id="label_image_spacing">이미지 간격 띄우기</label></td>
								<td colspan="2">
									<input type="checkbox" id="maintain_value" /><label style="vertical-align:middle;" for="maintain_value" id="label_maintain_value">값 유지</label>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</form>
		</div>
		<!-- // Contents -->
		<!-- hyperlink tap  -->
		<div class="EdiTor_Popup_contents none" id="tab_2">
			<div class="con_btn">
				<a href="javascript:popup_toggle(0);" class="off"><span id="span_first_tab_2"></span></a>
				<a href="javascript:void(0);" class="on" id="a_secon_tab_2"><span id="span_secon_tab_2"></span></a>
				<a href="javascript:popup_toggle(2);" class="off"><span id="span_third_tab_2"></span></a>
			</div>
			<div id="contents_tab_2" class="contents" style="height:320px; overflow: view;">
				<div class="con border">
					<table cellpadding="0" cellspacing="0">
						<tr>
							<td width="5%"></td>
							<td width="22%"><label for="link_url" id="label_hplink_url_info"></label></td>
							<td width="73%">
								<input id="link_url" name="link_url" type="text" style="width:320px;" class="con_input" />
							</td>
						</tr>
						<tr>
							<td></td>
							<td><label for="link_title" id="label_hplink_title"></label></td>
							<td>
								<input id="link_title" name="link_title" type="text" style="width:320px;" class="con_input" />
							</td>
						</tr>
						<tr>
							<td></td>
							<td><label for="link_target" id="label_hplink_target"></label></td>
							<td>
								<select id="link_target" name="link_target" style="width:320px;"></select>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<!-- hyperlink tap -->
		<!-- edge tap -->
		<div class="EdiTor_Popup_contents none" id="tap_3">
			<div class="con_btn">
				<a href="javascript:popup_toggle(0);" class="off"><span id="span_first_tab_3"></span></a>
				<a href="javascript:popup_toggle(1);" class="off" id="a_secon_tab_3"><span id="span_secon_tab_3"></span></a>
				<a href="javascript:void(0);" class="on"><span id="span_third_tab_3"></span></a>
			</div>
			<div id="contents_tab_3" class="contents" style="height:320px; overflow: view;">
				<div class="con border">
					<table cellspacing="0" cellpadding="0">
						<tbody>
							<tr>
								<td width="25%">
									<label id="label_line_style" for="line_style_btn">선 모양</label>
								</td>
								<td width="25%">
									<div style="z-index: 10; position: relative;">
										<button class="line_btn" type="button" name="line_style_btn" id="line_style_btn" onclick="fnLineStyleToggle();">
											<span id="line_style" class="cr" style="border-top: 1px solid #5d5d5d;"></span>
										</button>
										<div id="line_style_list" class="line_style" style="z-index: 1; position: absolute; left: 0px; top: 19px; _left: 2px; display: none;" tabindex="-1">
											<ul id="ul_line_style"></ul>
										</div>
									</div>
								</td>
								<td width="25%">
									<label id="label_line_kind" for="line_kind">선 종류</label>
								</td>
								<td width="25%">
									<select name="line_kind" id="line_kind" style="width: 90px;" onchange="imgLineKindChange(true);"></select>
								</td>
							</tr>
							<tr>
								<td>
									<span id="span_line_color">선 색상</span>
								</td>
								<td>
									<!-- 컬러피커 수정으로 인한 위치 변경 by jh 2017.03.28 -->
									<!--<div class="tbd" style="cursor: pointer;" onclick="javascript:LayerWin.showColorPopup(document,document.getElementById('line_color'),'borderTopColor','line_color',-5,6,null);">-->
									<div class="tbd" style="cursor: pointer;" onclick="javascript:LayerWin.showColorPopup(document,document.getElementById('line_color'),'borderTopColor','line_color',-5,-36,null);">
										<a href="javascript:void(0);">
											<span class="tbd_color" id="line_color" style="border-top-color: rgb(0, 0, 0);"></span>
										</a>
									</div>
								</td>
								<td>
									<label id="label_line_thickness" for="line_thickness">선 두께</label>
								</td>
								<td>
									<table style="line-height: normal; table-layout: auto;" cellspacing="0" cellpadding="0">
										<tbody>
											<tr>
												<td>
													<div class="no_ab">
														<input name="line_thickness" class="con_input" id="line_thickness" onkeydown="LayerWin.onlyNumber(event);" onkeyup="lineThicknessChange();" onblur="lineCountCheck(this,'L','10','0');" type="text" maxlength="4">
														<ul id="line_thickness_updn_btn">
															<li onclick="LayerWin.click_plus_func(document.getElementById('line_thickness'),10,1,lineThicknessChange)"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" alt="" src="../images/editor/dialog/btn/editor_ta_btn.gif"></a></li>
															<li onclick="LayerWin.click_minus_func(document.getElementById('line_thickness'),0,1,false,lineThicknessChange)"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" alt="" src="../images/editor/dialog/btn/editor_ba_btn.gif"></a></li>
														</ul>
													</div>
												</td>
												<td width="10">px</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
							<tr id="tr_not_apply_border" style="display:none;">
								<td colspan="3">
									<input type="checkbox" id="not_apply_border" />
									<label style="vertical-align:middle;" id="label_not_apply_border" for="not_apply_border">테두리 변경 안함</label>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<!-- edge tap -->
		<!-- Footer -->
		<div class="EdiTor_Popup_footer">
			<span id="keditor_loading" style="display:none;"><img src="../images/editor/dialog/loading.gif" alt="working" style="vertical-align:middle; " /> Uploading... </span>
			<a href="javascript:void(0);" class="confirm" id="btn_ok_a"><span id="btn_ok">확인</span></a>
			<a href="javascript:event_keditor_image_upload_cancel();" class="cancel" id="abtn_cancel"><span id="btn_cancel">취소</span></a>
		</div>
		<!-- // Footer -->
	</div>
</body>
</html>