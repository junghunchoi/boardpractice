var console=window&&window.console?window.console:{log:function(){}};_k_editor=null;var KEDITORTOP=parent;KEDITORTOP.RAONKEDITOR=parent.RAONKEDITOR;KEDITORTOP.G_CURRKEDITOR=null;parent.KEDITORTOP=KEDITORTOP;KEDITORTOP.KEDITORDOC=parent.document;KEDITORTOP.G_LIGHTVIEWDOC||(KEDITORTOP.G_LIGHTVIEWDOC={});
function loadEditorFn(d,c,a){var f=document.getElementById("editorContentArea"),b;b=""+('<div id="ue_editor_main_'+d+'" class="K_EdiTor" style="z-index:99999; width:100%; "  oncontextmenu="return false">')+('\t<div id="ue_editor_holder_'+d+'" class="ue_editor_'+c.style.skinName+'_lr" ');if(KEDITORTOP.RAONKEDITOR.browser.mobile||KEDITORTOP.RAONKEDITOR.browser.iOS)b="1"==_this._config.view_mode_auto_height?b+' style="overflow:hidden;"':b+' style="overflow:scroll; -webkit-overflow-scrolling:touch;"';
b+="\t></div>";f.innerHTML=b;f=document.getElementById("ue_editor_holder_"+d);"0"==c.editorborder&&(f.style.borderWidth="0px");var e=document.createElement("iframe");e.id="raonk_lightview_"+d;e.title="raonk_lightview_"+d;e.frameBorder=0;e.style.width="100%";e.style.height="100%";e.style.borderWidth="0px";if(KEDITORTOP.RAONKEDITOR.browser.mobile||KEDITORTOP.RAONKEDITOR.browser.iOS)e.style.overflow="hidden",e.style.display="inline-block";b="document.open();"+(KEDITORTOP.RAONKEDITOR.util.IsCustomDomain(document)?
'document="'+document+'";':"")+" document.close();";b=KEDITORTOP.RAONKEDITOR.browser.ie&&12>KEDITORTOP.RAONKEDITOR.browser.ieVersion?"javascript:void(function(){"+encodeURIComponent(b)+"}())":"";e.src=b;b=c.style.height;if(0<KEDITORTOP.RAONKEDITOR.util.parseIntOr0(b))if(-1<b.toString().indexOf("%"))f.style.height=b;else{var k=2;7==KEDITORTOP.RAONKEDITOR.browser.trident||12<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.quirks||(k=0);f.style.height=parseInt(b,10)-k+"px"}b=
{};b.Auto=KEDITORTOP.RAONKEDITOR.util.getDocType(KEDITORTOP.document);b.None="";b["XHTML 1.1"]='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">';b["XHTML 1.0 Transitional"]='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">';b["XHTML 1.0 Strict"]='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">';b["XHTML 1.0 Frameset"]=
'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">';b["HTML 5"]="<!DOCTYPE html>";b["HTML 4.01 Transitional"]='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">';b["HTML 4.01 Strict"]='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">';b["HTML 4.01 Frameset"]='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">';
b["HTML 3.2"]='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">';b["HTML 2.0"]='<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">';KEDITORTOP.G_CURRKEDITOR._docType=b;a._PageProp={};a._PageProp.doctype="HTML 5";""!=c.docType&&(a._PageProp.doctype=c.docType);e.onload=function(){e.onload=null;var b=e.contentDocument?e.contentDocument:e.contentWindow.document;b.body.spellcheck="false";b.body.contentEditable="false";b.body.style.cursor="auto";a._BODY=b.body;a._DOC=b;KEDITORTOP.G_LIGHTVIEWDOC[d]=b;
if(a._config.userCssUrl&&""!=a._config.userCssUrl){var c=b.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=a._config.userCssUrl;b.getElementsByTagName("head")[0].appendChild(c)}KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT||(KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT={});var c=function(a){var b="which"in a?a.which:a.keyCode;(a.ctrlKey||a.metaKey)&&"0"==KEDITORTOP.G_CURRKEDITOR._config.viewModeAllowCopy&&67==b&&KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)},f=function(a){"0"==KEDITORTOP.G_CURRKEDITOR._config.viewModeBrowserMenu&&
KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)};KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT._lightView_Keydown=c;KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT._lightView_Contextmenu=f;KEDITORTOP.RAONKEDITOR.util.addEventEx(b,"keydown",c,!1);KEDITORTOP.RAONKEDITOR.util.addEventEx(b,"contextmenu",f,!1);KEDITORTOP.RAONKEDITOR.IsEditorLoadedHashTable&&KEDITORTOP.RAONKEDITOR.IsEditorLoadedHashTable.setItem(a.ID,"1");try{"function"===typeof a._config.event.creationComplete?a._config.event.creationComplete(a.ID):"function"===
typeof a._config.LoadedEvent?a._config.LoadedEvent(a.ID):"function"===typeof KEDITORTOP.RAONKEDITOR_CreationComplete&&KEDITORTOP.RAONKEDITOR_CreationComplete(a.ID)}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}KEDITORTOP.RAONKEDITOR.InitEditorDataHashTable&&(b=KEDITORTOP.RAONKEDITOR.InitEditorDataHashTable.getItem(a.ID),"undefined"!=typeof b&&("object"==typeof b?"setHtmlValueExWithDocType"==b.mode?KEDITORTOP.RAONKEDITOR.setHtmlValueExWithDocType(b.value,
a.ID):"setHtmlValueEx"==b.mode?KEDITORTOP.RAONKEDITOR.setHtmlValueEx(b.value,a.ID):"setHtmlValue"==b.mode?KEDITORTOP.RAONKEDITOR.setHtmlValue(b.value,a.ID):"setBodyValueEx"==b.mode?KEDITORTOP.RAONKEDITOR.setBodyValueEx(b.value,a.ID):"setBodyValueExLikeDiv"==b.mode?KEDITORTOP.RAONKEDITOR.setBodyValueExLikeDiv(b.value,a.ID):"setBodyValue"==b.mode?KEDITORTOP.RAONKEDITOR.setBodyValue(b.value,a.ID):"setOriginalHtmlValue"==b.mode?KEDITORTOP.RAONKEDITOR.setOriginalHtmlValue(b.value,a.ID):"setHtmlContents"==
b.mode&&KEDITORTOP.RAONKEDITOR.setHtmlContents(b.value,a.ID):KEDITORTOP.RAONKEDITOR.setHtmlContentsEw(b,a.ID),KEDITORTOP.RAONKEDITOR.InitEditorDataHashTable.removeItem(a.ID)))};f.appendChild(e)}
function lightViewFunc(d,c,a){var f="",b="",e=a._FRAMEWIN.document.getElementById("raonk_lightview_"+a.ID),e=e.contentDocument?e.contentDocument:e.contentWindow.document,b=e.getElementsByTagName("head")[0].outerHTML;a._docType[a._PageProp.doctype]&&(f=a._docType[a._PageProp.doctype]);switch(d){case "setEditorMode":"edit"==c&&(a._userconfig.Mode=c,KEDITORTOP.G_LIGHTVIEWDOC[a.ID]=KEDITORTOP.G_LIGHTVIEWDOC[a.ID].body.outerHTML,delete KEDITORTOP.RAONKEDITOR.RAONKMULTIPLE["raonk_frame_"+a.ID],_k_editor=
new KEDITORTOP.RAONKEditor(a._userconfig));break;case "setBodyValue":openWriteClose(e,f+"<html>"+b+("<body>"+c+"</body>")+"</html>",a);break;case "setBodyValueEx":openWriteClose(e,f+"<html>"+b+c+"</html>",a);break;case "setHtmlValue":d=getRemoveHeadScript(c);c=d.html;a._config.userCssUrl&&""!=a._config.userCssUrl&&a._config.userCssAlwaysSet&&"1"==a._config.userCssAlwaysSet&&(html=userCssSet(html,a._config.userCssUrl));openWriteClose(e,f+"<html>"+c+"</html>",a);break;case "setHtmlValueEx":d=getRemoveHeadScript(c);
c=d.html;a._config.userCssUrl&&""!=a._config.userCssUrl&&a._config.userCssAlwaysSet&&"1"==a._config.userCssAlwaysSet&&(c=userCssSet(c,a._config.userCssUrl));openWriteClose(e,f+c,a);break;case "setHtmlValueExWithDocType":d=getRemoveHeadScript(c);c=d.html;a._config.userCssUrl&&""!=a._config.userCssUrl&&a._config.userCssAlwaysSet&&"1"==a._config.userCssAlwaysSet&&(c=userCssSet(c,a._config.userCssUrl));openWriteClose(e,c,a);break;case "setOriginalHtmlValue":a._config.userCssUrl&&""!=a._config.userCssUrl&&
a._config.userCssAlwaysSet&&"1"==a._config.userCssAlwaysSet&&(c=userCssSet(c,a._config.userCssUrl)),openWriteClose(e,c,a)}}function isViewMode(d){var c=d;if(void 0==d||null==d)c=KEDITORTOP.G_CURRKEDITOR;return"view"==c._config.mode||"lightview"==c._config.mode?!0:!1}function groupingIcon(d){}function getClientRect(d){var c={left:0,top:0,right:0,bottom:0};try{c=d.getBoundingClientRect()}catch(a){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(a)}return c}
function set_view_mode_auto_height(d){try{setTimeout(function(){var a=KEDITORTOP.G_CURRKEDITOR;d&&(a=d);if("1"==a._config.view_mode_auto_height||"1"==a._config.view_mode_auto_width){var c=KEDITORTOP.G_LIGHTVIEWDOC[d.ID].body,b=a._DOC.documentElement,e=a._config.style.height,k=a._config.style.width,l=0;0>e.indexOf("%")&&(l=parseInt(e,10));var p=0;0>k.indexOf("%")&&(p=parseInt(k,10));var h=0,g=0,h=KEDITORTOP.document.getElementById(a._config.holderID),g=getClientRect(h),m,n;void 0==g.height?m=h.offsetHeight:
m=g.height;void 0==g.width?n=h.offsetWidth:n=g.width;m=Math.round(m);n=Math.round(n);if("1"==a._config.view_mode_auto_height){e="";KEDITORTOP.RAONKEDITOR.browser.mobile&&KEDITORTOP.RAONKEDITOR.browser.iOS&&(e=c.style,c.style="overflow:initial !important");h=Math.max(c.scrollHeight,c.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight);m>h&&(h=m);KEDITORTOP.RAONKEDITOR.browser.mobile&&KEDITORTOP.RAONKEDITOR.browser.iOS&&(c.style=e);var q=document.body.offsetWidth<c.scrollWidth,r=document.body.offsetHeight<
c.scrollHeight;if(q||r)h+=30}else h=l,-1<e.indexOf("%")&&(h=e);if("1"==a._config.view_mode_auto_width){if(g=Math.max(c.scrollWidth,c.offsetWidth,b.clientWidth,b.scrollWidth,b.offsetWidth),q||r)g+=10}else g=p,-1<k.indexOf("%")&&(g=k);n>g&&(g=n);KEDITORTOP.RAONKEDITOR.setSize(g,h,a.ID)}},250)}catch(c){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(c)}}
function openWriteClose(d,c,a){d.open("text/html","replace");d.write(c);d.close();set_view_mode_auto_height(a);KEDITORTOP.RAONKEDITOR.util.addEventEx(d,"keydown",KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT._lightView_Keydown,!1);KEDITORTOP.RAONKEDITOR.util.addEventEx(d,"contextmenu",KEDITORTOP.RAONKEDITOR.LIGHTVIEWEVT._lightView_Contextmenu,!1);try{"function"===typeof a._config.event.setComplete?a._config.event.setComplete(a.ID):"function"===typeof KEDITORTOP.RAONKEDITOR_SetComplete&&KEDITORTOP.RAONKEDITOR_SetComplete(a.ID)}catch(f){KEDITORTOP&&
KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(f)}}
function getRemoveHeadScript(d){var c={html:d,scriptsAry:[]},a=d.toLowerCase().indexOf("<head"),f=d.toLowerCase().indexOf("</head>"),b=d.substring(0,a),a=d.substring(a,f+7);d=d.substring(f+7,d.length);var f=RegExp("<script[^>]*src=([\\s\\S]*?)>[\\s\\S]*?\x3c/script>","gi"),e=a.match(f);if(e){for(var k=e.length,l=0;k>l;l++)f=RegExp('<script[^>]*src="([\\s\\SS]*?)"([\\s\\S]*?)>[sS]*?\x3c/script>',"gi"),f.test(e[l]),c.scriptsAry.push(RegExp.$1);f=RegExp("<script[^>]*src=([\\s\\S]*?)>[\\s\\S]*?\x3c/script>",
"gi");a=a.replace(f,"");c.html=b+a+d}return c}function userCssSet(d,c){var a=strRetvalue=d,f='<link href="'+c+'" rel="stylesheet" type="text/css">';try{if(-1==d.indexOf(f)){var b=d.indexOf("</head>");if(-1==b){var e=d.indexOf("<body");strRetvalue=-1==e?"<head>"+f+"</head><body>"+d+"</body>":d.substring(0,e)+"<head>"+f+"</head>"+d.substring(e)}else strRetvalue=d.substring(0,b)+f+d.substring(b)}}catch(k){strRetvalue=a}return strRetvalue};
