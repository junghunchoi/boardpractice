var console=window&&window.console?window.console:{log:function(){}},G_IMAGE_ALLOW_EXT=["jpg","jpeg","png","gif","bmp"],G_dragDropFileObj=null,LayerFrame=KEDITORTOP.KEDITORDOC.getElementById("raonk_frame_"+KEDITORTOP.G_CURRKEDITOR.ID),LayerWin=LayerFrame.contentWindow,LayerDoc=LayerWin.document;KEDITORTOP.RAONKEDITOR.util.overrideFn(window);Array.prototype.indexOf||(Array.prototype.indexOf=function(a,c){c=c||0;for(var b=this.length;c<b;){if(this[c]===a)return c;++c}return-1});
try{HTMLCanvasElement&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,c,b){var d=this;setTimeout(function(){for(var e=atob(d.toDataURL(c,b).split(",")[1]),f=e.length,g=new Uint8Array(f),h=0;h<f;h++)g[h]=e.charCodeAt(h);a(new Blob([g],{type:c||"image/png"}))})}})}catch(e$$4){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(e$$4)}
function keditor_setting(){var a=document.getElementById("grid_color").style.backgroundColor,c=document.getElementById("grid_color_name").innerHTML,b=document.getElementById("lang").value,d=document.getElementById("grid_spans").value,e=document.getElementsByName("grid_form")[0].checked?"line":"dot",f=document.getElementById("page_title").value,g=document.getElementById("encoding").value,h=document.getElementById("doctype").value,m=document.getElementById("xhtml").checked?document.getElementById("xhtml").value:
"",k=document.getElementById("auto_list").value,l=document.getElementById("check_auto_save").checked,n=document.getElementById("input_auto_save").value,n="none"!=document.getElementById("div_auto_save").style.display?l?""!=n&&"0"!=n?"1,"+document.getElementById("input_auto_save").value:"2":"2":"0",l=LayerWin._k_editor._config.accessibility;if("1"==l)""==f&&alert(LayerWin.RAONKEditor_lang.msg.alert_page_title_access1);else if("2"==l&&""==f){alert(LayerWin.RAONKEditor_lang.msg.alert_page_title_access2);
document.getElementById("page_title").focus();return}var p=l="",q="",l="1"==LayerWin._k_editor._config.personalSettingUseFontFamilyKeyin?""==document.getElementById("personal_font_family").value?document.getElementById("personal_font_family").value:LayerWin.getRealNameThroughDisplayName(document.getElementById("font_family_keyin").value):document.getElementById("personal_font_family").value;"1"==LayerWin._k_editor._config.personalSettingUseFontSizeKeyin?""==document.getElementById("personal_font_size").value?
p=document.getElementById("personal_font_size").value:(p=document.getElementById("font_size_keyin").value,p=isNaN(p)?p:p+"pt"):p=document.getElementById("personal_font_size").value;var q="1"==LayerWin._k_editor._config.personalSettingUseLineHeightKeyin?""==document.getElementById("personal_line_height").value?document.getElementById("personal_line_height").value:document.getElementById("line_height_keyin").value:document.getElementById("personal_line_height").value,u=document.getElementById("word_break").value,
x=document.getElementById("word_wrap").value,r=document.getElementById("check_apply_word_break_for_table").checked,t=document.getElementById("personal_paste_to_image").value;dataJson={grid_color:a,grid_color_nm:c,grid_spans:d,grid_form:e,page_title:f,encoding:g,lang:b,doctype:h,xhtml:m,auto_save:n,auto_list:k,personal_font_family:l,personal_font_size:p,personal_line_height:q,word_break_type:u,word_wrap_type:x,word_break_for_all_table:r,personal_paste_to_image:t};LayerWin.event_keditor_setting(dataJson,
window.frameElement.parentNode.parentNode)}function keditor_horizontal_line(a,c){var b;if(!a){b=document.getElementById("width_1").value;var d=document.getElementById("height").value,e=document.getElementById("align").value,f=document.getElementById("hr_color").style.borderTopColor;b={width:b,height:d,align:e,color:f}}LayerWin.event_keditor_horizontal_line(b,a,c,window.frameElement.parentNode.parentNode)}
function loading_image_show(a){var c=document.getElementById("keditor_loading"),b="";0==a?(b="none",document.body.style.cursor="default"):document.body.style.cursor="wait";c&&(c.style.display=b);"1"==LayerWin._k_editor._config.uploadUseHTML5&&a&&c&&c.childNodes&&(c.childNodes[1].nodeValue=" Uploading... ")}function web_url_remove_char(a){a=KEDITORTOP.RAONKEDITOR.util.trim(a);a=a.replace(/(\r\n|\r|\n)/gm,"");a=a.replace(/&#13;/g,"");a=a.replace(/&#10;/g,"");return a=a.replace(/&#32;/g,"")}
function setProgressBar(){var a=LayerWin.KEDITORTOP.G_CURRKEDITOR.imageFileInfo,a=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a.uploadData.uploadedFileCnt/a.validData.realUploadFileCnt*100),c=document.getElementById("keditor_loading");c&&c.childNodes&&(c.childNodes[1].nodeValue=" Uploading... "+a+"%")}
function event_keditor_image_link(){var a=document.getElementById("img_web_url").value,c=document.getElementById("img_width").value,b=document.getElementById("img_height").value,d=document.getElementById("img_alt").value,e=document.getElementById("img_title").value,f=document.getElementById("img_v_space").value,g=document.getElementById("img_h_space").value,h=document.getElementById("img_align"),h=h.options[h.selectedIndex].value,m="";document.getElementById("img_border")&&(m=document.getElementById("img_border").value);
var k=document.getElementById("link_url").value,l=document.getElementById("link_title").value,n=document.getElementById("link_target").value;LayerWin.event_keditor_image_upload("","","","0",a,0,0,d,"",{srcURL:a,width:c,height:b,title:e,alt:d,vspace:f,hspace:g,align:h,border:m,linkurl:k,linktitle:l,linktarget:n},window.frameElement.parentNode.parentNode)}
function event_keditor_image_upload_completed(a,c){var b=!1;document.getElementsByName("InputFlag")[1]&&(b=document.getElementsByName("InputFlag")[1].checked);"base64"!=LayerWin._k_editor._config.uploadMethod&&a&&(a=a.replace(/\r\n/g,""),a=a.replace(/\n/g,""),a=a.replace(/\t/g,""),a=web_url_remove_char(a));var d=document.getElementById("img_width").value,e=document.getElementById("img_height").value;if(!b){var f=0,g=0,h=document.getElementById("img_width_unit"),m=!1;h&&"%"==h.value&&(m=!0);if(null!=
a&&void 0!=a){try{var k={strUrl:a},l;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?l=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,k):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(l=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,k));null!=l&&void 0!=l&&(a=l)}catch(n){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(n)}var p=[];"0"!=LayerWin._k_editor._config.imageCustomPropertyDelimiter&&
(p=a.split(LayerWin._k_editor._config.imageCustomPropertyDelimiter),1<p.length&&(a=p[0]));h=a.split("?");2==h.length?(a=h[0],h=h[1].split("^"),2==h.length?(f=h[0],g=h[1]):3==h.length&&(f=h[0],g=h[1],a+="?"+h[2])):(""==d||m||(f=d),""==e||m||(g=e));"1"==LayerWin._k_editor._config.useKManager&&(0!=d.length&&(f=d),0!=e.length&&(g=e));if(elemModify&&"img"==elemModify.tagName.toLowerCase()){"[FAIL]"==a.substring(0,6)?(elemModify.src=LayerWin._k_editor._config.webPath.image+"dialog/image_xbox.jpg",elemModify.setAttribute("alt",
a.substring(6,a.length).replace(/"/g,"'"))):elemModify.src=a;"function"===typeof G_UploadCompleteCallBackFn&&G_UploadCompleteCallBackFn();return}h=!1;document.getElementById("original_size")&&(h=document.getElementById("original_size").checked);if(!h)if(h=LayerWin.getWidthForAutoBodyFit(LayerWin._k_editor,"img"),l=!1,m&&(KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f),f=Math.round(h*d/100),"2"==LayerWin._k_editor._config.image_auto_fit&&f>h&&(l=!0)),"1"==LayerWin._k_editor._config.imageAutoConvert){h=
LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(LayerWin._k_editor._config.image_convert_width);l=LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(LayerWin._k_editor._config.image_convert_height);var q=!1,u=!1,f=LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f),g=LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g);if(0!=h&&0==l)f>h&&(q=!0);else if(0==h&&0!=l)g>l&&(u=!0);else{var x=1*h/f,r=1*l/g;x<r?1>x&&(q=!0):1>r&&(u=!0)}q?(q=h/f,f=h,g=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(q*g)):u&&(q=l/g,g=
l,f=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(q*f))}else"1"==LayerWin._k_editor._config.image_auto_fit&&f>h||l?(q=h/f,f=h,g*=q,m?(h=d,d=f*d/100>=f?100:h):d>f&&(d=f,e=g)):"2"==LayerWin._k_editor._config.image_auto_fit&&(f>h||g>LayerWin._k_editor._defaultHeight)&&(d=LayerWin._k_editor._defaultHeight,e=d/h,l=g/f,l>e?g>d?(e=d,d=Math.round(f*e/g)):(d=f,e=g):l<e?f>h?(d=h,e=Math.round(g*d/f)):(d=f,e=g):(d=f,e=g))}m||("1"==LayerWin._k_editor._config.useKManager?(d=parseInt(f),e=parseInt(g)):0==d.length&&0<
f&&(d=parseInt(f),e=parseInt(g),g=f="",h=!1,document.getElementById("original_size")&&(h=document.getElementById("original_size").checked),!h&&0>LayerWin._k_editor._config.imgDefaultWidth.indexOf("%")&&(f=LayerWin._k_editor._config.imgDefaultWidth,g=LayerWin._k_editor._config.imgDefaultHeight),""!=f?KEDITORTOP.RAONKEDITOR.util.parseIntOr0(d)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f)&&(d=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(e,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(d,
10),e=isNaN(d)?e:Math.round(d),d=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f)):""!=g&&KEDITORTOP.RAONKEDITOR.util.parseIntOr0(e)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g)&&(e=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(d,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(e,10),d=isNaN(e)?d:Math.round(e),e=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g))));if("[FAIL]"==a.substring(0,6))try{var k={strType:"imageUpload",strMessage:a},t=KEDITORTOP.G_CURRKEDITOR.imageFileInfo.uploadData;
t.isUploaded=!0;if(t.isImageFileUpload&&KEDITORTOP.G_CURRKEDITOR.imageFileInfo.isMulti)t.errorFile.push({fileName:t.nowFileName,message:a});else{var v;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?v=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,k):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(v=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,k));if(0==v)return}}catch(z){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&
console.log(z)}if(!b&&"[FAIL]"==a.substring(0,6)&&"base64"!=LayerWin._k_editor._config.uploadMethod&&!KEDITORTOP.G_CURRKEDITOR.imageFileInfo.isMulti){b=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(b=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));b&&alert(a);return}a=web_url_remove_char(a)}var k=a,t=document.getElementById("img_alt").value,u=document.getElementById("img_title").value,D=r=x="";try{x=document.getElementById("img_id").value,r=document.getElementById("img_class").value,
D=document.getElementById("img_figure").checked}catch(C){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(C)}v=document.getElementById("img_margin_left").value;f=document.getElementById("img_margin_right").value;g=document.getElementById("img_margin_top").value;m=document.getElementById("img_margin_bottom").value;v="-"==v?"":v;f="-"==f?"":f;g="-"==g?"":g;m="-"==m?"":m;h=document.getElementById("img_align");l=h.options[h.selectedIndex].value;q="";document.getElementById("img_border")&&
(q=document.getElementById("img_border").value);var E=!1;document.getElementById("continue_insert")&&(E=document.getElementById("continue_insert").checked);c&&(E=!0);var w="";if(document.getElementById("link_url")&&(w=document.getElementById("link_url").value,w=web_url_remove_char(w),null!=w&&void 0!=w&&""!=KEDITORTOP.RAONKEDITOR.util.trim(w))){var y;try{"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink?y=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,
w):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink&&(y=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,w))}catch(M){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(M)}null!=y&&void 0!=y&&(w=document.getElementById("link_url").value=y)}y="";document.getElementById("link_title")&&(y=document.getElementById("link_title").value);var K="";document.getElementById("link_target")&&(K=document.getElementById("link_target").value);
var I="",N="",H="",L="";document.getElementById("line_style")&&(I=document.getElementById("line_style").style.borderTopStyle,"none"!=I&&(N=document.getElementById("line_kind").value,H=document.getElementById("line_color").style.borderTopColor,L=document.getElementById("line_thickness").value));var J=!1;document.getElementById("image_spacing")&&(J=document.getElementById("image_spacing").checked);var O="px",F="px",h=document.getElementById("img_width_unit"),G=document.getElementById("img_height_unit");
h&&""!=h.value&&(O=h.value);G&&""!=G.value&&(F=G.value);"%"!=O&&"%"!=F||""!=d||(d=document.getElementById("img_width").value,e=document.getElementById("img_height").value);b={srcURL:a,width:d,height:e,title:u,id:x,className:r,figure:D,alt:t,margin_left:v,margin_right:f,margin_top:g,margin_bottom:m,align:l,border:q,linkurl:w,linktitle:y,linktarget:K,continueInsert:E,input_url_checked:b,img_attr_info_arr:p,input_url_checked:b,borderStyle:I,borderKind:N,borderColor:H,borderThickness:L,imageSpacing:J,
widthUnit:O,heightUnit:F};p=""+("<img style='width:"+d+"px; height:"+e+"px;");0<g.length&&!isNaN(g)&&(p+=" margin-top:"+g+"px;");0<f.length&&!isNaN(f)&&(p+=" margin-right:"+f+"px;");0<m.length&&!isNaN(m)&&(p+=" margin-bottom:"+m+"px;");0<v.length&&!isNaN(v)&&(p+=" margin-left:"+v+"px;");p=p+" ' "+(" src='"+k+"'");p+=" alt='"+t+"'";0<l.length&&(p+=" align='"+l+"'");0<q.length&&!isNaN(q)&&(p+=" border='"+q+"'");p+=" />";LayerWin.event_keditor_image_upload("","","0",k,d,e,t,p,b,window.frameElement.parentNode.parentNode)}
function keditor_upload_flash(){if(1==document.getElementById("cb_tag_insert").checked){var a=document.getElementById("ta_flash_tag").value,c=LayerWin.getDocumentForDummy().createElement("div");c.innerHTML=a;a=c.getElementsByTagName("EMBED")[0];if(null==a)alert(LayerWin.RAONKEditor_lang.flash.invalid_tag);else if(c=LayerWin.checkXssContentType(a.src,{editor:LayerWin._k_editor}))alert(LayerWin.RAONKEditor_lang.msg.alert_insert_url_xss);else{var c=null,b=a.getAttribute("scale")?a.getAttribute("scale"):
"",d=a.getAttribute("allowScriptAccess")?a.getAttribute("allowScriptAccess"):"",e=a.getAttribute("quality")?a.getAttribute("quality"):"",f=a.getAttribute("align")?a.getAttribute("align"):"",g,h,m,k;g=null==a.getAttribute("menu")||void 0==a.getAttribute("menu")?!0:0==a.getAttribute("menu")||"false"==a.getAttribute("menu")?!1:!0;h=null==a.getAttribute("play")||void 0==a.getAttribute("play")?!0:0==a.getAttribute("play")||"false"==a.getAttribute("play")?!1:!0;m=null==a.getAttribute("loop")||void 0==a.getAttribute("loop")?
!0:0==a.getAttribute("loop")||"false"==a.getAttribute("loop")?!1:!0;null==a.getAttribute("allowFullScreen")||void 0==a.getAttribute("allowFullScreen")?k=!0:0==a.getAttribute("allowFullScreen")||"false"==a.getAttribute("allowFullScreen")?_allowFullScreenu=!1:k=!0;var l=a.getAttribute("flashvars")?a.getAttribute("flashvars"):"";"embed"==a.tagName.toLowerCase()&&(c={type:"flash",src:a.src,width:0==LayerWin.parseIntOr0(a.style.width)?LayerWin.parseIntOr0(a.width):LayerWin.parseIntOr0(a.style.width),height:0==
LayerWin.parseIntOr0(a.style.height)?LayerWin.parseIntOr0(a.height):LayerWin.parseIntOr0(a.style.height),hspace:LayerWin.parseIntOr0(a.getAttribute("hspace")),vspace:LayerWin.parseIntOr0(a.getAttribute("vspace")),scale:b,allowScriptAccess:d,quality:e,align:f,menu:g,play:h,loop:m,allowFullScreen:k,flashvars:l},a=LayerWin.getLinkMediaType(c.src),0<a.length&&(c.type=a,c.type2="flash"));LayerWin.event_keditor_media_upload("","","","","","",c,window.frameElement.parentNode.parentNode);event_keditor_flash_upload_cancel()}}else if(c=
document.keditor_upload_form,k="","1"==LayerWin._k_editor._config.useKManager?G_SelectedFiles&&G_SelectedFiles[0]&&(a=G_SelectedFiles[0].path):(k="1"==LayerWin._k_editor._config.uploadUseHTML5?document.getElementById("file_text"):document.getElementById(file_field_id),a=k.value),b=document.getElementById("web_url"),document.getElementsByName("InputFlag")[0].checked)if(0<a.lastIndexOf(".")){b=a.substring(a.lastIndexOf(".")+1).toLowerCase();d=!1;e=LayerWin._k_editor._config.allowFlashFileType;f=e.toString()+
LayerWin.RAONKEditor_lang.msg.alert_exec_tail;for(g=0;g<e.length;g++)if(b==e[g]){d=!0;break}if(1==d)if(loading_image_show(!0),"1"==LayerWin._k_editor._config.useKManager)k=function(a){event_keditor_flash_upload_completed(a[0].path)},c=[],a={guid:"cid:"+KEDITORTOP.RAONKEDITOR.util.makeGuid(),path:a,callback:k},c.push(a),LayerWin.agentFileUpload(LayerWin._k_editor,c,k);else if("1"==LayerWin._k_editor._config.uploadUseHTML5){c=new KEDITORTOP.RAONKEDITOR.util.hashTable;b=""+("kc"+KEDITORTOP.RAONKSolution.Agent.formfeed+
"c01"+KEDITORTOP.RAONKSolution.Agent.vertical);b+="k01"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k14"+KEDITORTOP.RAONKSolution.Agent.formfeed+a.substring(a.lastIndexOf("\\")+1)+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k15"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFileNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k16"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFileNameRuleEx+
KEDITORTOP.RAONKSolution.Agent.vertical;b+="k17"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFolderNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k20"+KEDITORTOP.RAONKSolution.Agent.formfeed+"flash";b=KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(b);c.setItem("k00",b);a=LayerWin.G_FormData.length;for(b=0;b<a;b++)d=LayerWin.G_FormData[b].form_value,d="1"==KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam?KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(d):encodeURIComponent(d),
c.setItem(LayerWin.G_FormData[b].form_name,d);uploadAjaxOnprogressStart({uploadType:"flash",handlerUrl:LayerWin._k_editor._config.handlerUrl,fileID:k.name,fileObj:G_SelectedFiles[0].fileObj,formData:c},event_keditor_flash_upload_completed)}else c.action=document.getElementById("upload_url").value,c.submit();else alert(f)}else""==a?alert(LayerWin.RAONKEditor_lang.msg.alert_no_file):alert(LayerWin.RAONKEditor_lang.msg.alert_exec);else a=b.value,(c=LayerWin.checkXssContentType(a,{editor:LayerWin._k_editor}))?
(alert(LayerWin.RAONKEditor_lang.msg.alert_insert_url_xss),setCursorPos(b,!0,!1)):(k=(new RegExp(/^(http|ftp|https|news)/)).test(a),c=/^\s\s*$/,""==a||c.exec(a)||k&&!LayerWin.urlCheckOrPass(a)?(alert(LayerWin.RAONKEditor_lang.msg.alert_url),b.focus()):event_keditor_flash_upload_completed(a))}
function event_keditor_flash_upload_completed(a){a&&(a=a.replace(/\r\n/g,""),a=a.replace(/\n/g,""),a=a.replace(/\t/g,""),a=web_url_remove_char(a));var c=[];if(document.getElementsByName("InputFlag")[0].checked){if(null!=a&&void 0!=a){try{var b={strUrl:a},d;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?d=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(d=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,
b));null!=d&&void 0!=d&&(a=d)}catch(e){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(e)}c=[];"0"!=LayerWin._k_editor._config.imageCustomPropertyDelimiter&&(c=a.split(LayerWin._k_editor._config.imageCustomPropertyDelimiter),1<c.length&&(a=c[0]));d=a.split("?");2==d.length&&-1<d[1].indexOf("^")&&(a=d[0],d=d[1].split("^"),3==d.length&&(a+="?"+d[2]))}loading_image_show(!1);if("[FAIL]"==a.substring(0,6))try{var b={strType:"flashUpload",strMessage:a},f;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?
f=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,b));if(0==f)return}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}if("[FAIL]"==a.substring(0,6)){c=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(c=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));c&&alert(a);
return}if(elemModify){elemData.src=a;"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),LayerWin.hideDialog(window.frameElement.parentNode.parentNode));return}}var h=document.getElementById("flash_width").value,m=document.getElementById("flash_height").value,b=document.getElementById("flash_margin_left").value;f=document.getElementById("flash_margin_right").value;d=document.getElementById("flash_margin_top").value;var k=document.getElementById("flash_margin_bottom").value,
l=document.getElementById("flash_scale").value,n=document.getElementById("flash_allowScriptAccess").value,p=document.getElementById("flash_quality").value,q=document.getElementById("flash_menu").checked,u=document.getElementById("flash_play").checked,x=document.getElementById("flash_loop").checked,r=document.getElementById("flash_allowFullScreen").checked,t=document.getElementById("flash_width_unit"),v=document.getElementById("flash_height_unit"),t=0==LayerWin.parseIntOr0(h)?"":h+t.value,v=0==LayerWin.parseIntOr0(m)?
"":m+v.value;LayerWin.insertElementsSrc(KEDITORTOP.G_CURRKEDITOR,a);c={type:"flash",src:a,width:t,height:v,margin_left:b,margin_right:f,margin_top:d,margin_bottom:k,scale:l,allowScriptAccess:n,quality:p,img_attr_info_arr:c,menu:q,play:u,loop:x,allowFullScreen:r};h=""+("<embed style='width:"+h+"; height:"+m+"; ");""!=b&&(h+="margin-left:"+b+"; ");""!=f&&(h+="margin-right:"+f+"; ");""!=d&&(h+="margin-top:"+d+"; ");""!=k&&(h+="margin-bottom:"+k+"; ");h=h+"'"+("src='"+a+"'");""!=l&&(h+="scale='"+l+"'");
""!=n&&(h+="allowScriptAccess='"+n+"'");""!=p&&(h+="quality='"+p+"'");0==q&&(h+="menu='false'");0==u&&(h+="play='false'");0==x&&(h+="loop='false'");0==r&&(h+="allowFullScreen='false'");h+='wmode="transparent"';h+=" pluginspage='http://www.macromedia.com/go/getflashplayer' type='application/x-shockwave-flash' />";LayerWin.event_keditor_media_upload("","","",a,h,c,window.frameElement.parentNode.parentNode);event_keditor_flash_upload_cancel()}
function keditor_upload_media(){var a=document.keditor_upload_form,c="",b="";"1"==LayerWin._k_editor._config.useKManager?G_SelectedFiles&&G_SelectedFiles[0]&&(b=G_SelectedFiles[0].path):(c="1"==LayerWin._k_editor._config.uploadUseHTML5?document.getElementById("file_text"):document.getElementById(file_field_id),b=c.value);var d=document.getElementById("web_url");if(document.getElementsByName("InputFlag")[0].checked)if(0<b.lastIndexOf(".")){for(var d=b.substring(b.lastIndexOf(".")+1).toLowerCase(),
e=!1,f=LayerWin._k_editor._config.allowMediaFileType,g=f.toString()+LayerWin.RAONKEditor_lang.msg.alert_exec_tail,h=f.length,m=0;m<h;m++)if(d==f[m]){e=!0;break}if(1==e)if(loading_image_show(!0),"1"==LayerWin._k_editor._config.useKManager)c=function(a){event_keditor_media_upload_completed(a[0].path)},a=[],b={guid:"cid:"+KEDITORTOP.RAONKEDITOR.util.makeGuid(),path:b,callback:c},a.push(b),LayerWin.agentFileUpload(LayerWin._k_editor,a,c);else if("1"==LayerWin._k_editor._config.uploadUseHTML5){a=new KEDITORTOP.RAONKEDITOR.util.hashTable;
d=""+("kc"+KEDITORTOP.RAONKSolution.Agent.formfeed+"c01"+KEDITORTOP.RAONKSolution.Agent.vertical);d+="k01"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam+KEDITORTOP.RAONKSolution.Agent.vertical;d+="k14"+KEDITORTOP.RAONKSolution.Agent.formfeed+b.substring(b.lastIndexOf("\\")+1)+KEDITORTOP.RAONKSolution.Agent.vertical;d+="k15"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFileNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;d+=
"k16"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFileNameRuleEx+KEDITORTOP.RAONKSolution.Agent.vertical;d+="k17"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFolderNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;d+="k20"+KEDITORTOP.RAONKSolution.Agent.formfeed+"media";d=KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(d);a.setItem("k00",d);b=LayerWin.G_FormData.length;for(d=0;d<b;d++)e=LayerWin.G_FormData[d].form_value,e="1"==KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam?
KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(e):encodeURIComponent(e),a.setItem(LayerWin.G_FormData[d].form_name,e);uploadAjaxOnprogressStart({uploadType:"media",handlerUrl:LayerWin._k_editor._config.handlerUrl,fileID:c.name,fileObj:G_dragDropFileObj,formData:a},event_keditor_media_upload_completed)}else a.action=document.getElementById("upload_url").value,a.submit();else alert(g)}else""==b?alert(LayerWin.RAONKEditor_lang.msg.alert_no_file):alert(LayerWin.RAONKEditor_lang.msg.alert_exec);else b=d.value,
LayerWin.checkXssContentType(b,{editor:LayerWin._k_editor})?(alert(LayerWin.RAONKEditor_lang.msg.alert_insert_url_xss),setCursorPos(d,!0,!1)):(c=new RegExp(/(http|https|mms):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/),a=(new RegExp(/^(http|https|mms)/)).test(b),e=/^\s\s*$/,""==b||e.exec(b)||a&&!c.test(b)?(alert(LayerWin.RAONKEditor_lang.msg.alert_url),d.focus()):event_keditor_media_upload_completed(b))}
function event_keditor_flash_flash_upload_completed(a,c,b){LayerWin.event_keditor_media_upload(a,"","","0",c,b,{type:"flash",src:c,width:300,height:300,hspace:"",vspace:"",scale:"",allowScriptAccess:"",quality:"",align:"",menu:"",play:"",loop:"",allowFullScreen:""},window.frameElement.parentNode.parentNode)}
function event_keditor_flash_media_upload_completed(a,c,b){LayerWin.event_keditor_media_upload(a,"","","0",c,b,{type:"media",src:c,width:300,height:300,autoStart:!1,playCount:!1,showTracker:!1,showStatusBar:!1,showControls:!1,showAudioControls:!1,showDisplay:!1,showPositionControls:!1},window.frameElement.parentNode.parentNode)}
function event_keditor_media_upload_completed(a){null!=a&&void 0!=a&&(a=a.replace(/\r\n/g,""),a=a.replace(/\n/g,""),a=a.replace(/\t/g,""),a=web_url_remove_char(a));e=[];if(document.getElementsByName("InputFlag")[0].checked){if(null!=a&&void 0!=a){try{var c={strUrl:a},b;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?b=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&
(b=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,c));null!=b&&void 0!=b&&(a=b)}catch(d){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(d)}var e=[];"0"!=LayerWin._k_editor._config.imageCustomPropertyDelimiter&&(e=a.split(LayerWin._k_editor._config.imageCustomPropertyDelimiter),1<e.length&&(a=e[0]));b=a.split("?");2==b.length&&-1<b[1].indexOf("^")&&(a=b[0],b=b[1].split("^"),3==b.length&&(a+="?"+b[2]))}loading_image_show(!1);if("[FAIL]"==
a.substring(0,6))try{var c={strType:"mediaUpload",strMessage:a},f;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?f=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,c));if(0==f)return}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}if("[FAIL]"==a.substring(0,6)){e=!0;"1"!=
LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(e=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));e&&alert(a);return}if(elemModify){elemData.src=a;"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),LayerWin.hideDialog(window.frameElement.parentNode.parentNode));return}}c=document.getElementById("media_width").value;f=document.getElementById("media_height").value;var h=document.getElementById("media_width_unit");b=document.getElementById("media_height_unit");
c=0==LayerWin.parseIntOr0(c)?"":c+h.value;f=0==LayerWin.parseIntOr0(f)?"":f+b.value;LayerWin.insertElementsSrc(KEDITORTOP.G_CURRKEDITOR,a);e={type:"media",src:a,width:c,height:f,autoStart:document.getElementById("cb_autostart").checked,playCount:document.getElementById("cb_loop").checked,showTracker:document.getElementById("cb_tracker").checked,showStatusBar:document.getElementById("cb_status").checked,showControls:document.getElementById("cb_controls").checked,showAudioControls:document.getElementById("cb_volumn").checked,
showDisplay:document.getElementById("cb_display").checked,showPositionControls:document.getElementById("cb_position").checked,img_attr_info_arr:e};b="";c=""+("<embed style='width:"+c+"; height:"+f+";' ")+" type=application/x-mplayer2 ";c+=" pluginspage='http://www.microsoft.com/windows/windowsmedia/download/' ";c+=" src='"+a+"'";b=1==document.getElementById("cb_autostart").checked?"1":"0";c+=" AutoStart='"+b+"'";b=1==document.getElementById("cb_loop").checked?"1":"0";c+=" loop='"+b+"'";b=1==document.getElementById("cb_tracker").checked?
"1":"0";c+=" ShowTracker='"+b+"'";b=1==document.getElementById("cb_status").checked?"1":"0";c+=" ShowStatusBar='"+b+"'";b=1==document.getElementById("cb_controls").checked?"1":"0";c+=" ShowControls='"+b+"'";b=1==document.getElementById("cb_volumn").checked?"1":"0";c+=" ShowAudioControls='"+b+"'";b=1==document.getElementById("cb_display").checked?"1":"0";c+=" ShowDisplay='"+b+"'";b=1==document.getElementById("cb_position").checked?"1":"0";c+=" ShowPositionControls='"+b+"'";c+=" />";LayerWin.event_keditor_media_upload("",
"","0",a,c,e,window.frameElement.parentNode.parentNode);event_keditor_image_upload_cancel()}
function startInsertImage(){var a=document.getElementById("img_web_url");null==a&&(a="");var c=document.getElementsByName("InputFlag")[0].checked,b=!1;c?0<G_SelectedFiles.length&&(0==!!elemModify||0==!!G_SelectedFiles[0].elemModify)&&(b=!0):0<a.value.length&&(b=!0);if(0==b)alert(LayerWin.RAONKEditor_lang.msg.alert_no_file);else{var b=LayerWin._k_editor._config.accessibility,d=document.getElementById("img_alt").value;if("1"==b)""==d&&alert(LayerWin.RAONKEditor_lang.msg.alert_image_alt_access1);else if("2"==
b&&""==d){alert(LayerWin.RAONKEditor_lang.msg.alert_image_alt_access2);document.getElementById("img_alt").focus();return}b=document.getElementById("link_url");null==b&&(b="");var e=LayerWin.getElementsByClass("EdiTor_Popup_contents",document),d=/^\s\s*$/;if(!d.exec(b.value)&&""!=b.value){var d=new RegExp(/^(http|ftp|https|news)/),f=d.test(b.value);if("http://"==b.value)b.value="";else if(f&&!LayerWin.urlCheckOrPass(b.value)){loading_image_show(!1);alert(LayerWin.RAONKEditor_lang.msg.alert_url);e[0].className=
"EdiTor_Popup_contents none";e[1].className="EdiTor_Popup_contents view";LayerWin.lastFocus(b);return}}b=function(b,d){loading_image_show(!1);if(null==elemModify){for(var e=b.length,f=0;f<e;f++){var l=b[f],n="number"==typeof l.width?l.width:0,p="number"==typeof l.height?l.height:0,q=l.url,u=l.urlInfo;0==!!u&&(u=LayerWin.parseImageUrlFromHandler(q));var x=u.imgAttrInfoArr;0!=u.originalWidth&&n!=u.originalWidth&&(n=u.originalWidth);0!=u.originalHeight&&p!=u.originalHeight&&(p=u.originalHeight);var r=
document.getElementById("img_width").value,t=document.getElementById("img_height").value,v=document.getElementById("img_width_unit"),z=!1;v&&"%"==v.value&&(z=!0);0!=n||""==r||z||(n=r);0!=p||""==t||z||(p=t);var D=!1;document.getElementById("original_size")&&(D=document.getElementById("original_size").checked);if(!D){var C=LayerWin.getWidthForAutoBodyFit(LayerWin._k_editor,"img"),E=!1;z&&(n=Math.round(C*r/100),"2"==LayerWin._k_editor._config.image_auto_fit&&n>C&&(E=!0));if("1"==LayerWin._k_editor._config.imageAutoConvert){var w=
LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(LayerWin._k_editor._config.image_convert_width),y=LayerWin.KEDITORTOP.RAONKEDITOR.util.parseIntOr0(LayerWin._k_editor._config.image_convert_height),M=!1,K=!1;if(0!=w&&0==y)n>w&&(M=!0);else if(0==w&&0!=y)p>y&&(K=!0);else{var I=1*w/n,N=1*y/p;I<N?1>I&&(M=!0):1>N&&(K=!0)}if(M)var H=w/n,r=n=w,t=p=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(H*p);else K&&(H=y/p,t=p=y,r=n=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(H*n))}else if("1"==LayerWin._k_editor._config.image_auto_fit&&
n>C||E)if(H=C/n,n=C,p*=H,z)var L=r,r=n*r/100,r=r>=n?100:L;else r>n&&(r=n,t=p);else if("2"==LayerWin._k_editor._config.image_auto_fit&&(n>C||p>LayerWin._k_editor._defaultHeight)){var J=C,O=LayerWin._k_editor._defaultHeight,F=void 0,G=void 0,ja=O/J,ea=p/n;ea>ja?p>O?(G=O,F=Math.round(n*G/p)):(F=n,G=p):ea<ja?n>J?(F=J,G=Math.round(p*F/n)):(F=n,G=p):(F=n,G=p);r=F;t=G}}if(!z&&0==r.length&&0<n){var r=parseInt(n),t=parseInt(p),Q="",R="";!D&&0>LayerWin._k_editor._config.imgDefaultWidth.indexOf("%")&&(Q=LayerWin._k_editor._config.imgDefaultWidth,
R=LayerWin._k_editor._config.imgDefaultHeight);if(""!=Q){if(KEDITORTOP.RAONKEDITOR.util.parseIntOr0(r)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(Q))var fa=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(t,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(Q,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(r,10),t=isNaN(fa)?t:Math.round(fa),r=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(Q)}else if(""!=R&&KEDITORTOP.RAONKEDITOR.util.parseIntOr0(t)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(R))var ka=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(r,
10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(R,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(t,10),r=isNaN(ka)?r:Math.round(ka),t=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(R)}var Z=q,ga=document.getElementById("img_alt").value,fb=document.getElementById("img_title").value,Na="",Oa="",Pa="";try{Na=document.getElementById("img_id").value,Oa=document.getElementById("img_class").value,Pa=document.getElementById("img_figure").checked}catch(gb){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&
console.log(gb)}var S=document.getElementById("img_margin_left").value,T=document.getElementById("img_margin_right").value,U=document.getElementById("img_margin_top").value,V=document.getElementById("img_margin_bottom").value,S="-"==S?"":S,T="-"==T?"":T,U="-"==U?"":U,V="-"==V?"":V,Qa=document.getElementById("img_align"),sa=Qa.options[Qa.selectedIndex].value,ha="";document.getElementById("img_border")&&(ha=document.getElementById("img_border").value);var Ra=!1;document.getElementById("continue_insert")&&
(Ra=document.getElementById("continue_insert").checked);var P="";if(document.getElementById("link_url")&&(P=document.getElementById("link_url").value,P=web_url_remove_char(P),"string"==typeof P&&""!=KEDITORTOP.RAONKEDITOR.util.trim(P))){var la=void 0;try{"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink?la=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,P):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink&&
(la=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,P))}catch(hb){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(hb)}"string"==typeof la&&(P=document.getElementById("link_url").value=la)}var Sa="";document.getElementById("link_title")&&(Sa=document.getElementById("link_title").value);var Ta="";document.getElementById("link_target")&&(Ta=document.getElementById("link_target").value);var ta="",Ua="",Va="",Wa="";document.getElementById("line_style")&&
(ta=document.getElementById("line_style").style.borderTopStyle,"none"!=ta&&(Ua=document.getElementById("line_kind").value,Va=document.getElementById("line_color").style.borderTopColor,Wa=document.getElementById("line_thickness").value));var Xa=!1;document.getElementById("image_spacing")&&(Xa=document.getElementById("image_spacing").checked);var ua="px",va="px",v=document.getElementById("img_width_unit"),wa=document.getElementById("img_height_unit");v&&""!=v.value&&(ua=v.value);wa&&""!=wa.value&&(va=
wa.value);"%"!=ua&&"%"!=va||""!=r||(r=document.getElementById("img_width").value,t=document.getElementById("img_height").value);var ib={srcURL:Z,width:r,height:t,title:fb,id:Na,className:Oa,figure:Pa,alt:ga,margin_left:S,margin_right:T,margin_top:U,margin_bottom:V,align:sa,border:ha,linkurl:P,linktitle:Sa,linktarget:Ta,continueInsert:Ra,img_attr_info_arr:x,borderStyle:ta,borderKind:Ua,borderColor:Va,borderThickness:Wa,imageSpacing:Xa,widthUnit:ua,heightUnit:va},B="",B=B+("<img style='width:"+r+"px; height:"+
t+"px;");0<U.length&&!isNaN(U)&&(B+=" margin-top:"+U+"px;");0<T.length&&!isNaN(T)&&(B+=" margin-right:"+T+"px;");0<V.length&&!isNaN(V)&&(B+=" margin-bottom:"+V+"px;");0<S.length&&!isNaN(S)&&(B+=" margin-left:"+S+"px;");B+=" ' ";B+=" src='"+Z+"'";B+=" alt='"+ga+"'";0<sa.length&&(B+=" align='"+sa+"'");0<ha.length&&!isNaN(ha)&&(B+=" border='"+ha+"'");B+=" />";LayerWin.event_keditor_image_upload("","","0",Z,r,t,ga,B,ib,window.frameElement.parentNode.parentNode)}var Ya=!1;document.getElementById("continue_insert")&&
(Ya=document.getElementById("continue_insert").checked);if(1==Ya){"1"==KEDITORTOP.G_CURRKEDITOR._config.uploadUseHTML5||"1"==KEDITORTOP.G_CURRKEDITOR._config.useKManager?1==KEDITORTOP.RAONKEDITOR.browser.mobile?document.getElementById("drop_zone").innerHTML=LayerWin.RAONKEditor_lang.upload.drop_zone_content2:document.getElementById("drop_zone").innerHTML=LayerWin.RAONKEditor_lang.upload.drop_zone_content:document.getElementById("image_url")&&(document.getElementById("image_url").value="");document.getElementById("Filedata").value=
"";1==document.getElementById("radio_image_url").checked&&(document.getElementById("img_web_url").value="http://");var W=document.getElementById("img_width"),X=document.getElementById("img_height");W.value="";X.value="";var aa=document.getElementById("img_id");null!=aa&&void 0!=aa&&(aa.value="");if(!document.getElementById("maintain_value").checked){var ba=document.getElementById("img_class");null!=ba&&void 0!=ba&&(ba.value="");document.getElementById("img_title").value="";document.getElementById("img_alt").value=
"";document.getElementById("img_margin_left").value="";document.getElementById("img_margin_right").value="";document.getElementById("img_margin_top").value="";document.getElementById("img_margin_bottom").value="";document.getElementById("img_align").value="";var xa=document.getElementById("original_size");null!=xa&&void 0!=xa&&1==xa.checked&&(W.removeAttribute("disabled"),X.removeAttribute("disabled"));document.getElementById("image_spacing")&&(document.getElementById("image_spacing").checked=!1);
var ya=document.getElementById("link_url"),za=document.getElementById("link_title"),Aa=document.getElementById("link_target");null!=ya&&void 0!=ya&&(ya.value="http://");null!=za&&void 0!=za&&(za.value="");null!=Aa&&void 0!=Aa&&(Aa.value="_blank");var Ba=document.getElementById("line_style");null!=Ba&&void 0!=Ba&&setBorderListValue("solid",Ba);var Ca=document.getElementById("line_kind");null!=Ca&&void 0!=Ca&&(Ca.value="");var Da=document.getElementById("line_color");null!=Da&&void 0!=Da&&(Da.style.borderTopColor=
"#000000");var Ea=document.getElementById("line_thickness");null!=Ea&&void 0!=Ea&&(Ea.value="0");popup_toggle(0)}}else LayerWin.hideDialog(window.frameElement.parentNode.parentNode)}else{var ca="",W=document.getElementById("img_width"),X=document.getElementById("img_height");if(c){var ma=b[0].urlInfo;0==ma.originalWidth&&0==ma.originalHeight&&(ma.originalWidth=b[0].width,ma.originalHeight=b[0].height);""!=W.value&&(b[0].width=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(W.value));""!=X.value&&(b[0].height=
KEDITORTOP.RAONKEDITOR.util.parseIntOr0(X.value));ca=b[0].url;LayerWin.applyImageAutoFit(elemModify,b[0])}else ca=a.value;0==ca.toLowerCase().indexOf("file://")&&(ca=LayerWin.convertImageAgentSrc(ca,!0));elemModify.src=ca;var Fa=document.getElementById("img_title"),Ga=document.getElementById("img_alt"),aa=document.getElementById("img_id"),ba=document.getElementById("img_class"),Za=document.getElementById("img_figure"),Ha=document.getElementById("img_margin_left"),Ia=document.getElementById("img_margin_right"),
Ja=document.getElementById("img_margin_top"),Ka=document.getElementById("img_margin_bottom"),$a=document.getElementById("img_align");""==aa.value?elemModify.removeAttribute("id"):elemModify.setAttribute("id",aa.value);""==ba.value?elemModify.removeAttribute("class"):elemModify.setAttribute("class",ba.value);""==Fa.value?null!=elemModify.getAttribute("title")&&elemModify.setAttribute("title",Fa.value):elemModify.setAttribute("title",Fa.value);""==Ga.value?null!=elemModify.getAttribute("alt")&&elemModify.setAttribute("alt",
Ga.value.replace(/&#10;/g,"\n")):elemModify.setAttribute("alt",Ga.value.replace(/&#10;/g,"\n"));var jb=document.getElementById("img_width_unit"),kb=document.getElementById("img_height_unit");0==c&&"1"==LayerWin._k_editor._config.allowImgSize&&LayerWin.setNodeWidthHeight(elemModify,{width:""==W.value?"":W.value+jb.value,height:""==X.value?"":X.value+kb.value});elemModify.style.marginLeft=""==Ha.value||"-"==Ha.value?"":Ha.value+"px";elemModify.style.marginRight=""==Ia.value||"-"==Ia.value?"":Ia.value+
"px";elemModify.style.marginTop=""==Ja.value||"-"==Ja.value?"":Ja.value+"px";elemModify.style.marginBottom=""==Ka.value||"-"==Ka.value?"":Ka.value+"px";""==$a.value?elemModify.removeAttribute("align"):elemModify.setAttribute("align",$a.value);if(0==document.getElementById("not_apply_border").checked&&""!=document.getElementById("line_style").style.borderTopStyle){var na="";if("none"==document.getElementById("line_style").style.borderTopStyle)na="0px solid rgb(0,0,0)";else{var La="";""!=document.getElementById("line_kind").value?
La=document.getElementById("line_kind").value+" ":(""==document.getElementById("line_thickness").value&&(document.getElementById("line_thickness").value="0"),La=document.getElementById("line_thickness").value+"px ");na=La+document.getElementById("line_style").style.borderTopStyle+" "+document.getElementById("line_color").style.borderTopColor}if(""!=na)try{elemModify.style.border=na}catch(lb){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(lb)}}var Y=elemModify.parentNode,
A=document.getElementById("link_url");if(null!=A&&void 0!=A&&""!=KEDITORTOP.RAONKEDITOR.util.trim(A.value)){var ia;try{"function"===typeof LayerWin._k_editor._config.event.beforeInsertHyperlink?ia=LayerWin._k_editor._config.event.beforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,A.value):"function"===typeof LayerWin.KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink&&(ia=LayerWin.KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,A.value))}catch(mb){KEDITORTOP&&
KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(mb)}null!=ia&&void 0!=ia&&(document.getElementById("link_url").value=ia)}var A=document.getElementById("link_url"),oa=document.getElementById("link_title"),ab=document.getElementById("link_target");A.value=LayerWin.ReplaceAll(A.value," ","");var pa=/^\s\s*$/;if(!pa.exec(A.value)&&""!=A.value){var nb=(new RegExp(/^(http|ftp|https|news)/)).test(A.value);if("http://"==A.value||""==A.value)A.value="";else if(nb&&!LayerWin.urlCheckOrPass(A.value)){alert(LayerWin.RAONKEditor_lang.msg.alert_url);
var bb=LayerWin.getElementsByClass("EdiTor_Popup_contents",document);bb[0].className="EdiTor_Popup_contents none";bb[1].className="EdiTor_Popup_contents view";A.focus();return}}var Ma=elemModify;if("a"==Y.tagName.toLowerCase()&&!pa.exec(A.value)&&""!=A.value)Y.href=A.value,""!=oa.value&&(Y.title=oa.value),Y.target=ab.value;else if("a"==Y.tagName.toLowerCase()&&(pa.exec(A.value)||""==A.value))Y.outerHTML=elemModify.outerHTML;else if("a"!=Y.tagName.toLowerCase()&&!pa.exec(A.value)&&""!=A.value){var da=
KEDITORTOP.G_CURRKEDITOR._DOC.createElement("a");da.href=A.value;""!=oa.value&&da.setAttribute("title",oa.value);da.setAttribute("target",ab.value);da.appendChild(elemModify.cloneNode());Ma=da;elemModify.parentNode.replaceChild(da,elemModify)}if(Za)if(0==Za.checked){if(elemModifyParent){KEditorLayerWin.getApplyDragResize(KEDITORTOP.G_CURRKEDITOR)&&KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.G_keditorResizeDiv&&KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.resizeHandleClear();var cb=document.createElement("p");
elemModifyParent.parentNode.insertBefore(cb,elemModifyParent);elemModifyParent.parentNode.replaceChild(Ma,elemModifyParent);cb.appendChild(Ma)}}else if(!elemModifyParent){var qa=document.createElement("figure"),ra=document.createElement("figcaption");qa.setAttribute("contenteditable","false");qa.setAttribute("style",KEditorLayerWin._k_editor._config.figure.figurestyle);ra.innerHTML="<p>"+KEditorLayerWin._k_editor._config.figure.defaultcaption+"</p>";ra.setAttribute("style",KEditorLayerWin._k_editor._config.figure.figcaptionstyle);
ra.setAttribute("contenteditable","true");qa.innerHTML=elemModify.outerHTML+ra.outerHTML;var db=elemModify,eb=LayerWin.GetParentbyTagName(elemModify,"a");eb&&(db=eb);KEditorLayerWin.getApplyDragResize(KEDITORTOP.G_CURRKEDITOR)&&(KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.resizeHandleClear(),KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.selection(db));KEditorLayerWin.pasteHtmlAtCaretHuge(qa.outerHTML)}G_SelectedFiles=[];LayerWin._k_editor.UndoManager.putUndo();LayerWin.hideDialog(window.frameElement.parentNode.parentNode)}};
c?(loading_image_show(!0),d={files:G_SelectedFiles,uploadType:"image",errorType:"imageUpload",getWidthHeight:!0},f=new LayerWin.FileProcessHandler(LayerWin._k_editor),"base64"==LayerWin._k_editor._config.uploadMethod?f.convertBase64(d,b):("1"==LayerWin._k_editor._config.useKManager&&(d.notExcuteInsertImageUrl=!0),f.uploadFiles(d,b))):(e=a.value,d=new RegExp(/^(http|ftp|https|news)/),f=d.test(e),d=/^\s\s*$/,""==e||d.exec(e)||f&&!LayerWin.urlCheckOrPass(e)?(alert(LayerWin.RAONKEditor_lang.msg.alert_url),
a.focus()):(G_SelectedFiles=[],d={files:[{url:e}]},(new LayerWin.FileValidator(d)).setImageWidthHeight(b)))}}
function insertHyperlinkImage(){var a=LayerWin._k_editor._config.accessibility,c=document.getElementById("input_text").value;if("1"==a)""==c&&alert(LayerWin.RAONKEditor_lang.msg.alert_hyperlink_input_text_access1);else if("2"==a&&""==c){alert(LayerWin.RAONKEditor_lang.msg.alert_hyperlink_input_text_access2);document.getElementById("input_text").focus();return}var b=function(a){var b="";if("hyperlink"==document.getElementById("select_category").value||0>"bookmark,image".indexOf(document.getElementById("select_category").value)){b=
document.getElementById("input_url").value;b=web_url_remove_char(b);if(null!=b&&void 0!=b&&""!=b){var c;try{"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink?c=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink&&(c=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,b))}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&
console.log(g)}null!=c&&void 0!=c&&(b=c)}c=(new RegExp(/^(http|https|ftp|news)/)).test(b);var h=/^\s\s*$/;if(""==b||h.exec(b)||c&&!LayerWin.urlCheckOrPass(b)){alert(LayerWin.RAONKEditor_lang.msg.alert_url);document.getElementById("input_url").value=b;setCursorPos(document.getElementById("input_url"),!0,!1);return}}else if("bookmark"==document.getElementById("select_category").value&&""==document.getElementById("select_bookmark").value){alert(LayerWin.RAONKEditor_lang.msg.alert_bookmark);setCursorPos(document.getElementById("select_bookmark"),
!0,!1);return}c=document.getElementById("select_category").value;0>"bookmark,image".indexOf(document.getElementById("select_category").value)&&(c="hyperlink");b={type:c,url:b,text:document.getElementById("input_text").value,title:document.getElementById("input_title").value,target:document.getElementById("select_target").value,bookname:document.getElementById("select_bookmark").value,id:document.getElementById("input_id").value,className:document.getElementById("input_class").value};if(null!=a&&void 0!=
a){if(elemModify){document.getElementById("input_url").value=a;set_modify_ok();return}b.url=a}LayerWin.event_keditor_create_hyperlink(b,window.frameElement.parentNode.parentNode)};"image"==document.getElementById("select_category").value?0==G_SelectedFiles.length?(loading_image_show(!1),alert(LayerWin.RAONKEditor_lang.msg.alert_no_file)):(a={files:G_SelectedFiles,uploadType:"hyperlink_image",errorType:"imageUpload",agentUpload:!0},(new LayerWin.FileProcessHandler(LayerWin._k_editor)).uploadFiles(a,
function(a,c){for(var f=0;f<a.length;f++)b(a[f].url);event_keditor_image_upload_cancel()})):(b(),event_keditor_image_upload_cancel())}
function ExecuteHyperlinkImage(){DialogFileProcess.call(this);this.uploadType="hyperlink_image";this.createHyperlinkData=function(a){var c="";if("hyperlink"==document.getElementById("select_category").value||0>"bookmark,image".indexOf(document.getElementById("select_category").value)){c=document.getElementById("input_url").value;c=web_url_remove_char(c);if(null!=c&&void 0!=c&&""!=c){var b;try{"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink?b=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,
c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink&&(b=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertHyperlink(KEDITORTOP.G_CURRKEDITOR.ID,c))}catch(d){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(d)}null!=b&&void 0!=b&&(c=b)}b=(new RegExp(/^(http|https|ftp|news)/)).test(c);var e=/^\s\s*$/;if(""==c||e.exec(c)||b&&!LayerWin.urlCheckOrPass(c)){alert(LayerWin.RAONKEditor_lang.msg.alert_url);document.getElementById("input_url").value=c;setCursorPos(document.getElementById("input_url"),
!0,!1);return}}else if("bookmark"==document.getElementById("select_category").value&&""==document.getElementById("select_bookmark").value){alert(LayerWin.RAONKEditor_lang.msg.alert_bookmark);setCursorPos(document.getElementById("select_bookmark"),!0,!1);return}b=document.getElementById("select_category").value;0>"bookmark,image".indexOf(document.getElementById("select_category").value)&&(b="hyperlink");c={type:b,url:c,text:document.getElementById("input_text").value,title:document.getElementById("input_title").value,
target:document.getElementById("select_target").value,bookname:document.getElementById("select_bookmark").value,id:document.getElementById("input_id").value,className:document.getElementById("input_class").value};if(null!=a&&void 0!=a){b=a.split("?");2==b.length&&(a=b[0],b=b[1].split("^"),3==b.length&&(img_real_width=b[0],img_real_height=b[1],a+="?"+b[2]));try{b={strUrl:a};var f;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?f=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,
b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,b));null!=f&&void 0!=f&&(a=f)}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}LayerWin.insertImageSrc(KEDITORTOP.G_CURRKEDITOR,a);if(elemModify){document.getElementById("input_url").value=a;set_modify_ok();return}c.url=a}LayerWin.event_keditor_create_hyperlink(c,window.frameElement.parentNode.parentNode)};
this.start=function(){var a=LayerWin._k_editor._config.accessibility,c=document.getElementById("input_text").value;if("1"==a)""==c&&alert(LayerWin.RAONKEditor_lang.msg.alert_hyperlink_input_text_access1);else if("2"==a&&""==c){alert(LayerWin.RAONKEditor_lang.msg.alert_hyperlink_input_text_access2);document.getElementById("input_text").focus();return}"image"==document.getElementById("select_category").value?(this.selectedFiles=G_SelectedFiles,0==this.selectedFiles.length?(loading_image_show(!1),alert(LayerWin.RAONKEditor_lang.msg.alert_no_file)):
this.uploadFiles({uploadType:this.uploadType,agentUpload:!0},function(a){if(0<a.errorData.length)try{var c={strType:"imageUpload",strMessage:a.errorData[0].message},e;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?e=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(e=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,c));if(0==e)return;c=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&
(c=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));c&&alert(a.uploadError[0].message)}catch(f){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(f)}for(c=0;c<a.successData.length;c++)a.createHyperlinkData(a.successData[c].url);event_keditor_image_upload_cancel()})):(this.createHyperlinkData(),event_keditor_image_upload_cancel())}}
function insertDocBgImage(){var a=function(a,b){var c=document.getElementById("prev_background_remove").value,d=document.getElementById("add").value,m=document.getElementById("repeat").value,k=document.getElementById("background_color").style.backgroundColor;LayerWin.event_keditor_dog_bg_img_insert(c,a,d,m,k,window.frameElement.parentNode.parentNode,b)};if(0==G_SelectedFiles.length){var c=document.getElementById("image_url_value").value;"1"==LayerWin._k_editor._config.useKManager&&(c=LayerWin.convertImageAgentSrc(c,
!0));a(c);event_keditor_doc_cancel()}else{var c=function(b,c){a(b[0].url,b[0].urlInfo.imgAttrInfoArr);event_keditor_doc_cancel()},b={files:G_SelectedFiles,uploadType:"doc_bg_image",errorType:"imageUpload"},d=new LayerWin.FileProcessHandler(LayerWin._k_editor);"base64"==LayerWin._k_editor._config.uploadMethod?d.convertBase64(b,c):("1"==LayerWin._k_editor._config.useKManager&&(b.notExcuteInsertImageUrl=!0),d.uploadFiles(b,c))}}
function insertFile(){if(0==G_SelectedFiles.length)alert(LayerWin.RAONKEditor_lang.msg.alert_no_file);else{var a=LayerWin._k_editor;loading_image_show(!0);var c={files:G_SelectedFiles,uploadType:"insert_file",errorType:"fileUpload",agentUpload:!0};(new LayerWin.FileProcessHandler(a)).uploadFiles(c,function(b,d){loading_image_show(!1);for(var e=0;e<b.length;e++){var f=document.getElementById("file_title").value,g=document.getElementById("file_text").value,h=document.getElementById("input_id").value,
m=document.getElementById("input_class").value;""==g&&(g=c.files[e].name);var k=b[e].url;"string"==typeof k&&""==g&&(g=k.split("/"),g=g[g.length-1]);var l=k.substring(k.lastIndexOf(".")+1).toLowerCase(),l=l.toLowerCase(),f={text:g,url:k,target:"_blank",title:f,type:"hyperlink",type2:"insert_file",file_ext:l,id:h,className:m};elemModify&&"a"==elemModify.tagName.toLowerCase()?(elemModify.innerHTML=f.text,elemModify.title=f.title,elemModify.id=f.id,elemModify.className=f.className,elemModify.href=f.url,
"1"==LayerWin._k_editor._config.attachFileImage&&LayerWin.attachFileImage(elemModify,f),LayerWin._k_editor.UndoManager.putUndo()):LayerWin.event_keditor_insert_file(f,window.frameElement.parentNode.parentNode)}e=!1;document.getElementById("continue_insert")&&(e=document.getElementById("continue_insert").checked);0==e?event_popup_close():("1"==a._config.uploadUseHTML5||"1"==a._config.useKManager?(1==KEDITORTOP.RAONKEDITOR.browser.mobile?document.getElementById("drop_zone").innerHTML=LayerWin.RAONKEditor_lang.upload.drop_zone_content2:
document.getElementById("drop_zone").innerHTML=LayerWin.RAONKEditor_lang.upload.drop_zone_content,G_SelectedFiles=[]):document.getElementById("image_url")&&(document.getElementById("image_url").value=""),document.getElementById("Filedata").value="",document.getElementById("file_text").value="",document.getElementById("input_id").value="",document.getElementById("input_class").value="",document.getElementById("file_title").value="")})}}
function insertCellBackgroundImage(){var a=LayerWin._k_editor._config.accessibility,c="";if("Y"==document.getElementById("title_cell").value||"N"==document.getElementById("title_cell").value)c=document.getElementById("title_cell").value;var b="";if("row"==document.getElementById("scope").value||"col"==document.getElementById("scope").value)b="row";if("1"==a)"Y"==c&&""==b&&alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access1);else if("2"==a&&"Y"==c&&""==b){alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access2);
document.getElementById("scope").focus();return}a=function(a,b){loading_image_show(!1);var c=[],g="";a&&0<a.length&&(g=a[0].url,c=a[0].urlInfo.imgAttrInfoArr);var h=document.getElementById("horizontal_align").value,m=document.getElementById("vertical_align").value,k=document.getElementById("not_apply_class_name"),k=k?k.checked:!1,l=document.getElementById("not_apply_cell_id").checked,n="",n=document.getElementById("title_cell").value,p="",p=document.getElementById("scope").value,q="",q=document.getElementById("nowrap").value,
u=document.getElementById("topcell1"),x=document.getElementById("topcell2"),r=document.getElementById("bottomcell1");document.getElementById("bottomcell2");var t={outsideTop:"",outsideLeft:"",outsideRight:"",outsideBottom:"",insideRow:"",insideCol:""};t.outsideTop=u.style.borderTop;t.outsideLeft=u.style.borderLeft;t.outsideRight=x?x.style.borderRight:u.style.borderRight;t.outsideBottom=r?r.style.borderBottom:u.style.borderBottom;r&&(t.insideRow=r.style.borderTop);x&&(t.insideCol=u.style.borderRight);
var u=document.getElementById("prev_background_remove").value,x=document.getElementById("add").value,r=document.getElementById("repeat").value,v=document.getElementById("horizontal").value,z=document.getElementById("vertical").value,D=document.getElementById("background_color").style.backgroundColor;document.getElementById("tab_value");var C=document.getElementById("class_name").value,E=document.getElementById("cell_id").value;"notapplicable"==x&&(x=null);"notapplicable"==r&&(r=null);"notapplicable"==
h&&(h=null);"notapplicable"==m&&(m=null);if("none"==document.getElementById("class_name").style.display||"notapplicable"==C||k)C=null;"notapplicable"==n&&(n=null);"notapplicable"==p&&(p=null);"notapplicable"==q&&(q=null);l&&(E=null);var l=k="",w=document.getElementById("cell_width"),y=document.getElementById("cell_height");w&&y&&(w=w.value,y=y.value,""!=w&&G_preWidth!=w&&(k=w),""!=y&&G_preHeight!=y&&(l=y));LayerWin.event_keditor_cell_property(h,m,n,p,q,t,u,g,x,r,v,z,D,window.frameElement.parentNode.parentNode,
C,E,c,k,l);event_keditor_table_cancel()};0<G_SelectedFiles.length?(loading_image_show(!0),c={files:G_SelectedFiles,uploadType:"cell_bg_image",errorType:"imageUpload"},b=new LayerWin.FileProcessHandler(LayerWin._k_editor),"base64"==LayerWin._k_editor._config.uploadMethod?b.convertBase64(c,a):("1"==LayerWin._k_editor._config.useKManager&&(c.notExcuteInsertImageUrl=!0),b.uploadFiles(c,a))):(c=document.getElementById("image_url_value").value,"1"==LayerWin._k_editor._config.useKManager&&(c=LayerWin.convertImageAgentSrc(c,
!0)),""!=c?(c={files:[{url:c,urlInfo:LayerWin.parseImageUrlFromHandler(c)}]},(new LayerWin.FileValidator(c)).setImageWidthHeight(a)):a())}
function insertTableBackgroundImage(){var a=LayerWin._k_editor,c=document.getElementById("tab_value").value,b=a._config.accessibility,d=document.getElementById("table_caption").value,e=document.getElementById("table_summary").value,f="N";1==document.getElementById("scope").checked&&(f="Y");var g="N";1==document.getElementById("t_scope").checked&&(g="Y");var h=document.getElementById("title_cell").value;if("1"==b)"3"!=c&&"4"!=c?(""==d&&alert(LayerWin.RAONKEditor_lang.msg.alert_table_caption_access1),
""==e&&alert(LayerWin.RAONKEditor_lang.msg.alert_table_summary_access1),"1"!=h&&"N"==f&&alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access1)):"3"==c&&"N"==g&&alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access1);else if("2"==b)if("3"!=c&&"4"!=c){if(""==d){alert(LayerWin.RAONKEditor_lang.msg.alert_table_caption_access2);document.getElementById("table_caption").focus();return}if(""==e){alert(LayerWin.RAONKEditor_lang.msg.alert_table_summary_access2);document.getElementById("table_summary").focus();
return}if("1"!=h&&"N"==f){alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access2);document.getElementById("scope").focus();return}}else if("3"==c&&"N"==g){alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access2);document.getElementById("t_scope").focus();return}c=function(a,b){loading_image_show(!1);var c=[],d="";0<a.length&&(d=a[0].url,c=a[0].urlInfo.imgAttrInfoArr);var e=document.getElementById("tab_value").value,f=document.getElementById("width_line").value,g=document.getElementById("height_line").value,
h=document.getElementById("width").value,r="px";document.getElementById("width_type")&&""!=document.getElementById("width_type").value&&(r=document.getElementById("width_type").value);var t=document.getElementById("height").value,v="";1==document.getElementById("table_edge_reduce").checked?v="Y":0==document.getElementById("table_edge_reduce").checked&&(v="N");var z=document.getElementById("range").value,D=document.getElementById("topcell1"),C=document.getElementById("topcell2"),E=document.getElementById("bottomcell1");
document.getElementById("bottomcell2");var w={outsideTop:"",outsideLeft:"",outsideRight:"",outsideBottom:"",insideRow:"",insideCol:""};w.outsideTop=D.style.borderTop;w.outsideLeft=D.style.borderLeft;w.outsideRight=C?C.style.borderRight:D.style.borderRight;w.outsideBottom=E?E.style.borderBottom:D.style.borderBottom;E&&(w.insideRow=E.style.borderTop);C&&(w.insideCol=D.style.borderRight);var D=document.getElementById("cell_gap").value,C=document.getElementById("cell_inside_margin").value,E=document.getElementById("table_caption").value,
y=document.getElementById("table_summary").value,M=document.getElementById("add").value,K=document.getElementById("repeat").value,I=document.getElementById("horizontal").value,N=document.getElementById("vertical").value,H=document.getElementById("background_color").style.backgroundColor,L="N";1==document.getElementById("scope").checked&&(L="Y");var J=document.getElementById("title_cell").value,O=document.getElementById("t_width_line").value,F=document.getElementById("t_height_line").value,G=document.getElementById("t_width").value,
ja=document.getElementById("t_height").value,ea="N";1==document.getElementById("t_scope").checked&&(ea="Y");var Q=document.getElementById("templet").value,R=LayerWin.parseIntOr0(document.getElementById("margin_left").value),fa=document.getElementById("class_name").value,ka=document.getElementById("table_id").value;"none"==document.getElementById("class_name").style.display&&(fa=null);var Z=!1;document.getElementById("input_cell_include")&&document.getElementById("input_cell_include").checked&&(Z=
!0);var ga=document.getElementById("custom_templet").value;LayerWin.event_keditor_detail_table_insert(e,f,g,h,t,v,z,w,D,C,E,y,d,M,K,I,N,H,L,J,O,F,G,ja,ea,Q,R,window.frameElement.parentNode.parentNode,fa,ka,Z,ga,gXmlData,c,r);event_keditor_table_cancel()};0<G_SelectedFiles.length?(b={files:G_SelectedFiles,uploadType:"table_bg_image",errorType:"imageUpload"},d=new LayerWin.FileProcessHandler(a),"base64"==a._config.uploadMethod?d.convertBase64(b,c):("1"==a._config.useKManager&&(b.notExcuteInsertImageUrl=
!0),d.uploadFiles(b,c))):(b=document.getElementById("image_url_value").value,"1"==a._config.useKManager&&(b=LayerWin.convertImageAgentSrc(b,!0)),a=[],""!=b&&a.push({url:b}),c(a))}
function insertTablePropertyBackgroundImage(){var a=LayerWin._k_editor,c=a._config.accessibility,b=document.getElementById("table_caption").value,d=document.getElementById("table_summary").value,e="N";1==document.getElementById("scope").checked&&(e="Y");var f=document.getElementById("title_cell").value;if("1"==c)""==b&&alert(LayerWin.RAONKEditor_lang.msg.alert_table_caption_access1),""==d&&alert(LayerWin.RAONKEditor_lang.msg.alert_table_summary_access1),"1"!=f&&"N"==e&&alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access1);
else if("2"==c){if(""==b){alert(LayerWin.RAONKEditor_lang.msg.alert_table_caption_access2);document.getElementById("table_caption").focus();return}if(""==d){alert(LayerWin.RAONKEditor_lang.msg.alert_table_summary_access2);document.getElementById("table_summary").focus();return}if("1"!=f&&"N"==e){alert(LayerWin.RAONKEditor_lang.msg.alert_scope_access2);document.getElementById("scope").focus();return}}c=function(a,b){loading_image_show(!1);var c=[],d="";0<a.length&&(d=a[0].url,c=a[0].urlInfo.imgAttrInfoArr);
var e=document.getElementById("width").value,f="px";document.getElementById("width_type")&&""!=document.getElementById("width_type").value&&(f=document.getElementById("width_type").value);var p=document.getElementById("height").value,q="";1==document.getElementById("table_edge_reduce").checked?q="Y":0==document.getElementById("table_edge_reduce").checked&&(q="N");var u=document.getElementById("range").value,x=LayerWin.parseIntOr0(document.getElementById("margin_left").value),r=document.getElementById("topcell1"),
t=document.getElementById("topcell2"),v=document.getElementById("bottomcell1");document.getElementById("bottomcell2");var z={outsideTop:"",outsideLeft:"",outsideRight:"",outsideBottom:"",insideRow:"",insideCol:""};z.outsideTop=r.style.borderTop;z.outsideLeft=r.style.borderLeft;z.outsideRight=t?t.style.borderRight:r.style.borderRight;z.outsideBottom=v?v.style.borderBottom:r.style.borderBottom;v&&(z.insideRow=v.style.borderTop);t&&(z.insideCol=r.style.borderRight);var r=document.getElementById("cell_gap").value,
t=document.getElementById("cell_inside_margin").value,v=document.getElementById("table_caption").value,D=document.getElementById("table_summary").value,C=document.getElementById("prev_background_remove").value,E=document.getElementById("add").value,w=document.getElementById("repeat").value,y=document.getElementById("horizontal").value,M=document.getElementById("vertical").value,K=document.getElementById("background_color").style.backgroundColor,I="N";1==document.getElementById("scope").checked&&(I=
"Y");var N=document.getElementById("title_cell").value,H=document.getElementById("table_id").value,L=document.getElementById("class_name").value;"none"==document.getElementById("class_name").style.display&&(L=null);var J=!1;document.getElementById("input_cell_include")&&document.getElementById("input_cell_include").checked&&(J=!0);LayerWin.event_keditor_table_property(e,p,q,u,z,r,t,v,D,C,d,E,w,y,M,K,I,N,x,window.frameElement.parentNode.parentNode,L,H,J,c,f,{cellPaddingMode:window.G_CELLPADDINGMODE});
event_keditor_table_cancel()};0<G_SelectedFiles.length?(b={files:G_SelectedFiles,uploadType:"p_table_bg_image",errorType:"imageUpload"},d=new LayerWin.FileProcessHandler(a),"base64"==a._config.uploadMethod?d.convertBase64(b,c):("1"==a._config.useKManager&&(b.notExcuteInsertImageUrl=!0),d.uploadFiles(b,c))):(a=document.getElementById("image_url_value").value,"1"==LayerWin._k_editor._config.useKManager&&(a=LayerWin.convertImageAgentSrc(a,!0)),b=[],""!=a&&b.push({url:a,urlInfo:LayerWin.parseImageUrlFromHandler(a)}),
null!=KEDITORTOP.G_CURRKEDITOR.keditor_dragresize&&KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.G_ResizeHandlerActivatedFlag&&(KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.G_ResizeHandlerActivatedFlag=!1,KEDITORTOP.G_CURRKEDITOR.keditor_dragresize.setResizeHandle(null,!0)),c(b))}
function insertVideo(){var a=KEditorLayerWin._k_editor,c=function(b,c){loading_image_show(!1);var d="";if(document.getElementsByName("InputFlag_video_media")[0].checked){if(c&&0<c.length){G_VIDEO_POSTERURL=null;return}if(b&&0<b.length&&(d=b[0].url,elemModify)){"0"==a._config.useReplaceImage?null!=elemModify.getAttribute("src")?(elemData.src=d,elemData.source=[]):0<elemModify.getElementsByTagName("source").length&&(elemData.source=[],elemData.source.push({src:d}),elemData.src=""):""!=elemData.src?
(elemData.src=d,elemData.source=[]):0<elemData.source.length&&(elemData.source=[],elemData.source.push({src:d}),elemData.src="");0!=a._config.useVideoPoster&&(elemData.poster=null==G_VIDEO_POSTERURL?"":G_VIDEO_POSTERURL);G_VIDEO_POSTERURL=null;"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),LayerWin.hideDialog(window.frameElement.parentNode.parentNode));return}}else{d=document.getElementById("web_video_media_url");if(elemModify){""!=elemData.src?elemData.src=web_url_remove_char(d.value):
0<elemData.source.length&&(elemData.source.length=1,elemData.source[0]={src:web_url_remove_char(d.value)});if("1"==KEDITORTOP.G_CURRKEDITOR._config.useVideoPoster||"2"==KEDITORTOP.G_CURRKEDITOR._config.useVideoPoster)elemData.poster=null==G_VIDEO_POSTERURL?"":G_VIDEO_POSTERURL,G_VIDEO_POSTERURL=null;else if(d=elemModify.getAttribute("poster"))elemData.poster=d;"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),LayerWin.hideDialog(window.frameElement.parentNode.parentNode));
return}d=web_url_remove_char(d.value)}var e=document.getElementById("media_width").value,k=document.getElementById("media_height").value,l=document.getElementById("media_width_unit"),n=document.getElementById("media_height_unit"),l=0==LayerWin.parseIntOr0(e)?"":e+l.value,n=0==LayerWin.parseIntOr0(k)?"":k+n.value,n={type:"video_media",src:d,width:l,height:n,autoPlay:document.getElementById("cb_autostart").checked,loop:document.getElementById("cb_loop").checked,controls:document.getElementById("cb_controls").checked,
muted:document.getElementById("cb_muted").checked,responsiveWidth:document.getElementById("cb_responsiveWidth").checked,allowDownload:document.getElementById("cb_allowDownload").checked,isUrl:document.getElementById("radio_video_media_url").checked,isFirst:!0,textContent:""};null!=G_VIDEO_POSTERURL&&(n.poster=G_VIDEO_POSTERURL,G_VIDEO_POSTERURL=null);e=""+("<video style='width:"+e+"px; height:"+k+"px;'");1==n.autoPlay&&(e+=" autoplay=''");1==n.loop&&(e+=" loop=''");1==n.controls&&(e+=" controls=''");
1==n.muted&&(e+=" muted=''");var e=e+">",k=KEDITORTOP.G_CURRKEDITOR._config.allowVideoFileType.length,l="",p=n.src.slice(n.src.lastIndexOf(".")+1,n.src.length);if(n.isUrl)e+="<source src='"+n.src+"' type='video/"+("ogv"==p?"ogg":p)+"' />";else for(var e=e+("<source src='"+n.src+"' type='video/"+("ogv"==p?"ogg":p)+"' />"),q=0;q<k;q++)l=KEDITORTOP.G_CURRKEDITOR._config.allowVideoFileType[q],l!=p&&(e+="<source src='"+n.src.slice(0,n.src.lastIndexOf("."))+"."+l+"' type='video/"+("ogv"==l?"ogg":l)+"' />");
e+="HTML5 Video\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800</video>";LayerWin.event_keditor_media_upload("","","0",d,e,n,window.frameElement.parentNode.parentNode);event_keditor_image_upload_cancel()},b=function(){if(document.getElementsByName("InputFlag_video_media")[0].checked){var b={files:G_VideoMediaFile,uploadType:"video",errorType:"mediaUpload",agentUpload:!0};(new LayerWin.FileProcessHandler(a)).uploadFiles(b,c)}else{var b="",d=document.getElementById("web_video_media_url"),
b=d.value,e=(new RegExp(/^(http|ftp|https|news)/)).test(b),m=/^\s\s*$/;""==b||m.exec(b)||e&&!LayerWin.urlCheckOrPass(b)?(G_VIDEO_POSTERURL=null,alert(LayerWin.RAONKEditor_lang.msg.alert_url),d.focus()):c()}},d=function(a,c){loading_image_show(!1);var d="";0<a.length&&(d=a[0].url);document.getElementsByName("InputFlag_poster_media")[0].checked&&c&&0<c.length||(G_VIDEO_POSTERURL=d,b())},e=function(){var c="";if(document.getElementsByName("InputFlag_poster_media")[0].checked)c=document.getElementById("poster_media_text").value,
""!=c||"0"!=a._config.useVideoPoster&&"1"!=a._config.useVideoPoster?(c={files:G_PosterMediaFile,uploadType:"image",errorType:"mediaUpload",agentUpload:!0},(new LayerWin.FileProcessHandler(a)).uploadFiles(c,d)):b();else{var e=document.getElementById("web_poster_media_url"),c=e.value;if(""!=c||"0"!=a._config.useVideoPoster&&"1"!=a._config.useVideoPoster){var h=(new RegExp(/^(http|ftp|https|news)/)).test(c),m=/^\s\s*$/;""==c||m.exec(c)||h&&!LayerWin.urlCheckOrPass(c)?(alert(LayerWin.RAONKEditor_lang.msg.alert_url),
e.focus()):d([{url:c}])}else b()}};"0"==a._config.useVideoPoster?keditor_upload_video_media_validation("video_media")&&b():keditor_upload_video_media_validation("poster_media")&&keditor_upload_video_media_validation("video_media")&&e()}
function ExecuteVideo(){DialogFileProcess.call(this);this.uploadType="";this.processVideoEnd=function(a){loading_image_show(!1);if(document.getElementsByName("InputFlag_video_media")[0].checked){if(0<a.errorData.length){try{G_VIDEO_POSTERURL=null;var c={strType:"mediaUpload",strMessage:a.errorData[0].message},b;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?b=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&
(b=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,c));if(0==b)return}catch(d){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(d)}var e=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(e=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));e&&alert(a.errorData[0].message);a.resetData();return}e="";if(0<a.successData.length){e=a.successData[0].url;e=LayerWin.parseImageUrlFromHandler(e).url;try{var c={strUrl:e},f;"function"===
typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?f=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,c):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,c));"string"==typeof f&&(e=f)}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}if(elemModify){"0"==LayerWin._k_editor._config.useReplaceImage?null!=elemModify.getAttribute("src")?
(elemData.src=e,elemData.source=[]):0<elemModify.getElementsByTagName("source").length&&(elemData.source=[],elemData.source.push({src:e}),elemData.src=""):""!=elemData.src?(elemData.src=e,elemData.source=[]):0<elemData.source.length&&(elemData.source=[],elemData.source.push({src:e}),elemData.src="");0!=LayerWin._k_editor._config.useVideoPoster&&(elemData.poster=null==G_VIDEO_POSTERURL?"":G_VIDEO_POSTERURL);G_VIDEO_POSTERURL=null;a.resetData();"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),
LayerWin.hideDialog(window.frameElement.parentNode.parentNode));return}}}else if(elemModify){e=document.getElementById("web_video_media_url");""!=elemData.src?elemData.src=web_url_remove_char(e.value):0<elemData.source.length&&(elemData.source.length=1,elemData.source[0]={src:web_url_remove_char(e.value)});if("1"==KEDITORTOP.G_CURRKEDITOR._config.useVideoPoster||"2"==KEDITORTOP.G_CURRKEDITOR._config.useVideoPoster)elemData.poster=null==G_VIDEO_POSTERURL?"":G_VIDEO_POSTERURL,G_VIDEO_POSTERURL=null;
else if(e=elemModify.getAttribute("poster"))elemData.poster=e;a.resetData();"function"===typeof G_UploadCompleteCallBackFn&&(G_UploadCompleteCallBackFn(),LayerWin.hideDialog(window.frameElement.parentNode.parentNode));return}b=document.getElementById("media_width").value;a=document.getElementById("media_height").value;f=document.getElementById("media_width_unit");c=document.getElementById("media_height_unit");b=0==LayerWin.parseIntOr0(b)?"":b+f.value;a=0==LayerWin.parseIntOr0(a)?"":a+c.value;LayerWin.insertElementsSrc(KEDITORTOP.G_CURRKEDITOR,
e);a={type:"video_media",src:e,width:b,height:a,autoPlay:document.getElementById("cb_autostart").checked,loop:document.getElementById("cb_loop").checked,controls:document.getElementById("cb_controls").checked,muted:document.getElementById("cb_muted").checked,responsiveWidth:document.getElementById("cb_responsiveWidth").checked,allowDownload:document.getElementById("cb_allowDownload").checked,isUrl:document.getElementById("radio_video_media_url").checked,isFirst:!0,textContent:""};null!=G_VIDEO_POSTERURL&&
(a.poster=G_VIDEO_POSTERURL,G_VIDEO_POSTERURL=null);LayerWin.event_keditor_media_upload("","","0",e,"",a,window.frameElement.parentNode.parentNode);event_keditor_image_upload_cancel()};this.processVideo=function(){if(document.getElementsByName("InputFlag_video_media")[0].checked)this.selectedFiles=G_VideoMediaFile,this.uploadFiles({uploadType:"video",agentUpload:!0},this.processVideoEnd);else{var a="",c=document.getElementById("web_video_media_url"),a=c.value,b=(new RegExp(/^(http|ftp|https|news)/)).test(a),
d=/^\s\s*$/;""==a||d.exec(a)||b&&!LayerWin.urlCheckOrPass(a)?(G_VIDEO_POSTERURL=null,alert(LayerWin.RAONKEditor_lang.msg.alert_url),c.focus()):(this.addSuccessData(a),this.processVideoEnd(this))}};this.processPosterEnd=function(a){loading_image_show(!1);var c="";0<a.successData.length&&(c=a.successData[0].url,c=LayerWin.parseImageUrlFromHandler(c).url);if(document.getElementsByName("InputFlag_poster_media")[0].checked){if(0<a.errorData.length){try{var b={strType:"mediaUpload",strMessage:a.errorData[0].message},
d;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?d=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(d=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,b));if(0==d)return}catch(e){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(e)}c=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(c=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));
c&&alert(a.errorData[0].message);a.resetData();return}try{var b={strUrl:c},f;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?f=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,b));"string"==typeof f&&(c=f)}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}}G_VIDEO_POSTERURL=
c;a.resetData();a.processVideo()};this.processPoster=function(){var a="";if(document.getElementsByName("InputFlag_poster_media")[0].checked)a=document.getElementById("poster_media_text").value,""!=a||"0"!=LayerWin._k_editor._config.useVideoPoster&&"1"!=LayerWin._k_editor._config.useVideoPoster?(this.selectedFiles=G_PosterMediaFile,this.uploadFiles({uploadType:"image",agentUpload:!0},this.processPosterEnd)):this.processVideo();else{var c=document.getElementById("web_poster_media_url"),a=c.value;if(""!=
a||"0"!=LayerWin._k_editor._config.useVideoPoster&&"1"!=LayerWin._k_editor._config.useVideoPoster){var b=(new RegExp(/^(http|ftp|https|news)/)).test(a),d=/^\s\s*$/;""==a||d.exec(a)||b&&!LayerWin.urlCheckOrPass(a)?(alert(LayerWin.RAONKEditor_lang.msg.alert_url),c.focus(),this.resetData()):(this.addSuccessData(a),this.processPosterEnd(this))}else this.processVideo()}};this.start=function(){"0"==KEditorLayerWin._k_editor._config.useVideoPoster?keditor_upload_video_media_validation("video_media")&&this.processVideo():
keditor_upload_video_media_validation("poster_media")&&keditor_upload_video_media_validation("video_media")&&this.processPoster()}}
function keditor_upload_video_media_validation(a){var c="";if(document.getElementsByName("InputFlag_"+a)[0].checked){c=document.getElementById(a+"_text").value;if(""==c){if("poster_media"==a&&("0"==LayerWin._k_editor._config.useVideoPoster||"1"==LayerWin._k_editor._config.useVideoPoster))return!0;alert(("poster_media"===a?LayerWin.RAONKEditor_lang.video.poster:LayerWin.RAONKEditor_lang.video.video)+" "+LayerWin.RAONKEditor_lang.msg.alert_no_file);return!1}var b=!1;if(0<c.lastIndexOf("."))for(var d=
"poster_media"===a?LayerWin._k_editor._config.allowImageFileType:LayerWin._k_editor._config.allowVideoFileType,c=c.substring(c.lastIndexOf(".")+1).toLowerCase(),e=d.length,f=0;f<e;f++)if(c==d[f]){b=!0;break}if(0==b)return alert(("poster_media"===a?LayerWin.RAONKEditor_lang.video.poster:LayerWin.RAONKEditor_lang.video.video)+": "+d.toString()+LayerWin.RAONKEditor_lang.msg.alert_exec_tail),!1}else{b=document.getElementById("web_"+a+"_url");c=b.value;if(""==c&&"poster_media"==a&&("0"==LayerWin._k_editor._config.useVideoPoster||
"1"==LayerWin._k_editor._config.useVideoPoster))return!0;a=(new RegExp(/^(http|ftp|https|news)/)).test(c);d=/^\s\s*$/;if(""==c||d.exec(c)||a&&!LayerWin.urlCheckOrPass(c))return alert(LayerWin.RAONKEditor_lang.msg.alert_url),b.focus(),!1}return!0}
function event_keditor_cell_border_completed(){var a=document.getElementById("edge_border").style.borderTop,c=document.getElementById("edge_border").style.borderLeft,b=document.getElementById("edge_border").style.borderRight,d=document.getElementById("edge_border").style.borderBottom;LayerWin.event_keditor_cell_border(a,c,b,d,window.frameElement.parentNode.parentNode)}
function event_keditor_dog_bg_img_completed(a){null!=a&&void 0!=a&&(a=a.replace(/\r\n/g,""),a=a.replace(/\n/g,""),a=a.replace(/\t/g,""),a=web_url_remove_char(a));var c=[];if(_init_image_url!=a){try{var b={strUrl:a},d;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?d=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&(d=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,
b));null!=d&&void 0!=d&&(a=d)}catch(e){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(e)}null!=a&&void 0!=a&&(c=[],"0"!=LayerWin._k_editor._config.imageCustomPropertyDelimiter&&(c=a.split(LayerWin._k_editor._config.imageCustomPropertyDelimiter),1<c.length&&(a=c[0])),d=a.split("?"),2==d.length&&(a=d[0],d=d[1].split("^"),3==d.length&&(a+="?"+d[2])),"[FAIL]"!=a.substring(0,6)&&LayerWin.insertImageSrc(KEDITORTOP.G_CURRKEDITOR,a))}loading_image_show(!1);if("[FAIL]"==a.substring(0,
6))try{var b={strType:"imageUpload",strMessage:a},f;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.onError?f=KEDITORTOP.G_CURRKEDITOR._config.event.onError(KEDITORTOP.G_CURRKEDITOR.ID,b):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError&&(f=KEDITORTOP.KEDITORWIN.RAONKEDITOR_OnError(KEDITORTOP.G_CURRKEDITOR.ID,b));if(0==f)return;b=!0;"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(b=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed));b&&alert(a);
return}catch(g){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(g)}a=web_url_remove_char(a);b=document.getElementById("prev_background_remove").value;f=document.getElementById("add").value;d=document.getElementById("repeat").value;var h=document.getElementById("background_color").style.backgroundColor;LayerWin.event_keditor_dog_bg_img_insert(b,a,f,d,h,window.frameElement.parentNode.parentNode,c)}
function event_keditor_find_completed(){var a=document.getElementById("search_contents").value,c=document.getElementsByName("search_option")[0].checked,b=document.getElementsByName("search_option")[1].checked,d=document.getElementsByName("search_option")[2].checked,e;1==document.getElementsByName("search_direction")[0].checked?e=!1:1==document.getElementsByName("search_direction")[1].checked&&(e=!0);LayerWin.event_keditor_find(a,c,b,d,e,window.frameElement.parentNode.parentNode)}
function event_keditor_replace_completed(){var a=document.getElementById("search_contents").value,c=document.getElementById("replace_contents").value,b=document.getElementsByName("search_option")[0].checked,d=document.getElementsByName("search_option")[1].checked,e=document.getElementsByName("search_option")[2].checked,f;1==document.getElementsByName("search_direction")[0].checked?f=!1:1==document.getElementsByName("search_direction")[1].checked&&(f=!0);LayerWin.event_keditor_replace(a,c,b,d,e,f,
window.frameElement.parentNode.parentNode)}
function event_keditor_all_replace_completed(){var a=document.getElementById("search_contents").value,c=document.getElementById("replace_contents").value,b=document.getElementsByName("search_option")[0].checked,d=document.getElementsByName("search_option")[1].checked,e=document.getElementsByName("search_option")[2].checked,f;1==document.getElementsByName("search_direction")[0].checked?f=!1:1==document.getElementsByName("search_direction")[1].checked&&(f=!0);LayerWin.event_keditor_all_replace(a,c,
b,d,e,f,window.frameElement.parentNode.parentNode,!0)}function event_keditor_spellcheck_find_completed(a){LayerWin.event_keditor_spellcheck_find(a)}function event_keditor_spellcheck_replace_completed(){var a=document.getElementById("wrong_word").value,c=document.getElementById("replace_word").value;LayerWin.event_keditor_spellcheck_replace(a,c)}
function event_keditor_spellcheck_all_replace_completed(){var a=document.getElementById("wrong_word").value,c=document.getElementById("replace_word").value;LayerWin.event_keditor_spellcheck_all_replace(a,c)}
function event_keditor_capital_small_letter_completed(){1==document.getElementsByName("capital_small_letter")[0].checked?_capital_small_letter="LOWER":1==document.getElementsByName("capital_small_letter")[1].checked?_capital_small_letter="UPPER":1==document.getElementsByName("capital_small_letter")[2].checked&&(_capital_small_letter="FIRSTUPPER");LayerWin.event_keditor_capital_small_letter(_capital_small_letter,window.frameElement.parentNode.parentNode)}
var G_RECENT_EMOTICON={basePlusUrl:function(a,c){return c?0==c.toLowerCase().indexOf("http:")||0==c.toLowerCase().indexOf("https:")?c:""!==a?a+c:c:""},sameUrlIndex:function(a,c,b){return a?(a=KEDITORTOP.RAONKEDITOR.util.jsonToString(a),c?a.indexOf(c):a.indexOf(b)):-1}};
function event_keditor_emoticon_completed(a,c,b,d,e,f){if(KEDITORTOP.RAONKEDITOR.browser.LocalStorageSupported&&e&&0<e.length){b=[];for(var g=d="",h=b.length,m=function(a){var b={};KEDITORTOP.RAONKEDITOR.util.stringTypeIsEmpty(a.s)||(b.s=a.s);KEDITORTOP.RAONKEDITOR.util.stringTypeIsEmpty(a.p_s)||(b.p_s=a.p_s);KEDITORTOP.RAONKEDITOR.util.stringTypeIsEmpty(a.b)||(b.b=a.b);KEDITORTOP.RAONKEDITOR.util.stringTypeIsEmpty(a.p_b)||(b.p_b=a.p_b);KEDITORTOP.RAONKEDITOR.util.stringTypeIsEmpty(a.a)||(b.a=a.a);
return b},k=0;k<e.length;){var l=e[k],n,p=l.s,q=l.p_s,u=l.a;if(0==h)h=m({s:p,p_s:q,a:u}),b.push(KEDITORTOP.RAONKEDITOR.util.jsonToString(h));else{n=KEDITORTOP.RAONKEDITOR.util.stringToJson(b[h-1]);var x=e[k-1],l=x.s,x=x.p_s,r={s:p,p_s:q,a:u},u=function(a,b,c){for(var d=a,e="";a&&b;)if(a=a.substring(0,a.lastIndexOf("/")),""!=a&&0==b.indexOf(a)){"preview"!=c?(n.s=d.substr(a.length),n.b="",r.b=a,r.s=b.substr(a.length)):(n.p_s=d.substr(a.length),n.p_b="",r.p_b=a,r.p_s=b.substr(a.length));isChecked=!0;
e=a;break}return e};if(""!=d&&n.b&&p&&0==p.indexOf(d))n.s=l.substr(d.length),n.b="",r.s=p.substr(d.length),r.b=d;else if(""==d||void 0===n.b)d=u(l,p);if(""!=g&&n.p_b&&q&&0==q.indexOf(g))n.p_s=x.substr(g.length),n.p_b="",r.p_s=q.substr(g.length),r.p_b=g;else if(""==g||void 0===n.p_b)g=u(x,q,"preview");b[h-1]=KEDITORTOP.RAONKEDITOR.util.jsonToString(m(n));b.push(KEDITORTOP.RAONKEDITOR.util.jsonToString(m(r)))}h=b.length;k++}KEDITORTOP.KEDITORWIN.localStorage.setItem("raonk_"+KEDITORTOP.G_CURRKEDITOR.ID+
"_emotion_list",b.join("|"))}e={srcURL:a,width:"",height:"",title:c,alt:c,margin_left:"",margin_right:"",margin_top:"",margin_bottom:"",align_obj:"",align:"",border:"0",linkurl:"",borderStyle:"",borderKind:"",borderColor:"",borderThickness:""};a={url:a,preViewUrl:f,title:c,alt:c};"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.insertEmoticon?KEDITORTOP.G_CURRKEDITOR._config.event.insert_emoticon(KEDITORTOP.G_CURRKEDITOR.ID,a):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_InsertEmoticon&&
KEDITORTOP.KEDITORWIN.RAONKEDITOR_InsertEmoticon(KEDITORTOP.G_CURRKEDITOR.ID,a);LayerWin.event_keditor_emoticon_insert(e,window.frameElement.parentNode.parentNode)}
function event_keditor_insert_row_column_completed(){var a="",c="";1==document.getElementById("row").checked?(a="R",1==document.getElementById("up").checked?c="U":1==document.getElementById("down").checked&&(c="D")):1==document.getElementById("column").checked&&(a="C",1==document.getElementById("right").checked?c="R":1==document.getElementById("left").checked&&(c="L"));var b=document.getElementById("line_count").value;LayerWin.event_keditor_insert_row_column(a,c,b,window.frameElement.parentNode.parentNode)}
function event_keditor_row_property_completed(){var a=document.getElementById("background_color").style.backgroundColor,c=document.getElementById("row_height").value,b=document.getElementById("row_thead").checked,d=document.getElementById("horizontal_align").value,e=document.getElementById("vertical_align").value;LayerWin.event_keditor_row_property(a,c,b,d,e,window.frameElement.parentNode.parentNode)}
function event_keditor_column_property_completed(){var a=document.getElementById("background_color").style.backgroundColor,c=document.getElementById("column_width").value,b=document.getElementById("horizontal_align").value,d=document.getElementById("vertical_align").value;LayerWin.event_keditor_column_property(a,c,b,d,window.frameElement.parentNode.parentNode)}
function keditor_create_iframe(){var a=document.getElementById("input_url").value,a=web_url_remove_char(a),c=(new RegExp(/^(http|ftp|https|news)/)).test(a),b=/^\s\s*$/;if(""==a||b.exec(a)||c&&!LayerWin.urlCheckOrPass(a))alert(LayerWin.RAONKEditor_lang.msg.alert_url),setCursorPos(document.getElementById("input_url"),!0,!1);else if(LayerWin.checkXssContentType(a,{editor:LayerWin._k_editor}))alert(LayerWin.RAONKEditor_lang.msg.alert_insert_url_xss),setCursorPos(document.getElementById("input_url"),!0,
!1);else{c=LayerWin._k_editor._config.accessibility;b=document.getElementById("input_title").value;if("1"==c)""==b&&alert(LayerWin.RAONKEditor_lang.msg.alert_iframe_input_title_access1);else if("2"==c&&""==b){alert(LayerWin.RAONKEditor_lang.msg.alert_iframe_input_title_access2);document.getElementById("input_title").focus();return}var c=document.getElementById("input_width").value,d=document.getElementById("input_width_unit"),b=document.getElementById("input_height_unit"),d=0==LayerWin.parseIntOr0(c)?
"":c+d.value,c=document.getElementById("input_height").value,c=0==LayerWin.parseIntOr0(c)?"":c+b.value,a={type:"iframe",src:a,id:document.getElementById("input_id").value,name:document.getElementById("input_name").value,className:document.getElementById("input_class").value,title:document.getElementById("input_title").value,width:d,height:c,align:document.getElementById("select_align").value,scrolling:document.getElementById("select_scroll").value,frameBorder:document.getElementById("input_border").checked},
c=LayerWin.getLinkMediaType(a.src);0<c.length&&(a.type=c,a.type2="iframe");LayerWin.event_keditor_create_iframe(a,window.frameElement.parentNode.parentNode)}}
function split_cell_ok(){var a=document.getElementById("input_row"),c=document.getElementById("input_column"),b=document.getElementsByName("radio_split")[0],d=document.getElementsByName("radio_split")[1];b.checked?c.value="0":d.checked&&(a.value="0");LayerWin.event_keditor_split_cell(a.value,c.value,window.frameElement.parentNode.parentNode)}function symbol_ok(){var a=document.getElementById("input_output");LayerWin.event_keditor_symbol(a.innerHTML,window.frameElement.parentNode.parentNode)}
function template_ok(){var a=document.getElementById("clicked_template").value,c=document.getElementById("template_print_header").value,b=document.getElementById("template_print_footer").value,a={url:a,print_header:c,print_footer:b};0==KEDITORTOP.RAONKEDITOR.isEmpty()?1==confirm(LayerWin.RAONKEditor_lang.msg.newDocument)&&LayerWin.event_keditor_template(a,window.frameElement.parentNode.parentNode):LayerWin.event_keditor_template(a,window.frameElement.parentNode.parentNode)}
function keditor_insert_link_media(){if(""==document.getElementById("ta_media_tag").value)alert(LayerWin.RAONKEditor_lang.insert_link_media.tag_null);else{var a="",c=document.getElementById("ta_media_tag").value,b=document.getElementById("ta_media_caption").value,d=!1;document.getElementById("check_allow_full_screen")&&(d=document.getElementById("check_allow_full_screen").checked);var c=c.replace(/\r\n/g,""),c=c.replace(/\n/g,""),c=c.replace(/\r/g,""),a=c.match(/(<[\s]*embed [^>]+>)/gi),e=c.match(/(<[\s]*iframe [^>]+>)/gi),
c=c.match(/(<[\s]*object [^>]+>)/gi),f=LayerWin._k_editor._config.xss_remove_tags.toLowerCase();if(c&&-1<f.indexOf("object"))alert(LayerWin.RAONKEditor_lang.msg.alert_insert_link_media_xss);else{if(a){if(-1<f.indexOf("embed")){alert(LayerWin.RAONKEditor_lang.msg.alert_insert_link_media_xss);return}a=a[0]}else if(e){if(-1<f.indexOf("iframe")){alert(LayerWin.RAONKEditor_lang.msg.alert_insert_link_media_xss);return}a=e[0]}else{alert(LayerWin.RAONKEditor_lang.insert_link_media.invalid_tag);return}if("1"==
LayerWin._k_editor._config.allowLinkMediaCaption)if("1"==LayerWin._k_editor._config.accessibility)""==b&&alert(LayerWin.RAONKEditor_lang.msg.alert_insert_link_media_caption_access1);else if("2"==LayerWin._k_editor._config.accessibility&&""==b){alert(LayerWin.RAONKEditor_lang.msg.alert_insert_link_media_caption_access2);document.getElementById("ta_media_caption").focus();return}LayerWin.event_keditor_insert_link_media(a,b,d,window.frameElement.parentNode.parentNode)}}}
function keditor_modify_link_media(a){if(""==document.getElementById("ta_media_tag").value)alert(LayerWin.RAONKEditor_lang.insert_link_media.tag_null);else{var c="",b=document.getElementById("ta_media_tag").value,d=document.getElementById("ta_media_caption").value,e=!1;document.getElementById("check_allow_full_screen")&&(e=document.getElementById("check_allow_full_screen").checked);b=b.replace(/\r\n/g,"");b=b.replace(/\n/g,"");b=b.replace(/\r/g,"");c=b.match(/(<[\s]*embed [^>]+>)/gi);b=b.match(/(<[\s]*iframe [^>]+>)/gi);
if(c)c=c[0];else if(b)c=b[0];else{alert(LayerWin.RAONKEditor_lang.insert_link_media.invalid_tag);return}LayerWin.event_keditor_modify_link_media(c,d,e,a,window.frameElement.parentNode.parentNode)}}function keditor_insert_paste_dialog_html(){var a=document.getElementById("pasteArea").contentWindow.document.body.innerHTML;LayerWin.event_keditor_insert_paste_dialog_html(a,window.frameElement.parentNode.parentNode)}
function keditor_insert_input_text(){var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:"",insertAlign:"",insertWidth:"",insertHeight:"",insertDisabled:!1,insertReadonly:!1,insertType:"text",insertSize:"",insertMaxlength:"",insertEventNameArr:[],insertEventFunctionArr:[]};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;
a.insertTitle=document.getElementById("input_title").value;a.insertAlign=document.getElementById("input_textalign").value;a.insertWidth="0"==document.getElementById("input_width").value?"":document.getElementById("input_width").value;a.insertHeight="0"==document.getElementById("input_height").value?"":document.getElementById("input_height").value;a.insertDisabled=document.getElementById("input_disabled").checked;a.insertReadonly=document.getElementById("input_readonly").checked;a.insertSize="0"==
document.getElementById("input_size").value?"":document.getElementById("input_size").value;a.insertMaxlength="0"==document.getElementById("input_maxtext").value?"":document.getElementById("input_maxtext").value;for(var c=document.getElementsByName("input_type"),b=c.length,d=0;d<b;d++)if(1==c[d].checked){a.insertType=c[d].value;break}for(var c=document.getElementById("event_table"),b=c.childNodes.length,d=0;d<b;d++){var e=c.childNodes[d].getElementsByTagName("span");a.insertEventNameArr.push(e[0].innerHTML);
a.insertEventFunctionArr.push(e[1].innerHTML)}LayerWin.event_keditor_insert_input_text(a,window.frameElement.parentNode.parentNode)}
function set_modify_field_input_text(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);elemModify.getAttribute("value")&&""!=elemModify.getAttribute("value")&&(document.getElementById("input_value").value=elemModify.getAttribute("value"));""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=
elemModify.title);""!=elemModify.style.textAlign&&(document.getElementById("input_textalign").value=elemModify.style.textAlign);""!=elemModify.style.width&&(document.getElementById("input_width").value=parseInt(elemModify.style.width,10));""!=elemModify.style.height&&(document.getElementById("input_height").value=parseInt(elemModify.style.height,10));elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);elemModify.readOnly&&(document.getElementById("input_readonly").checked=
!0);elemModify.getAttribute("size")&&""!=elemModify.getAttribute("size")&&(document.getElementById("input_size").value=elemModify.getAttribute("size"));elemModify.getAttribute("maxlength")&&""!=elemModify.getAttribute("maxlength")&&(document.getElementById("input_maxtext").value=elemModify.getAttribute("maxlength"));"text"==elemModify.type?(document.getElementById("input_type_general").checked=!0,document.getElementById("input_type_password").checked=!1):"password"==elemModify.type&&(document.getElementById("input_type_general").checked=
!1,document.getElementById("input_type_password").checked=!0);if(elemModify.getAttribute("keditorcustomdata")){var a=LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata"));if("event"==a.type){var c=a.eventFunction,a=a.eventName.split("\x0B"),c=c.split("\x0B"),b=a.length;for(i=0;i<b;i++){var d=document.getElementById("event_table"),e=document.createElement("tr"),f=document.createElement("td");f.className="type2";var g=document.createElement("a"),h=document.createElement("span");
h.appendChild(document.createTextNode(a[i]));g.appendChild(h);g.title=a[i];h=document.createElement("td");h.className="type2";h.style.width="65%";var m=document.createElement("a"),k=document.createElement("span");k.appendChild(document.createTextNode(c[i]));m.appendChild(k);m.title=c[i];f.appendChild(g);e.appendChild(f);h.appendChild(m);e.appendChild(h);d.appendChild(e)}}}}
function keditor_modify_input_text(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();""!=document.getElementById("input_value").value?(elemModify.setAttribute("value",document.getElementById("input_value").value),elemModify.value=document.getElementById("input_value").value):(elemModify.setAttribute("value",""),elemModify.value="");""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:
elemModify.removeAttribute("id");""!=document.getElementById("input_class").value?elemModify.className=document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_textalign").value?elemModify.style.textAlign=document.getElementById("input_textalign").value:elemModify.style.textAlign="";""!=document.getElementById("input_width").value&&
"0"!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+"px":elemModify.style.width="";""!=document.getElementById("input_height").value&&"0"!=document.getElementById("input_height").value?elemModify.style.height=document.getElementById("input_height").value+"px":elemModify.style.height="";elemModify.disabled=document.getElementById("input_disabled").checked;elemModify.readOnly=document.getElementById("input_readonly").checked;""!=document.getElementById("input_size").value&&
"0"!=document.getElementById("input_size").value?elemModify.size=document.getElementById("input_size").value:elemModify.removeAttribute("size");""!=document.getElementById("input_maxtext").value&&"0"!=document.getElementById("input_maxtext").value?elemModify.maxLength=document.getElementById("input_maxtext").value:elemModify.removeAttribute("maxLength");for(var a=document.getElementsByName("input_type"),c=a.length,b=0;b<c;b++)if(1==a[b].checked){try{elemModify.type=a[b].value}catch(d){b='<input type="'+
a[b].value+'" />',a=LayerWin._iframeDoc.createElement("div"),a.innerHTML=b,newElem=a.firstChild,LayerWin.setCopyAllObjectAtributesForInput(elemModify,newElem,!1),elemModify.parentNode.replaceChild(newElem,elemModify),LayerWin.KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT=newElem,elemModify=null,elemModify=newElem}break}""!=document.getElementById("input_name").value?KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie?elemModify.setAttribute("name",
document.getElementById("input_name").value):(b=elemModify.outerHTML,b=b.replace('name="'+elemModify.name+'"',""),b=b.replace("name='"+elemModify.name+"'",""),b=b.replace("name="+elemModify.name,""),b=b.replace(">",'name="'+document.getElementById("input_name").value+'" />'),elemModify.outerHTML=b):elemModify.removeAttribute("name");var e=document.getElementById("event_table"),f=e.childNodes.length;if(0<f){for(var c=a="",b=0;b<f;b++)0!=b&&(a+="\x0B",c+="\x0B"),a+=e.childNodes[b].getElementsByTagName("span")[0].innerHTML,
c+=e.childNodes[b].getElementsByTagName("span")[1].innerHTML;""!=a&&(b={type:"event"},b.eventName=a,b.eventFunction=c,LayerWin.setKEditorCustomData(elemModify,b))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;event_popup_close()}
function keditor_insert_input_radio_or_checkbox(a){var c={insertType:"",insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:"",insertWidth:"",insertHeight:"",insertDisabled:!1,insertChecked:!1,insertEventNameArr:[],insertEventFunctionArr:[]};c.insertType=a;c.insertName=document.getElementById("input_name").value;c.insertValue=document.getElementById("input_value").value;c.insertId=document.getElementById("input_id").value;c.insertClass=document.getElementById("input_class").value;
c.insertTitle=document.getElementById("input_title").value;c.insertWidth=document.getElementById("input_width").value;c.insertHeight=document.getElementById("input_height").value;c.insertDisabled=document.getElementById("input_disabled").checked;var b=document.getElementsByName("input_status"),d=b.length;for(a=0;a<d;a++)if(1==b[a].checked){c.insertChecked="true"==b[a].value?!0:!1;break}b=document.getElementById("event_table");d=b.childNodes.length;for(a=0;a<d;a++){var e=b.childNodes[a].getElementsByTagName("span");
c.insertEventNameArr.push(e[0].innerHTML);c.insertEventFunctionArr.push(e[1].innerHTML)}LayerWin.event_keditor_insert_input_radio_or_checkbox(c,window.frameElement.parentNode.parentNode)}
function set_modify_field_input_radio_or_checkbox(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);elemModify.getAttribute("value")&&""!=elemModify.getAttribute("value")&&(document.getElementById("input_value").value=elemModify.getAttribute("value"));""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=
elemModify.title);""!=elemModify.style.width&&(document.getElementById("input_width").value=parseInt(elemModify.style.width,10));""!=elemModify.style.height&&(document.getElementById("input_height").value=parseInt(elemModify.style.height,10));elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);elemModify.checked?document.getElementById("input_checked").checked=!0:document.getElementById("input_not_checked").checked=!0;if(elemModify.getAttribute("keditorcustomdata")){var a=
LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata"));if("event"==a.type){var c=a.eventFunction,a=a.eventName.split("\x0B"),c=c.split("\x0B"),b=a.length;for(i=0;i<b;i++){var d=document.getElementById("event_table"),e=document.createElement("tr"),f=document.createElement("td");f.className="type2";var g=document.createElement("a"),h=document.createElement("span");h.innerHTML=a[i];g.appendChild(h);g.title=a[i];h=document.createElement("td");h.className="type2";h.style.width="65%";
var m=document.createElement("a"),k=document.createElement("span");k.innerHTML=c[i];m.appendChild(k);m.title=c[i];f.appendChild(g);e.appendChild(f);h.appendChild(m);e.appendChild(h);d.appendChild(e)}}}}
function keditor_modify_input_radio_or_checkbox(a){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();""!=document.getElementById("input_value").value?elemModify.setAttribute("value",document.getElementById("input_value").value):elemModify.removeAttribute("value");""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:elemModify.removeAttribute("id");""!=document.getElementById("input_class").value?
elemModify.className=document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+"px":elemModify.style.width="";""!=document.getElementById("input_height").value?elemModify.style.height=document.getElementById("input_height").value+
"px":elemModify.style.height="";elemModify.disabled=document.getElementById("input_disabled").checked;var c=document.getElementsByName("input_status"),b=c.length;for(a=0;a<b;a++)if(1==c[a].checked){"true"==c[a].value?(elemModify.checked=!0,elemModify.setAttribute("checked","checked")):(elemModify.checked=!1,elemModify.removeAttribute("checked"));break}""!=document.getElementById("input_name").value?KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie?
elemModify.setAttribute("name",document.getElementById("input_name").value):(a=elemModify.outerHTML,a=a.replace('name="'+elemModify.name+'"',""),a=a.replace("name='"+elemModify.name+"'",""),a=a.replace("name="+elemModify.name,""),a=a.replace(">",'name="'+document.getElementById("input_name").value+'" />'),elemModify.outerHTML=a):elemModify.removeAttribute("name");var d=document.getElementById("event_table"),e=d.childNodes.length;if(0<e){b=c="";for(a=0;a<e;a++)0!=a&&(c+="\x0B",b+="\x0B"),c+=d.childNodes[a].getElementsByTagName("span")[0].innerHTML,
b+=d.childNodes[a].getElementsByTagName("span")[1].innerHTML;""!=c&&(a={type:"event"},a.eventName=c,a.eventFunction=b,LayerWin.setKEditorCustomData(elemModify,a))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;event_popup_close()}
function keditor_insert_input_button(){var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:"",insertAlign:"",insertWidth:"",insertHeight:"",insertDisabled:!1,insertType:"button",insertEventNameArr:[],insertEventFunctionArr:[]};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;a.insertTitle=document.getElementById("input_title").value;
a.insertAlign=document.getElementById("input_textalign").value;a.insertWidth=document.getElementById("input_width").value;a.insertHeight=document.getElementById("input_height").value;a.insertDisabled=document.getElementById("input_disabled").checked;for(var c=document.getElementsByName("input_type"),b=c.length,d=0;d<b;d++)if(1==c[d].checked){a.insertType=c[d].value;break}for(var c=document.getElementById("event_table"),b=c.childNodes.length,d=0;d<b;d++){var e=c.childNodes[d].getElementsByTagName("span");
a.insertEventNameArr.push(e[0].innerHTML);a.insertEventFunctionArr.push(e[1].innerHTML)}LayerWin.event_keditor_insert_input_button(a,window.frameElement.parentNode.parentNode)}
function set_modify_field_input_button(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);elemModify.getAttribute("value")&&""!=elemModify.getAttribute("value")&&(document.getElementById("input_value").value=elemModify.getAttribute("value"));""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=
elemModify.title);""!=elemModify.style.textAlign&&(document.getElementById("input_textalign").value=elemModify.style.textAlign);""!=elemModify.style.width&&(document.getElementById("input_width").value=parseInt(elemModify.style.width,10));""!=elemModify.style.height&&(document.getElementById("input_height").value=parseInt(elemModify.style.height,10));elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);elemModify.readOnly&&(document.getElementById("input_readonly").checked=
!0);"button"==elemModify.type?(document.getElementById("input_general").checked=!0,document.getElementById("input_reset").checked=!1,document.getElementById("input_submit").checked=!1):"reset"==elemModify.type?(document.getElementById("input_general").checked=!1,document.getElementById("input_reset").checked=!0,document.getElementById("input_submit").checked=!1):"submit"==elemModify.type&&(document.getElementById("input_general").checked=!1,document.getElementById("input_reset").checked=!1,document.getElementById("input_submit").checked=
!0);if(elemModify.getAttribute("keditorcustomdata")){var a=LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata"));if("event"==a.type){var c=a.eventFunction,a=a.eventName.split("\x0B"),c=c.split("\x0B"),b=a.length;for(i=0;i<b;i++){var d=document.getElementById("event_table"),e=document.createElement("tr"),f=document.createElement("td");f.className="type2";var g=document.createElement("a"),h=document.createElement("span");h.innerHTML=a[i];g.appendChild(h);g.title=a[i];h=document.createElement("td");
h.className="type2";h.style.width="65%";var m=document.createElement("a"),k=document.createElement("span");k.innerHTML=c[i];m.appendChild(k);m.title=c[i];f.appendChild(g);e.appendChild(f);h.appendChild(m);e.appendChild(h);d.appendChild(e)}}}}
function keditor_modify_input_button(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:elemModify.removeAttribute("id");""!=document.getElementById("input_class").value?elemModify.className=document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=
document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_textalign").value?elemModify.style.textAlign=document.getElementById("input_textalign").value:elemModify.style.textAlign="";""!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+"px":elemModify.style.width="";""!=document.getElementById("input_height").value?elemModify.style.height=document.getElementById("input_height").value+
"px":elemModify.style.height="";elemModify.disabled=document.getElementById("input_disabled").checked;for(var a=document.getElementsByName("input_type"),c=a.length,b=0;b<c;b++)if(1==a[b].checked){try{elemModify.type=a[b].value}catch(d){b='<input type="'+a[b].value+'" />',a=LayerWin._iframeDoc.createElement("div"),a.innerHTML=b,newElem=a.firstChild,LayerWin.setCopyAllObjectAtributesForInput(elemModify,newElem,!1),elemModify.parentNode.replaceChild(newElem,elemModify),LayerWin.KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT=
newElem,elemModify=null,elemModify=newElem}break}""!=document.getElementById("input_value").value?elemModify.setAttribute("value",document.getElementById("input_value").value):elemModify.removeAttribute("value");""!=document.getElementById("input_name").value?KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie?elemModify.setAttribute("name",document.getElementById("input_name").value):(b=elemModify.outerHTML,b=b.replace('name="'+elemModify.name+
'"',""),b=b.replace("name='"+elemModify.name+"'",""),b=b.replace("name="+elemModify.name,""),b=b.replace(">",'name="'+document.getElementById("input_name").value+'" />'),elemModify.outerHTML=b):elemModify.removeAttribute("name");var e=document.getElementById("event_table"),f=e.childNodes.length;if(0<f){for(var c=a="",b=0;b<f;b++)0!=b&&(a+="\x0B",c+="\x0B"),a+=e.childNodes[b].getElementsByTagName("span")[0].innerHTML,c+=e.childNodes[b].getElementsByTagName("span")[1].innerHTML;""!=a&&(b={type:"event"},
b.eventName=a,b.eventFunction=c,LayerWin.setKEditorCustomData(elemModify,b))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;event_popup_close()}
function setInputSelectPageEvent(){var a=document.getElementById("input_value"),c=document.getElementById("btn_add"),b=document.getElementById("btn_modify"),d=document.getElementById("btn_delete"),e=document.getElementById("btn_up"),f=document.getElementById("btn_down");b.disabled=!0;b.className="non_btn";d.disabled=!0;d.className="non_btn";e.disabled=!0;e.className="non_btn";f.disabled=!0;f.className="non_btn";var g=document.getElementById("option_table");KEDITORTOP.RAONKEDITOR.util.addEvent(c,"click",
btn_select_add_click);KEDITORTOP.RAONKEDITOR.util.addEvent(b,"click",btn_select_mod_click);KEDITORTOP.RAONKEDITOR.util.addEvent(d,"click",btn_select_del_click);KEDITORTOP.RAONKEDITOR.util.addEvent(e,"click",btn_select_up_click);KEDITORTOP.RAONKEDITOR.util.addEvent(f,"click",btn_select_down_click);KEDITORTOP.RAONKEDITOR.util.addEvent(g,"click",function(a){a=a||window.event;var c=a.target?a.target:a.srcElement;a=document.getElementById("input_option");var h=document.getElementById("input_option_value");
if(c=KEditorLayerWin.GetParentbyTagName(c,"tr"))_clicked_options=c,c.style.background="#e5e5e5",a.value=c.getElementsByTagName("span")[0].innerHTML,h.value=c.getElementsByTagName("span")[1].innerHTML;for(a=0;a<g.childNodes.length;a++)g.childNodes[a]!=_clicked_options&&(g.childNodes[a].style.background="white");b.disabled=!1;b.className="in_btn";d.disabled=!1;d.className="in_btn";e.disabled=!1;e.className="in_btn";f.disabled=!1;f.className="in_btn"});var h=document.getElementById("input_multiselect");
LayerWin.KEDITORTOP.RAONKEDITOR.util.addEvent(h,"click",function(){if(0==h.checked)for(var b=g.getElementsByTagName("input"),c=b.length,d=!1,e=0;e<c;e++)b[e].checked&&(d?b[e].checked=!1:(a.value=g.childNodes[e].getElementsByTagName("span")[1].innerHTML,d=!0))})}
function btn_select_add_click(){var a=document.getElementById("input_option"),c=document.getElementById("input_option_value");document.getElementById("btn_add");if(""!=a.value){var b=document.getElementById("option_table"),d=document.getElementById("input_value"),e=document.createElement("tr"),f=document.createElement("td");f.className="type";var g=document.createElement("input");g.type="checkbox";var h=document.createElement("td");h.className="type2";h.style.width="44%";var m=document.createElement("a"),
k=document.createElement("span");k.innerHTML=a.value;m.appendChild(k);m.title=a.value;k=document.createElement("td");k.className="type2";k.style.width="44%";var l=document.createElement("a"),n=document.createElement("span");n.innerHTML=c.value;l.appendChild(n);l.title=c.value;f.appendChild(g);e.appendChild(f);h.appendChild(m);e.appendChild(h);k.appendChild(l);e.appendChild(k);b.appendChild(e);a.value="";c.value="";LayerWin.KEDITORTOP.RAONKEDITOR.util.addEvent(g,"click",function(){if(0==document.getElementById("input_multiselect").checked)if(1==
g.checked)for(var a=b.getElementsByTagName("input"),c=a.length,e=0;e<c;e++)a[e]!=g?a[e].checked=!1:d.value=n.innerHTML;else d.value="";else if(1==g.checked)d.value=n.innerHTML;else for(a=b.getElementsByTagName("input"),c=a.length,d.value="",e=0;e<c;e++)if(a[e].checked){d.value=b.childNodes[e].getElementsByTagName("span")[1].innerHTML;break}})}}
function btn_select_mod_click(){if(_clicked_options){var a=document.getElementById("input_option"),c=document.getElementById("input_option_value");_clicked_options.getElementsByTagName("span")[0].innerHTML=a.value;_clicked_options.getElementsByTagName("span")[1].innerHTML=c.value}}
function btn_select_del_click(){document.getElementById("option_table");document.getElementById("btn_add");var a=document.getElementById("btn_modify"),c=document.getElementById("btn_delete"),b=document.getElementById("btn_up"),d=document.getElementById("btn_down");document.getElementById("input_option").value="";document.getElementById("input_option_value").value="";_clicked_options&&_clicked_options.parentNode.removeChild(_clicked_options);a.disabled=!0;a.className="non_btn";c.disabled=!0;c.className=
"non_btn";b.disabled=!0;b.className="non_btn";d.disabled=!0;d.className="non_btn"}function btn_select_up_click(){_clicked_options&&_clicked_options.previousSibling&&_clicked_options.parentNode.insertBefore(_clicked_options,_clicked_options.previousSibling)}function btn_select_down_click(){_clicked_options&&_clicked_options.nextSibling&&_clicked_options.parentNode.insertBefore(_clicked_options.nextSibling,_clicked_options)}
function setInputCommonEventPageEvent(){var a=document.getElementById("btn_event_add"),c=document.getElementById("btn_event_modify"),b=document.getElementById("btn_event_delete");c.disabled=!0;c.className="non_btn";b.disabled=!0;b.className="non_btn";var d=document.getElementById("event_table");KEDITORTOP.RAONKEDITOR.util.addEvent(a,"click",btn_common_event_add_click);KEDITORTOP.RAONKEDITOR.util.addEvent(c,"click",btn_common_event_mod_click);KEDITORTOP.RAONKEDITOR.util.addEvent(b,"click",btn_common_event_del_click);
KEDITORTOP.RAONKEDITOR.util.addEvent(d,"click",function(a){a=a||window.event;var f=a.target?a.target:a.srcElement;a=document.getElementById("input_event_name");var g=document.getElementById("input_event_function");if(f=KEditorLayerWin.GetParentbyTagName(f,"tr"))_clicked_event=f,f.style.background="#e5e5e5",a.value=f.getElementsByTagName("span")[0].innerHTML,g.value=f.getElementsByTagName("span")[1].innerHTML;for(a=0;a<d.childNodes.length;a++)d.childNodes[a]!=_clicked_event&&(d.childNodes[a].style.background=
"white");c.disabled=!1;c.className="in_btn";b.disabled=!1;b.className="in_btn"})}
function btn_common_event_add_click(){var a=document.getElementById("input_event_name"),c=document.getElementById("input_event_function");document.getElementById("btn_event_add");if(""!=a.value){var b=document.getElementById("event_table"),d=b.childNodes.length;if(0<d)for(var e=0;e<d;e++)if(a.value==b.childNodes[e].getElementsByTagName("span")[0].innerHTML){alert(a.value+" "+LayerWin.RAONKEditor_lang.input_common.event_duplicate_msg);return}b=document.getElementById("event_table");d=document.createElement("tr");
e=document.createElement("td");e.className="type2";var f=document.createElement("a"),g=document.createElement("span");g.innerHTML=a.value;f.appendChild(g);f.title=a.value;a=document.createElement("td");a.className="type2";a.style.width="65%";var g=document.createElement("a"),h=document.createElement("span");h.innerHTML=c.value;g.appendChild(h);g.title=c.value;e.appendChild(f);d.appendChild(e);a.appendChild(g);d.appendChild(a);b.appendChild(d);c.value=""}}
function btn_common_event_mod_click(){if(_clicked_event){var a=document.getElementById("input_event_name"),c=document.getElementById("input_event_function"),b=document.getElementById("event_table"),d=b.childNodes.length;if(0<d)for(var e=0;e<d;e++)if("white"==b.childNodes[e].style.background&&a.value==b.childNodes[e].getElementsByTagName("span")[0].innerHTML){alert(a.value+" "+LayerWin.RAONKEditor_lang.input_common.event_duplicate_msg);return}_clicked_event.getElementsByTagName("span")[0].innerHTML=
a.value;_clicked_event.getElementsByTagName("span")[1].innerHTML=c.value}}function btn_common_event_del_click(){document.getElementById("event_table");document.getElementById("btn_event_add");var a=document.getElementById("btn_event_modify"),c=document.getElementById("btn_event_delete");document.getElementById("input_event_function").value="";_clicked_event&&_clicked_event.parentNode.removeChild(_clicked_event);a.disabled=!0;a.className="non_btn";c.disabled=!0;c.className="non_btn"}
function keditor_insert_input_select(){var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:"",insertSize:"",insertWidth:"",insertHeight:"",insertDisabled:!1,insertMultiselect:!1,insertOptionsArr:[],insertOptionsValueArr:[],insertOptionsSelected:[],insertEventNameArr:[],insertEventFunctionArr:[]};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=
document.getElementById("input_class").value;a.insertTitle=document.getElementById("input_title").value;a.insertSize="0"==document.getElementById("input_size").value?"":document.getElementById("input_size").value;a.insertWidth=document.getElementById("input_width").value;a.insertHeight=document.getElementById("input_height").value;a.insertDisabled=document.getElementById("input_disabled").checked;a.insertMultiselect=document.getElementById("input_multiselect").checked;for(var c=document.getElementById("option_table"),
b=c.childNodes.length,d=0;d<b;d++){var e=c.childNodes[d].getElementsByTagName("span"),f=c.childNodes[d].getElementsByTagName("input")[0];a.insertOptionsArr.push(e[0].innerHTML);a.insertOptionsValueArr.push(e[1].innerHTML);a.insertOptionsSelected.push(f.checked)}c=document.getElementById("event_table");b=c.childNodes.length;for(d=0;d<b;d++)e=c.childNodes[d].getElementsByTagName("span"),a.insertEventNameArr.push(e[0].innerHTML),a.insertEventFunctionArr.push(e[1].innerHTML);LayerWin.event_keditor_insert_input_select(a,
window.frameElement.parentNode.parentNode)}
function set_modify_field_input_select(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);elemModify.getAttribute("value")&&""!=elemModify.getAttribute("value")&&(document.getElementById("input_value").value=elemModify.getAttribute("value"));""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=
elemModify.title);""!=elemModify.size&&(document.getElementById("input_size").value=elemModify.size);""!=elemModify.style.width&&(document.getElementById("input_width").value=parseInt(elemModify.style.width,10));""!=elemModify.style.height&&(document.getElementById("input_height").value=parseInt(elemModify.style.height,10));elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);elemModify.multiple&&(document.getElementById("input_multiselect").checked=!0);for(var a=elemModify.getElementsByTagName("option"),
c=a.length,b=0;b<c;b++){var d=a[b].innerHTML,e=a[b].value;document.getElementById("btn_add");var f=document.getElementById("option_table"),g=document.getElementById("input_value"),h=document.createElement("tr"),m=document.createElement("td");m.className="type";var k=document.createElement("input");k.type="checkbox";var l=document.createElement("td");l.className="type2";l.style.width="44%";var n=document.createElement("a"),p=document.createElement("span");p.innerHTML=d;n.appendChild(p);n.title=d;p=
document.createElement("td");p.className="type2";p.style.width="44%";var d=document.createElement("a"),q=document.createElement("span");q.innerHTML=e;d.appendChild(q);d.title=e;m.appendChild(k);h.appendChild(m);l.appendChild(n);h.appendChild(l);p.appendChild(d);h.appendChild(p);f.appendChild(h);LayerWin.KEDITORTOP.RAONKEDITOR.util.addEvent(k,"click",function(){if(0==document.getElementById("input_multiselect").checked)if(1==k.checked)for(var a=f.getElementsByTagName("input"),b=a.length,c=0;c<b;c++)a[c]!=
k?a[c].checked=!1:g.value=q.innerHTML;else g.value="";else if(1==k.checked)g.value=q.innerHTML;else for(a=f.getElementsByTagName("input"),b=a.length,g.value="",c=0;c<b;c++)if(a[c].checked){g.value=f.childNodes[c].getElementsByTagName("span")[1].innerHTML;break}});a[b].selected&&(k.checked=!0)}if(elemModify.getAttribute("keditorcustomdata")&&(h=LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata")),"event"==h.type))for(b=h.eventFunction,a=h.eventName.split("\x0B"),c=b.split("\x0B"),
e=a.length,b=0;b<e;b++)f=document.getElementById("event_table"),h=document.createElement("tr"),m=document.createElement("td"),m.className="type2",d=document.createElement("a"),l=document.createElement("span"),l.innerHTML=a[b],d.appendChild(l),d.title=a[b],l=document.createElement("td"),l.className="type2",l.style.width="65%",n=document.createElement("a"),p=document.createElement("span"),p.innerHTML=c[b],n.appendChild(p),n.title=c[b],m.appendChild(d),h.appendChild(m),l.appendChild(n),h.appendChild(l),
f.appendChild(h)}
function keditor_modify_input_select(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();""!=document.getElementById("input_value").value?elemModify.setAttribute("value",document.getElementById("input_value").value):elemModify.removeAttribute("value");""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:elemModify.removeAttribute("id");""!=document.getElementById("input_class").value?elemModify.className=
document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_size").value&&"0"!=document.getElementById("input_size").value?elemModify.size=document.getElementById("input_size").value:elemModify.removeAttribute("size");""!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+
"px":elemModify.style.width="";""!=document.getElementById("input_height").value?elemModify.style.height=document.getElementById("input_height").value+"px":elemModify.style.height="";elemModify.disabled=document.getElementById("input_disabled").checked;elemModify.multiple=document.getElementById("input_multiselect").checked;elemModify.innerHTML="";for(var a=document.getElementById("option_table"),c=a.childNodes.length,b=0;b<c;b++){var d=document.createElement("option");d.innerHTML=a.childNodes[b].getElementsByTagName("span")[0].innerHTML;
d.setAttribute("value",a.childNodes[b].getElementsByTagName("span")[1].innerHTML);d.selected=a.childNodes[b].getElementsByTagName("input")[0].checked;elemModify.appendChild(d)}""!=document.getElementById("input_name").value?KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie?elemModify.setAttribute("name",document.getElementById("input_name").value):(b=elemModify.outerHTML,b=b.replace('name="'+elemModify.name+'"',""),b=b.replace("name='"+
elemModify.name+"'",""),b=b.replace("name="+elemModify.name,""),b=b.replace(">",' name="'+document.getElementById("input_name").value+'" >'),elemModify.outerHTML=b):elemModify.removeAttribute("name");var d=document.getElementById("event_table"),e=d.childNodes.length;if(0<e){c=a="";for(b=0;b<e;b++)0!=b&&(a+="\x0B",c+="\x0B"),a+=d.childNodes[b].getElementsByTagName("span")[0].innerHTML,c+=d.childNodes[b].getElementsByTagName("span")[1].innerHTML;""!=a&&(b={type:"event"},b.eventName=a,b.eventFunction=
c,LayerWin.setKEditorCustomData(elemModify,b))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;event_popup_close()}
function keditor_insert_input_textarea(){var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:"",insertWidth:"",insertHeight:"",insertAlign:"",insertDisabled:!1,insertReadonly:!1,insertRows:"",insertCols:"",insertWrap:"",insertEventNameArr:[],insertEventFunctionArr:[]};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;
a.insertTitle=document.getElementById("input_title").value;a.insertWidth=document.getElementById("input_width").value;a.insertHeight=document.getElementById("input_height").value;a.insertAlign=document.getElementById("input_textalign").value;a.insertDisabled=document.getElementById("input_disabled").checked;a.insertReadonly=document.getElementById("input_readonly").checked;a.insertRows="0"==document.getElementById("input_rows").value?"":document.getElementById("input_rows").value;a.insertCols="0"==
document.getElementById("input_cols").value?"":document.getElementById("input_cols").value;for(var c=document.getElementById("event_table"),b=c.childNodes.length,d=0;d<b;d++){var e=c.childNodes[d].getElementsByTagName("span");a.insertEventNameArr.push(e[0].innerHTML);a.insertEventFunctionArr.push(e[1].innerHTML)}LayerWin.event_keditor_insert_input_textarea(a,window.frameElement.parentNode.parentNode)}
function set_modify_field_input_textarea(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);""!=elemModify.value&&(document.getElementById("input_value").value=elemModify.value);""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=elemModify.title);""!=elemModify.style.width&&(document.getElementById("input_width").value=
parseInt(elemModify.style.width,10));""!=elemModify.style.height&&(document.getElementById("input_height").value=parseInt(elemModify.style.height,10));""!=elemModify.style.textAlign&&(document.getElementById("input_textalign").value=elemModify.style.textAlign);elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);elemModify.readOnly&&(document.getElementById("input_readonly").checked=!0);""!=elemModify.rows&&(document.getElementById("input_rows").value=elemModify.rows);""!=elemModify.cols&&
(document.getElementById("input_cols").value=elemModify.cols);if(elemModify.getAttribute("keditorcustomdata")){var a=LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata"));if("event"==a.type){var c=a.eventFunction,a=a.eventName.split("\x0B"),c=c.split("\x0B"),b=a.length;for(i=0;i<b;i++){var d=document.getElementById("event_table"),e=document.createElement("tr"),f=document.createElement("td");f.className="type2";var g=document.createElement("a"),h=document.createElement("span");
h.innerHTML=a[i];g.appendChild(h);g.title=a[i];h=document.createElement("td");h.className="type2";h.style.width="65%";var m=document.createElement("a"),k=document.createElement("span");k.innerHTML=c[i];m.appendChild(k);m.title=c[i];f.appendChild(g);e.appendChild(f);h.appendChild(m);e.appendChild(h);d.appendChild(e)}}}}
function keditor_modify_input_textarea(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();""!=document.getElementById("input_value").value?(elemModify.value=document.getElementById("input_value").value,elemModify.innerHTML=document.getElementById("input_value").value):(elemModify.value="",elemModify.innerHTML="");""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:elemModify.removeAttribute("id");
""!=document.getElementById("input_class").value?elemModify.className=document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+"px":elemModify.style.width="";""!=document.getElementById("input_height").value?elemModify.style.height=
document.getElementById("input_height").value+"px":elemModify.style.height="";""!=document.getElementById("input_textalign").value?elemModify.style.textAlign=document.getElementById("input_textalign").value:elemModify.style.textAlign="";elemModify.disabled=document.getElementById("input_disabled").checked;elemModify.readOnly=document.getElementById("input_readonly").checked;""!=document.getElementById("input_rows").value&&"0"!=document.getElementById("input_rows").value?elemModify.rows=document.getElementById("input_rows").value:
elemModify.removeAttribute("rows");""!=document.getElementById("input_cols").value&&"0"!=document.getElementById("input_cols").value?elemModify.cols=document.getElementById("input_cols").value:elemModify.removeAttribute("cols");if(""!=document.getElementById("input_name").value)if(KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie)elemModify.setAttribute("name",document.getElementById("input_name").value);else{var a=elemModify.outerHTML,
a=a.replace('name="'+elemModify.name+'"',""),a=a.replace("name='"+elemModify.name+"'",""),a=a.replace("name="+elemModify.name,""),a=a.replace(">",' name="'+document.getElementById("input_name").value+'" >');elemModify.outerHTML=a}else elemModify.removeAttribute("name");var c=document.getElementById("event_table"),b=c.childNodes.length;if(0<b){for(var d=a="",e=0;e<b;e++)0!=e&&(a+="\x0B",d+="\x0B"),a+=c.childNodes[e].getElementsByTagName("span")[0].innerHTML,d+=c.childNodes[e].getElementsByTagName("span")[1].innerHTML;
""!=a&&(c={type:"event"},c.eventName=a,c.eventFunction=d,LayerWin.setKEditorCustomData(elemModify,c))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;event_popup_close()}
function keditor_insert_input_hidden(){var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:""};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;a.insertTitle=document.getElementById("input_title").value;LayerWin.event_keditor_insert_input_hidden(a,window.frameElement.parentNode.parentNode)}
function set_modify_field_input_hidden(){var a=elemModify.getAttribute("keditorcustomdata");null!=a&&void 0!=a&&(a=LayerWin.getKEditorCustomData(a),""!=a.id&&(document.getElementById("input_id").value=a.id),""!=a.name&&(document.getElementById("input_name").value=a.name),""!=a.value&&(document.getElementById("input_value").value=a.value),""!=a.className&&(document.getElementById("input_class").value=a.className),""!=a.title&&(document.getElementById("input_title").value=a.title))}
function keditor_modify_input_hidden(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();var a={insertName:"",insertValue:"",insertId:"",insertClass:"",insertTitle:""};a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;a.insertTitle=document.getElementById("input_title").value;
LayerWin.event_keditor_insert_input_hidden(a,window.frameElement.parentNode.parentNode)}
function keditor_insert_input_image(){var a=document.keditor_upload_form,c;c=""==document.getElementById(file_field_id).value?G_SelectedFiles&&G_SelectedFiles[0]?{value:G_SelectedFiles[0].name,id:document.getElementById(file_field_id).id}:{value:""}:document.getElementById(file_field_id);var b=document.getElementById("img_web_url"),d="";document.getElementsByName("InputFlag")[0].checked?"1"==LayerWin._k_editor._config.useKManager?G_SelectedFiles&&G_SelectedFiles[0]&&(d=G_SelectedFiles[0].path):d=
c.value:d=b.value;if(0<d.lastIndexOf(".")){for(var b=d.substring(d.lastIndexOf(".")+1).toLowerCase(),e=!1,f=LayerWin._k_editor._config.allowImageFileType,g=f.toString()+LayerWin.RAONKEditor_lang.msg.alert_exec_tail,h=f.length,m=0;m<h;m++)if(b==f[m]){e=!0;break}if(1==e)if("base64"==LayerWin._k_editor._config.uploadMethod)if(c=G_SelectedFiles[0],"1"==LayerWin._k_editor._config.useKManager)LayerWin.localImageToBase64({localPath:c.path,fn_callback:function(a){var b=new Image;b.onload=function(){var c=
b.width,d=b.height;b=void 0;a+="?"+c+"^"+d;event_keditor_input_image_upload_completed(a)};b.src=a}});else{var k=new FileReader;k.onload=function(){var a=k.result,b=new Image;b.onload=function(){a+="?"+b.width+"^"+b.height;event_keditor_input_image_upload_completed(a)};b.src=a;k=void 0};k.readAsDataURL(c)}else if(document.getElementsByName("InputFlag")[0].checked)if("1"==LayerWin._k_editor._config.useKManager)d=LayerWin.convertImageAgentSrc("file:///"+d,!0),event_keditor_input_image_upload_completed(d);
else if(loading_image_show(!0),"1"==LayerWin._k_editor._config.uploadUseHTML5){a=new KEDITORTOP.RAONKEDITOR.util.hashTable;b=""+("kc"+KEDITORTOP.RAONKSolution.Agent.formfeed+"c01"+KEDITORTOP.RAONKSolution.Agent.vertical);b+="k01"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k14"+KEDITORTOP.RAONKSolution.Agent.formfeed+d.substring(d.lastIndexOf("\\")+1)+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k15"+KEDITORTOP.RAONKSolution.Agent.formfeed+
LayerWin._k_editor._config.saveFileNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k16"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFileNameRuleEx+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k17"+KEDITORTOP.RAONKSolution.Agent.formfeed+LayerWin._k_editor._config.saveFolderNameRule+KEDITORTOP.RAONKSolution.Agent.vertical;b+="k20"+KEDITORTOP.RAONKSolution.Agent.formfeed+"image";b=KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(b);a.setItem("k00",b);d=LayerWin.G_FormData.length;
for(b=0;b<d;b++)e=LayerWin.G_FormData[b].form_value,e="1"==KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam?KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(e):encodeURIComponent(e),a.setItem(LayerWin.G_FormData[b].form_name,e);uploadAjaxOnprogressStart({uploadType:"image",handlerUrl:LayerWin._k_editor._config.handlerUrl,fileID:c.id,fileObj:G_SelectedFiles[0].fileObj,formData:a},event_keditor_input_image_upload_completed)}else a.action=document.getElementById("upload_url").value,a.submit();else event_keditor_input_image_upload_completed(d);
else alert(g)}else alert(LayerWin.RAONKEditor_lang.msg.alert_exec)}
function event_keditor_input_image_upload_completed(a){var c=document.getElementById("input_width").value,b=document.getElementById("input_height").value,d=0,e=0;if(null!=a&&void 0!=a){a=a.replace(/\r\n/g,"");a=a.replace(/\n/g,"");a=a.replace(/\t/g,"");if((a=web_url_remove_char(a))&&""!=a)try{var f={strUrl:a},g;"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl?g=KEDITORTOP.G_CURRKEDITOR._config.event.beforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,f):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl&&
(g=KEDITORTOP.KEDITORWIN.RAONKEDITOR_BeforeInsertUrl(KEDITORTOP.G_CURRKEDITOR.ID,f));null!=g&&void 0!=g&&(a=g)}catch(h){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(h)}f=a.split("?");2==f.length&&(a=f[0],f=f[1].split("^"),2==f.length?(d=f[0],e=f[1]):3==f.length&&(d=f[0],e=f[1],a+="?"+f[2]));if(elemModify&&"input"==elemModify.tagName.toLowerCase()&&"image"==elemModify.type){elemModify.src=a;"function"===typeof G_UploadCompleteCallBackFn&&G_UploadCompleteCallBackFn();
return}"1"==LayerWin._k_editor._config.image_auto_fit&&d>LayerWin._k_editor._defaultWidth?(f=LayerWin._k_editor._defaultWidth/d,d=LayerWin._k_editor._defaultWidth,e*=f):"2"==LayerWin._k_editor._config.image_auto_fit&&(d>LayerWin._k_editor._defaultWidth||e>LayerWin._k_editor._defaultHeight)&&(c=LayerWin._k_editor._defaultWidth,b=LayerWin._k_editor._defaultHeight,f=b/c,g=e/d,g>f?e>b?c=Math.round(d*b/e):(c=d,b=e):g<f?d>c?b=Math.round(e*c/d):(c=d,b=e):(c=d,b=e))}0==c.length&&0<d&&(c=parseInt(d),b=parseInt(e));
loading_image_show(!1);if((4>a.length||"http"!=a.substring(0,4).toLowerCase())&&"base64"!=LayerWin._k_editor._config.uploadMethod)d=!0,"1"!=LayerWin.KEDITORTOP.G_CURRKEDITOR._config.disableErrorConfirmMessage&&(d=confirm(LayerWin.RAONKEditor_lang.msg.uploadFailed)),d&&alert(a);else{a=web_url_remove_char(a);a={insertName:"",insertValue:"",insertSrc:a,insertId:"",insertClass:"",insertTitle:"",insertAlign:"",insertWidth:"",insertHeight:"",insertDisabled:!1,insertType:"image",insertEventNameArr:[],insertEventFunctionArr:[]};
a.insertName=document.getElementById("input_name").value;a.insertValue=document.getElementById("input_value").value;a.insertId=document.getElementById("input_id").value;a.insertClass=document.getElementById("input_class").value;a.insertTitle=document.getElementById("input_title").value;a.insertAlign=document.getElementById("input_textalign").value;a.insertWidth=c;a.insertHeight=b;a.insertDisabled=document.getElementById("input_disabled").checked;d=document.getElementById("event_table");e=d.childNodes.length;
for(c=0;c<e;c++)b=d.childNodes[c].getElementsByTagName("span"),a.insertEventNameArr.push(b[0].innerHTML),a.insertEventFunctionArr.push(b[1].innerHTML);LayerWin.event_keditor_insert_input_image(a,window.frameElement.parentNode.parentNode)}}
function set_modify_field_input_image(){""!=elemModify.name&&(document.getElementById("input_name").value=elemModify.name);elemModify.getAttribute("value")&&""!=elemModify.getAttribute("value")&&(document.getElementById("input_value").value=elemModify.getAttribute("value"));""!=elemModify.id&&(document.getElementById("input_id").value=elemModify.id);""!=elemModify.className&&(document.getElementById("input_class").value=elemModify.className);""!=elemModify.title&&(document.getElementById("input_title").value=
elemModify.title);""!=elemModify.style.textAlign&&(document.getElementById("input_textalign").value=elemModify.align);document.getElementById("input_width").value=""!=elemModify.style.width?parseInt(elemModify.style.width,10):"";document.getElementById("input_height").value=""!=elemModify.style.height?parseInt(elemModify.style.height,10):"";elemModify.disabled&&(document.getElementById("input_disabled").checked=!0);var a=elemModify.outerHTML.match(RegExp("srcs*=s*(\"|')(([^\"']*))(\"|')","gi")),c=
"";a&&0<a.length&&(c=a[0].replace("src=",""),c=c.replace(/\'/g,""),c=c.replace(/\"/g,""),c=c.replace(/\&amp;/g,"&"));"1"==KEditorLayerWin._k_editor._config.useKManager&&(c=decodeURIComponent(c),c=LayerWin.convertImageAgentSrc(c,!1),c=decodeURIComponent(c));document.getElementById("img_web_url").value=c;var b=document.getElementById("img_ratio"),d=document.getElementById("input_width"),e=document.getElementById("input_height"),f,g;f=d.value;g=e.value;b.style.display="block";KEDITORTOP.RAONKEDITOR.util.addEvent(d,
"keyup",function(){if("true"==b.getAttribute("ratio-checked")){var a=parseInt(g,10)*parseInt(d.value,10)/parseInt(f,10);e.value=isNaN(a)?e.value:Math.round(a)}});KEDITORTOP.RAONKEDITOR.util.addEvent(e,"keyup",function(){if("true"==b.getAttribute("ratio-checked")){var a=parseInt(f,10)*parseInt(e.value,10)/parseInt(g,10);d.value=isNaN(a)?d.value:Math.round(a)}});if(elemModify.getAttribute("keditorcustomdata")&&(a=LayerWin.getKEditorCustomData(elemModify.getAttribute("keditorcustomdata")),"event"==a.type)){var c=
a.eventFunction,a=a.eventName.split("\x0B"),c=c.split("\x0B"),h=a.length;for(i=0;i<h;i++){var m=document.getElementById("event_table"),k=document.createElement("tr"),l=document.createElement("td");l.className="type2";var n=document.createElement("a"),p=document.createElement("span");p.innerHTML=a[i];n.appendChild(p);n.title=a[i];p=document.createElement("td");p.className="type2";p.style.width="65%";var q=document.createElement("a"),u=document.createElement("span");u.innerHTML=c[i];q.appendChild(u);
q.title=c[i];l.appendChild(n);k.appendChild(l);p.appendChild(q);k.appendChild(p);m.appendChild(k)}}if("1"==KEditorLayerWin._k_editor._config.uploadUseHTML5||"1"==KEditorLayerWin._k_editor._config.useKManager)a=document.getElementById("radio_image_url"),document.getElementById("radio_image").removeAttribute("checked"),a.setAttribute("checked","checked"),InputFlag_change(a)}
function keditor_modify_input_image(){0<LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount&&LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();var a=function(){""!=document.getElementById("input_value").value?elemModify.setAttribute("value",document.getElementById("input_value").value):elemModify.removeAttribute("value");""!=document.getElementById("input_id").value?elemModify.id=document.getElementById("input_id").value:elemModify.removeAttribute("id");""!=document.getElementById("input_class").value?
elemModify.className=document.getElementById("input_class").value:elemModify.removeAttribute("class");""!=document.getElementById("input_title").value?elemModify.title=document.getElementById("input_title").value:elemModify.removeAttribute("title");""!=document.getElementById("input_textalign").value?elemModify.align=document.getElementById("input_textalign").value:elemModify.removeAttribute("align");""!=document.getElementById("input_width").value?elemModify.style.width=document.getElementById("input_width").value+
"px":elemModify.style.width="";""!=document.getElementById("input_height").value?elemModify.style.height=document.getElementById("input_height").value+"px":elemModify.style.height="";elemModify.disabled=document.getElementById("input_disabled").checked;if(""!=document.getElementById("input_name").value)if(KEDITORTOP.RAONKEDITOR.browser.ie&&8<=KEDITORTOP.RAONKEDITOR.browser.ieVersion||!KEDITORTOP.RAONKEDITOR.browser.ie)elemModify.setAttribute("name",document.getElementById("input_name").value);else{var a=
elemModify.outerHTML,a=a.replace('name="'+elemModify.name+'"',""),a=a.replace("name='"+elemModify.name+"'",""),a=a.replace("name="+elemModify.name,""),a=a.replace(">",'name="'+document.getElementById("input_name").value+'" />');elemModify.outerHTML=a}else elemModify.removeAttribute("name");var c=document.getElementById("event_table"),e=c.childNodes.length;if(0<e){for(var f=a="",g=0;g<e;g++)0!=g&&(a+="\x0B",f+="\x0B"),a+=c.childNodes[g].getElementsByTagName("span")[0].innerHTML,f+=c.childNodes[g].getElementsByTagName("span")[1].innerHTML;
""!=a&&(c={type:"event"},c.eventName=a,c.eventFunction=f,LayerWin.setKEditorCustomData(elemModify,c))}else elemModify.removeAttribute("keditorcustomdata");LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.putUndo();LayerWin.KEDITORTOP.G_CURRKEDITOR.UndoManager.charCount=0;G_UploadCompleteCallBackFn=void 0;event_popup_close()},c=document.getElementById(file_field_id);c.value&&""!=c.value||("1"==KEditorLayerWin._k_editor._config.uploadUseHTML5||"1"==KEditorLayerWin._k_editor._config.useKManager)&&0<G_SelectedFiles.length?
(G_UploadCompleteCallBackFn=a,keditor_insert_input_image()):(c=document.getElementById("img_web_url"),elemModify.src=LayerWin.convertImageAgentSrc(c.value,!0),a())}function event_keditor_horizontal_line_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}
function event_keditor_image_upload_cancel(){"1"==LayerWin._k_editor._config.uploadUseHTML5&&"function"===typeof uploadAjaxOnprogressCancel&&uploadAjaxOnprogressCancel();LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_bg_image_upload_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_flash_upload_cancel(){clearWindow(window);LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}
function event_keditor_media_upload_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_table_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_doc_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_emoticon_cancel(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}
function event_keditor_about_close(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_popup_close(a){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_insert_datetime_close(){LayerWin.event_dialog_cancel(window.frameElement.parentNode.parentNode)}function event_keditor_insert_datetime(a){LayerWin.command_insert_datetime(KEDITORTOP.G_CURRKEDITOR.ID,KEDITORTOP.G_CURRKEDITOR,a)}
function clearWindow(a){a.document.open("text/html","replace");isCustomDomain()&&(a.document.domain=LayerWin.document.domain);a.document.write("<html><head></head><body></body></html>");a.document.close()}function isCustomDomain(){if(!KEDITORTOP.RAONKEDITOR.browser.ie)return!1;var a=LayerWin.document.domain,c=window.location.hostname;return a!=c&&a!="["+c+"]"}
function setCursorPos(a,c,b){null!=a&&void 0!=a&&null==navigator.userAgent.match(/iPhone|iPad/)&&setTimeout(function(){var d=0;a.value&&(d=a.value.length);try{if(0!=d&&0!=c)if("setSelectionRange"in a)b?a.setSelectionRange(0,d):a.setSelectionRange(d,d);else if("createTextRange"in a){var e=a.createTextRange();b||e.moveStart("character",d);e.select()}a.focus()}catch(f){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(f)}},0)}
function event_tab(a,c){9==("which"in a?a.which:a.keyCode)&&"last"==(a.target?a.target:a.srcElement).getAttribute("last_cursor_obj")&&(setCursorPos(c,!0,!1),KEDITORTOP.RAONKEDITOR.util.cancelEvent(a))}
function edgeClick(a,c){LayerWin._k_editor.applyEdgeMode="user";edgeSelectClick(4,"user");var b=document.getElementById("topcell1"),d=document.getElementById("topcell2"),e=document.getElementById("bottomcell1"),f=document.getElementById("bottomcell2");document.getElementById("edge_top");document.getElementById("edge_horizon");document.getElementById("edge_bottom");document.getElementById("edge_left");document.getElementById("edge_vertical");document.getElementById("edge_right");var g=document.getElementById("edge_"+
a).src.split("/");if(g[g.length-1]=="editor_line_"+a+"_d_img.gif")document.getElementById("edge_"+a).src="../images/editor/dialog/editor_line_"+a+"_img.gif",g="",g=""==document.getElementById("line_kind").value?g+(document.getElementById("line_thickness").value+"px"):g+document.getElementById("line_kind").value,g+=" "+document.getElementById("line_style").style.borderTopStyle,g+=" "+document.getElementById("line_color").style.borderTopColor,"top"==a?(b&&(b.style.borderTop=g,cellRemoveClass(b,"ke_cell_border_t")),
d&&(d.style.borderTop=g,cellRemoveClass(d,"ke_cell_border_t"))):"horizon"==a?(e&&(b.style.borderBottom=g,e.style.borderTop=g,cellRemoveClass(b,"ke_cell_border_b"),cellRemoveClass(e,"ke_cell_border_t")),f&&(d.style.borderBottom=g,f.style.borderTop=g,cellRemoveClass(d,"ke_cell_border_b"),cellRemoveClass(f,"ke_cell_border_t"))):"bottom"==a?e?(e.style.borderBottom=g,cellRemoveClass(e,"ke_cell_border_b"),f&&(f.style.borderBottom=g,cellRemoveClass(f,"ke_cell_border_b"))):(b&&(b.style.borderBottom=g,cellRemoveClass(b,
"ke_cell_border_b")),d&&(d.style.borderBottom=g,cellRemoveClass(d,"ke_cell_border_b"))):"left"==a?(b&&(b.style.borderLeft=g,cellRemoveClass(b,"ke_cell_border_l")),e&&(e.style.borderLeft=g,cellRemoveClass(e,"ke_cell_border_l"))):"vertical"==a?(d&&(b.style.borderRight=g,d.style.borderLeft=g,cellRemoveClass(b,"ke_cell_border_r"),cellRemoveClass(d,"ke_cell_border_l")),f&&(e.style.borderRight=g,f.style.borderLeft=g,cellRemoveClass(e,"ke_cell_border_r"),cellRemoveClass(f,"ke_cell_border_l"))):"right"==
a&&(d?(d.style.borderRight=g,cellRemoveClass(d,"ke_cell_border_r"),f&&(f.style.borderRight=g,cellRemoveClass(f,"ke_cell_border_r"))):(b&&(b.style.borderRight=g,cellRemoveClass(b,"ke_cell_border_r")),e&&(e.style.borderRight=g,cellRemoveClass(e,"ke_cell_border_r"))));else if(g[g.length-1]=="editor_line_"+a+"_img.gif"){document.getElementById("edge_"+a).src="../images/editor/dialog/editor_line_"+a+"_d_img.gif";var h=g="";c||(g="1px solid rgb(0, 0, 0)",h="1px");"top"==a?(b&&(b.style.borderTop=g,b.style.borderTopWidth=
h,c&&cellAddClass(b,"ke_cell_border_t")),d&&(d.style.borderTop=g,d.style.borderTopWidth=h,c&&cellAddClass(d,"ke_cell_border_t"))):"horizon"==a?(e&&(b.style.borderBottom=g,e.style.borderTop=g,b.style.borderBottomWidth=h,e.style.borderTopWidth=h,c&&(cellAddClass(b,"ke_cell_border_b"),cellAddClass(e,"ke_cell_border_t"))),f&&(d.style.borderBottom=g,f.style.borderTop=g,d.style.borderBottomWidth=h,f.style.borderTopWidth=h,c&&(cellAddClass(d,"ke_cell_border_b"),cellAddClass(f,"ke_cell_border_t")))):"bottom"==
a?e?(e.style.borderBottom=g,e.style.borderBottomWidth=h,c&&cellAddClass(e,"ke_cell_border_b"),f&&(f.style.borderBottom=g,f.style.borderBottomWidth=h,c&&cellAddClass(f,"ke_cell_border_b"))):(b&&(b.style.borderBottom=g,b.style.borderBottomWidth=h,c&&cellAddClass(b,"ke_cell_border_b")),d&&(d.style.borderBottom=g,d.style.borderBottomWidth=h,c&&cellAddClass(d,"ke_cell_border_b"))):"left"==a?(b&&(b.style.borderLeft=g,b.style.borderLeftWidth=h,c&&cellAddClass(b,"ke_cell_border_l")),e&&(e.style.borderLeft=
g,e.style.borderLeftWidth=h,c&&cellAddClass(e,"ke_cell_border_l"))):"vertical"==a?(d&&(b.style.borderRight=g,d.style.borderLeft=g,b.style.borderRightWidth=h,d.style.borderLeftWidth=h,c&&(cellAddClass(b,"ke_cell_border_r"),cellAddClass(d,"ke_cell_border_l"))),f&&(e.style.borderRight=g,f.style.borderLeft=g,e.style.borderRightWidth=h,f.style.borderLeftWidth=h,c&&(cellAddClass(e,"ke_cell_border_r"),cellAddClass(f,"ke_cell_border_l")))):"right"==a&&(d?(d.style.borderRight=g,d.style.borderRightWidth=h,
c&&cellAddClass(d,"ke_cell_border_r"),f&&(f.style.borderRight=g,f.style.borderRightWidth=h,c&&cellAddClass(f,"ke_cell_border_r"))):(b&&(b.style.borderRight=g,b.style.borderRightWidth=h,c&&cellAddClass(b,"ke_cell_border_r")),e&&(e.style.borderRight=g,e.style.borderRightWidth=h,c&&cellAddClass(e,"ke_cell_border_r"))))}}
function cellRemoveClass(a,c){var b=a.className+" ",d=new RegExp(c+" ","g");d.test(b)&&(b=LayerWin.KEDITORTOP.RAONKEDITOR.util.trim(b.replace(d," ")),b=b.replace(/\s{2,}/g," "),a.className=b);""==a.className&&a.removeAttribute("class")}function cellAddClass(a,c){0==(new RegExp(c+" ","g")).test(a.className+" ")&&(a.className+=" "+c)}
function edgeNoneTotalClick(a,c){if("user"!=a){var b="";if(""==document.getElementById("line_kind").value){if(""==document.getElementById("line_thickness").value)return;b+=document.getElementById("line_thickness").value+"px"}else b+=document.getElementById("line_kind").value;var b=b+(" "+document.getElementById("line_style").style.borderTopStyle),b=b+(" "+document.getElementById("line_color").style.borderTopColor),d=document.getElementById("topcell1"),e=document.getElementById("topcell2"),f=document.getElementById("bottomcell1"),
g=document.getElementById("bottomcell2"),h=document.getElementById("edge_top"),m=document.getElementById("edge_horizon"),k=document.getElementById("edge_bottom"),l=document.getElementById("edge_left"),n=document.getElementById("edge_vertical"),p=document.getElementById("edge_right");"total"==a?(h&&(h.src="../images/editor/dialog/editor_line_top_img.gif"),m&&(m.src="../images/editor/dialog/editor_line_horizon_img.gif"),k&&(k.src="../images/editor/dialog/editor_line_bottom_img.gif"),l&&(l.src="../images/editor/dialog/editor_line_left_img.gif"),
n&&(n.src="../images/editor/dialog/editor_line_vertical_img.gif"),p&&(p.src="../images/editor/dialog/editor_line_right_img.gif"),d&&(d.style.borderTop=b,d.style.borderBottom=b,d.style.borderRight=b,d.style.borderLeft=b,cellRemoveClass(d,"ke_cell_border_l"),cellRemoveClass(d,"ke_cell_border_r"),cellRemoveClass(d,"ke_cell_border_t"),cellRemoveClass(d,"ke_cell_border_b")),e&&(e.style.borderTop=b,e.style.borderLeft=b,e.style.borderRight=b,e.style.borderBottom=b,cellRemoveClass(e,"ke_cell_border_l"),cellRemoveClass(e,
"ke_cell_border_r"),cellRemoveClass(e,"ke_cell_border_t"),cellRemoveClass(e,"ke_cell_border_b")),f&&(f.style.borderTop=b,f.style.borderBottom=b,f.style.borderRight=b,f.style.borderLeft=b,cellRemoveClass(f,"ke_cell_border_l"),cellRemoveClass(f,"ke_cell_border_r"),cellRemoveClass(f,"ke_cell_border_t"),cellRemoveClass(f,"ke_cell_border_b")),g&&(g.style.borderTop=b,g.style.borderLeft=b,g.style.borderRight=b,g.style.borderBottom=b,cellRemoveClass(g,"ke_cell_border_l"),cellRemoveClass(g,"ke_cell_border_r"),
cellRemoveClass(g,"ke_cell_border_t"),cellRemoveClass(g,"ke_cell_border_b"))):"inside"==a?(h&&(h.src="../images/editor/dialog/editor_line_top_img.gif",edgeClick("top",c)),k&&(k.src="../images/editor/dialog/editor_line_bottom_img.gif",edgeClick("bottom",c)),l&&(l.src="../images/editor/dialog/editor_line_left_img.gif",edgeClick("left",c)),p&&(p.src="../images/editor/dialog/editor_line_right_img.gif",edgeClick("right",c)),edgeSelectClick(2,"inside"),m&&(m.src="../images/editor/dialog/editor_line_horizon_img.gif"),
n&&(n.src="../images/editor/dialog/editor_line_vertical_img.gif"),d&&e&&(d.style.borderRight=b,e.style.borderLeft=b,cellRemoveClass(d,"ke_cell_border_r"),cellRemoveClass(e,"ke_cell_border_l")),f&&g&&(f.style.borderRight=b,g.style.borderLeft=b,cellRemoveClass(f,"ke_cell_border_r"),cellRemoveClass(g,"ke_cell_border_l")),d&&f&&(d.style.borderBottom=b,f.style.borderTop=b,cellRemoveClass(d,"ke_cell_border_b"),cellRemoveClass(f,"ke_cell_border_t")),e&&g&&(e.style.borderBottom=b,g.style.borderTop=b,cellRemoveClass(e,
"ke_cell_border_b"),cellRemoveClass(g,"ke_cell_border_t"))):"outside"==a?(m&&(m.src="../images/editor/dialog/editor_line_horizon_img.gif",edgeClick("horizon",c)),n&&(n.src="../images/editor/dialog/editor_line_vertical_img.gif",edgeClick("vertical",c)),edgeSelectClick(1,"outside"),h&&(h.src="../images/editor/dialog/editor_line_top_img.gif"),k&&(k.src="../images/editor/dialog/editor_line_bottom_img.gif"),l&&(l.src="../images/editor/dialog/editor_line_left_img.gif"),p&&(p.src="../images/editor/dialog/editor_line_right_img.gif"),
d&&e?(d.style.borderTop=b,d.style.borderLeft=b,e.style.borderTop=b,e.style.borderRight=b,cellRemoveClass(d,"ke_cell_border_t"),cellRemoveClass(d,"ke_cell_border_l"),cellRemoveClass(e,"ke_cell_border_t"),cellRemoveClass(e,"ke_cell_border_r")):d&&(d.style.borderTop=b,d.style.borderLeft=b,d.style.borderRight=b,cellRemoveClass(d,"ke_cell_border_t"),cellRemoveClass(d,"ke_cell_border_l"),cellRemoveClass(d,"ke_cell_border_r")),f&&g?(f.style.borderLeft=b,f.style.borderBottom=b,g.style.borderRight=b,g.style.borderBottom=
b,cellRemoveClass(f,"ke_cell_border_l"),cellRemoveClass(f,"ke_cell_border_b"),cellRemoveClass(g,"ke_cell_border_r"),cellRemoveClass(g,"ke_cell_border_b")):f?(f.style.borderLeft=b,f.style.borderRight=b,f.style.borderBottom=b,cellRemoveClass(f,"ke_cell_border_l"),cellRemoveClass(f,"ke_cell_border_r"),cellRemoveClass(f,"ke_cell_border_b")):(d&&(d.style.borderBottom=b,cellRemoveClass(d,"ke_cell_border_b")),e&&(e.style.borderBottom=b,cellRemoveClass(e,"ke_cell_border_b")))):"none"==a&&(h&&(h.src="../images/editor/dialog/editor_line_top_d_img.gif"),
m&&(m.src="../images/editor/dialog/editor_line_horizon_d_img.gif"),k&&(k.src="../images/editor/dialog/editor_line_bottom_d_img.gif"),l&&(l.src="../images/editor/dialog/editor_line_left_d_img.gif"),n&&(n.src="../images/editor/dialog/editor_line_vertical_d_img.gif"),p&&(p.src="../images/editor/dialog/editor_line_right_d_img.gif"),d&&(d.className="ke_cell_border_t ke_cell_border_l ke_cell_border_r ke_cell_border_b"),e&&(e.className="ke_cell_border_t ke_cell_border_l ke_cell_border_r ke_cell_border_b"),
f&&(f.className="ke_cell_border_t ke_cell_border_l ke_cell_border_r ke_cell_border_b"),g&&(g.className="ke_cell_border_t ke_cell_border_l ke_cell_border_r ke_cell_border_b"))}}function fnLineStyleToggle(){var a=document.getElementById("line_style_list");a.style.display="none"==a.style.display?"block":"none"}
function lineStyleChange(){var a=document.getElementById("line_style"),c=document.getElementById("line_thickness");if("hidden"==a.style.borderTopStyle||"none"==a.style.borderTopStyle)c.value="0";else if("solid"!=a.style.borderTopStyle&&"dotted"!=a.style.borderTopStyle&&"dashed"!=a.style.borderTopStyle&&"hidden"!=a.style.borderTopStyle&&"none"!=a.style.borderTopStyle){if(isNaN(parseInt(c.value,10))||3>parseInt(c.value,10))c.value="3"}else if(isNaN(parseInt(c.value,10))||0>=parseInt(c.value,10))c.value=
"1";edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}function lineKindChange(){var a=document.getElementById("line_kind"),c=document.getElementById("line_thickness"),b=document.getElementById("line_thickness_updn_btn");""!=a.value?(c.disabled=!0,b.style.display="none","medium"==a.value?c.value="3":"thin"==a.value?c.value="1":"thick"==a.value&&(c.value="5")):(c.disabled=!1,b.style.display="block");edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}
function imgLineKindChange(){var a=document.getElementById("line_kind"),c=document.getElementById("line_thickness"),b=document.getElementById("line_thickness_updn_btn");""!=a.value?(c.disabled=!0,c.value="",b.style.display="none"):(c.disabled=!1,b.style.display="block")}function lineThicknessChange(){var a=document.getElementById("line_thickness");10<a.value&&(a.value=10);edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}
function cellGapChange(){var a=document.getElementById("cell_gap");10<a.value&&(a.value=10);edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}function insideMarginChange(){var a=document.getElementById("cell_inside_margin");10<a.value&&(a.value=10);edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}function tableEdgeReduceChange(){edgeNoneTotalClick(LayerWin._k_editor.applyEdgeMode)}
function getColorHex(a){return-1<a.indexOf("#")?a:LayerWin.KEDITORTOP.RAONKEDITOR.util.rgb2hex(a)?LayerWin.KEDITORTOP.RAONKEDITOR.util.rgb2hex(a):"#000000"}
function setLineStyleEvt(){var a=document.getElementById("ul_line_style");LayerWin.KEDITORTOP.RAONKEDITOR.util.addEvent(a,"click",function(a){var b=document.getElementById("line_style");a=LayerWin.getClickCell(a,"li").getElementsByTagName("SPAN")[0];var d=b.style.border="";b.className=b.className+" "+a.style.borderTopStyle;"solid"==a.style.borderTopStyle||"dotted"==a.style.borderTopStyle||"dashed"==a.style.borderTopStyle||"double"==a.style.borderTopStyle||"hidden"==a.style.borderTopStyle||"none"==
a.style.borderTopStyle?(b.style.borderTop=a.style.borderTop,d="0px"):(b.style.border=a.style.border,d="3px");0==KEDITORTOP.RAONKEDITOR.browser.ie&&(b.style.height=d);fnLineStyleToggle();setCursorPos(document.getElementById("line_style_btn"),!1,!1);lineStyleChange()})}
function setCellBorderModifyValue(a){var c=LayerWin.KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT;if(a){a=LayerWin.GetTableSelectionCells(c);for(var c=a.length,b=!0,d=0;d<c-1;d++){if(a[d].style.borderTopStyle!=a[d+1].style.borderTopStyle||a[d].style.borderTopWidth!=a[d+1].style.borderTopWidth||a[d].style.borderTopColor!=a[d+1].style.borderTopColor){b=!1;break}if(a[d].style.borderRightStyle!=a[d+1].style.borderRightStyle||a[d].style.borderRightWidth!=a[d+1].style.borderRightWidth||a[d].style.borderRightColor!=
a[d+1].style.borderRightColor){b=!1;break}if(a[d].style.borderBottomStyle!=a[d+1].style.borderBottomStyle||a[d].style.borderBottomWidth!=a[d+1].style.borderBottomWidth||a[d].style.borderBottomColor!=a[d+1].style.borderBottomColor){b=!1;break}if(a[d].style.borderLeftStyle!=a[d+1].style.borderLeftStyle||a[d].style.borderLeftWidth!=a[d+1].style.borderLeftWidth||a[d].style.borderLeftColor!=a[d+1].style.borderLeftColor){b=!1;break}}b?setModifyValue(a[0].style,!0):setModifyValue(null)}else setModifyValue(c.style,
!0)}
function setTableBorderModifyValue(a){if("separate"==a.style.borderCollapse)setModifyValue(a.style,!0);else{var c=!0,b=!0,d=!0,e=!0,f,g,h,m;a=LayerWin.getTableBorderCells(a);var k=a.arrTop.length;if(1==k)f=a.arrTop[0].style.borderTop;else for(var l=0;l<k;l++)0!=l&&(a.arrTop[l-1].style.borderTop!=a.arrTop[l].style.borderTop&&(c=!1),l==k-1&&c&&(f=a.arrTop[l].style.borderTop));k=a.arrLeft.length;if(1==k)h=a.arrLeft[0].style.borderLeft;else for(l=0;l<k;l++)0!=l&&(a.arrLeft[l-1].style.borderLeft!=a.arrLeft[l].style.borderLeft&&
(e=!1),l==k-1&&e&&(h=a.arrLeft[l].style.borderLeft));k=a.arrRight.length;if(1==k)m=a.arrRight[0].style.borderRight;else for(l=0;l<k;l++)0!=l&&(a.arrRight[l-1].style.borderRight!=a.arrRight[l].style.borderRight&&(d=!1),l==k-1&&d&&(m=a.arrRight[l].style.borderRight));k=a.arrBottom.length;if(1==k)g=a.arrBottom[0].style.borderBottom;else for(l=0;l<k;l++)0!=l&&(a.arrBottom[l-1].style.borderBottom!=a.arrBottom[l].style.borderBottom&&(b=!1),l==k-1&&b&&(g=a.arrBottom[l].style.borderBottom));a=document.createElement("td");
a.style.borderTop=f?f:"1px solid #000000";a.style.borderBottom=g?g:"1px solid #000000";a.style.borderLeft=h?h:"1px solid #000000";a.style.borderRight=m?m:"1px solid #000000";f=!1;a.style.borderTop==a.style.borderRight&&a.style.borderRight==a.style.borderBottom&&a.style.borderBottom==a.style.borderLeft&&c&&b&&d&&e&&(f=!0);setModifyValue(a.style,f)}}
function setModifyValue(a,c){if(a){var b=c,d,e,f,g;d=a.borderTopWidth;e=a.borderBottomWidth;f=a.borderRightWidth;g=a.borderLeftWidth;d==e&&e==f&&f==g?-1<d.indexOf("px")?document.getElementById("line_thickness").value=parseInt(d,10):document.getElementById("line_kind").value=d:(document.getElementById("line_thickness").value="1",document.getElementById("line_kind").value="");d+=" ";e+=" ";f+=" ";g+=" ";a.borderTopStyle==a.borderRightStyle&&a.borderRightStyle==a.borderLeftStyle&&a.borderLeftStyle==
a.borderBottomStyle?("solid"==a.borderStyle||"dotted"==a.borderStyle||"dashed"==a.borderStyle||"double"==a.borderStyle||"hidden"==a.borderStyle||"none"==a.borderStyle?document.getElementById("line_style").style.borderTopStyle=a.borderStyle:document.getElementById("line_style").style.borderStyle=a.borderStyle,"solid"!=a.borderTopStyle&&"dotted"!=a.borderTopStyle&&"dashed"!=a.borderTopStyle&&"hidden"!=a.borderTopStyle&&"none"!=a.borderTopStyle?(document.getElementById("line_style").style.borderWidth=
"3px","double"==a.borderTopStyle?document.getElementById("line_style").style.borderColor="#5d5d5d":document.getElementById("line_style").style.borderColor="#e1e1e1"):(document.getElementById("line_style").style.borderTopWidth="1px",document.getElementById("line_style").style.borderTopColor="#5d5d5d")):(document.getElementById("line_style").style.borderTopStyle="none",b=!1);d+=a.borderTopStyle+" ";e+=a.borderBottomStyle+" ";f+=a.borderRightStyle+" ";g+=a.borderLeftStyle+" ";var h=getColorHex(a.borderTopColor),
m=getColorHex(a.borderBottomColor),k=getColorHex(a.borderRightColor),l=getColorHex(a.borderLeftColor);h==m&&m==k&&k==l&&(document.getElementById("line_color").style.borderTopColor=h);d+=h;e+=m;f+=k;g+=l;document.getElementById("edge_border").style.borderTop=d;document.getElementById("edge_border").style.borderBottom=e;document.getElementById("edge_border").style.borderRight=f;document.getElementById("edge_border").style.borderLeft=g;b||edgeNoneTotalClick("none")}else document.getElementById("line_style").style.borderTopStyle=
"none",edgeNoneTotalClick("none")}function setLayout(a){a=a.replace("te","");a={num:a};0==LayerWin.KEDITORTOP.RAONKEDITOR.isEmpty()?1==confirm(LayerWin.RAONKEditor_lang.msg.newDocument)&&LayerWin.event_keditor_layout(a,window.frameElement.parentNode.parentNode):LayerWin.event_keditor_layout(a,window.frameElement.parentNode.parentNode)}function getFileName(a){var c="";if(a&&0<a.length)return c=a,a=a.split("\\"),0<a.length&&(c=a[a.length-1]),c}
function htmlSpecialChars(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")}
function keditor_upload_open_file(){var a=document.keditor_upload_form,c=document.getElementById(file_field_id),b=c.value;if(0<b.lastIndexOf(".")){for(var b=b.substring(b.lastIndexOf(".")+1).toLowerCase(),d=!1,e=["htm","html","txt"],f=e.toString()+LayerWin.RAONKEditor_lang.msg.alert_exec_tail,g=e.length,h=0;h<g;h++)if(b==e[h]){d=!0;break}if(1==d){if(0!=KEDITORTOP.RAONKEDITOR.isEmpty()||0!=confirm(LayerWin.RAONKEditor_lang.msg.newDocument))"1"==LayerWin._k_editor._config.openDocument.useHtml5FileOpen?
(loading_image_show(!0),handleFileSelect(c.files)):(loading_image_show(!0),c=KEDITORTOP.RAONKEDITOR.util.makeGuid().toLowerCase(),b=""+("kc"+KEDITORTOP.RAONKSolution.Agent.formfeed+"c02"+KEDITORTOP.RAONKSolution.Agent.vertical),b+="k01"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.security.encryptParam+KEDITORTOP.RAONKSolution.Agent.vertical,b+="k12"+KEDITORTOP.RAONKSolution.Agent.formfeed+c+KEDITORTOP.RAONKSolution.Agent.vertical,b+="k14"+KEDITORTOP.RAONKSolution.Agent.formfeed+
KEDITORTOP.RAONKEDITOR.util.makeGuid()+".html"+KEDITORTOP.RAONKSolution.Agent.vertical,b+="k15"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.saveFileNameRule+KEDITORTOP.RAONKSolution.Agent.vertical,b+="k16"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.saveFileNameRuleEx+KEDITORTOP.RAONKSolution.Agent.vertical,b+="k17"+KEDITORTOP.RAONKSolution.Agent.formfeed+KEDITORTOP.G_CURRKEDITOR._config.saveFolderNameRule,b=KEDITORTOP.RAONKEDITOR.util.makeEncryptParam(b),
document.getElementById("k00").value=b,a.action=document.getElementById("upload_url").value,a.submit())}else alert(f)}else alert(LayerWin.RAONKEditor_lang.msg.alert_exec)}function event_keditor_open_file_upload_completed(a){var c=document.getElementById(file_field_id).value;a={fileExt:c.substring(c.lastIndexOf(".")+1).toLowerCase(),data:a};LayerWin.event_keditor_insert_open_file(a,window.frameElement.parentNode.parentNode)}
function keditor_blockquote(){var a={tagvalue:document.getElementById("tempblockquote").value};LayerWin.event_keditor_insert_blockquote(a,window.frameElement.parentNode.parentNode)}function keditor_blockquoteCancel(){LayerWin.event_keditor_cancel_blockquote(window.frameElement.parentNode.parentNode)}
function keditor_setAccessibility(a,c){var b=document.getElementById("input_title").value,d=document.getElementById("input_alt").value,e=document.getElementById("chk_skip").checked,f=document.getElementById("input_id").value,g;c.parentNode.cells[1].getElementsByTagName("span")[2]&&(g=c.parentNode.cells[1].getElementsByTagName("span")[2].innerHTML);var h=!1;""==document.getElementById("id_tr").style.display&&(h=!0);LayerWin.event_keditor_setAccessibility({title:b,alt:d,skip:e,id:f,idSamMode:h,sameOrgId:g},
a,c)}function fileOnchange(a,c,b){var d={files:LayerWin.getFileProcessObjectArrayHtml5(a.files)};a.value="";fileOnchangeAfter(d,c,b)}
function fileOnchangeAfter(a,c,b){a={files:a.files,editor:LayerWin._k_editor};if(0!=a.files.length){if("image"!=c&&"m_image"!=c||elemModify)for(;1<a.files.length;)a.files.pop();var d=a.editor._config;loading_image_show(!0);var e=!1;a.extensionDetector=d.security.fileExtensionDetector;a.resultContainsNull=!1;switch(c){case "image":case "m_image":a.maxSize=d.maxImageFileSize;a.allowExtArray=d.allowImageFileType;"base64"==d.uploadMethod&&null==elemModify&&(a.base64ImageMaxCount=d.maxImageBase64fileCount);
e=!0;a.qualityOptions=d.imageQuality;break;case "doc_bg_image":case "input_image":case "hyperlink_image":case "poster_media":case "cell_bg_image":case "table_bg_image":case "p_table_bg_image":a.maxSize=d.maxImageFileSize;a.allowExtArray=d.allowImageFileType;a.qualityOptions=d.imageQuality;break;case "media":a.maxSize=d.maxMediaFileSize;a.allowExtArray=d.allowMediaFileType;break;case "flash":a.maxSize=d.maxFlashFileSize;a.allowExtArray=d.allowFlashFileType;break;case "insert_file":a.maxSize=d.maxInsertFileSize;
a.allowExtArray=d.allowInsertFileType;break;case "video_media":a.maxSize=d.maxVideoFileSize,a.allowExtArray=d.allowVideoFileType}var f=function(a){loading_image_show(!1);G_SelectedFiles=a;displayFileInfo(a,c,b)},g=new LayerWin.FileValidator(a);g.allCheck(function(a,b){b&&g.showFilteredMessage(b);0<a.length?e?g.setImageWidthHeight(function(a){f(a)}):f(a):f(a)})}}
function displayFileInfo(a,c,b){var d="drop_zone",e="file_text";if("video_media"==c||"poster_media"==c)d=d+"_"+c;b&&("string"===typeof b?d=b:b.currentTarget&&"object"===typeof b.currentTarget&&(d=b.currentTarget.getAttribute("id")),null!=document.getElementById(d)&&null!=document.getElementById(d).getAttribute(e)&&(e=document.getElementById(d).getAttribute(e)));b=LayerWin._k_editor._config;if(d=document.getElementById(d)){var f=LayerWin.RAONKEditor_lang.upload.drop_zone_content;1==KEDITORTOP.RAONKEDITOR.browser.mobile&&
(f=LayerWin.RAONKEditor_lang.upload.drop_zone_content2);d.innerHTML=f}G_dragDropFileObj&&(G_dragDropFileObj=null);document.getElementById("image_url")&&(document.getElementById("image_url").value="");if(f=document.getElementById(e))f.value="";("image"==c||"m_image"==c)&&(null==elemModify||0<a.length)&&dialogPartialInit();if(0<a.length){var g=1<a.length;if(f=document.getElementById(e))f.value="insert_file"===c?a[0].name:"string"==typeof a[0].path?a[0].path:a[0].name;d.innerHTML=g?LayerWin.RAONKEditor_lang.msg.multi_file_cnt.replace("{0}",
a.length.toString()):a[0].name;d.className="K_edITor_ED_Popup_DropZoneNoneBackground";switch(c){case "video_media":G_VideoMediaFile=a;break;case "poster_media":G_PosterMediaFile=a;break;case "image":case "m_image":if(g)multiImageInit();else{if(c=document.getElementById("img_alt"))c.value=LayerWin.getFileName(a[0].name,!0);c=document.getElementById("img_width");e=document.getElementById("img_height");document.getElementById("original_image_width").value=a[0].width;document.getElementById("original_image_height").value=
a[0].height;d=document.getElementById("img_width_unit");f=document.getElementById("img_height_unit");g=!1;d&&"%"==d.value&&(g=!0);if(g){f.value="%";e.disabled=!0;g=a[0].width;a=b.imgDefaultWidth;b=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a);var h=LayerWin.getWidthForAutoBodyFit(LayerWin._k_editor,"img"),g=Math.round(g/h*1E4)/100;-1<a.indexOf("%")&&0!=b&&b<g&&(g=b);c.value=g;(a=document.getElementById("original_size"))&&(a.checked||"1"==LayerWin._k_editor._config.keepImageOriginalSizeAutoCheck)&&(a.checked=
!0,c.disabled=!0,e.disabled=!0,d.disabled=!0,f.disabled=!0)}else{f.value="px";var g=a[0].width,h=a[0].height,m=a="";0>b.imgDefaultWidth.indexOf("%")&&(a=b.imgDefaultWidth,m=b.imgDefaultHeight);""!=a?KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a)&&(g=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g,10),h=isNaN(g)?h:Math.round(g),g=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a)):""!=
m&&KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(m)&&(a=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(m,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h,10),g=isNaN(a)?g:Math.round(a),h=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(m));c.value=g;e.value=h;if(a=document.getElementById("img_ratio"))"true"!=a.getAttribute("ratio-checked")&&a.click(),KEDITORTOP.RAONKEDITOR.browser.mobile?(a.style.display="none",document.getElementById("img_ratio_view").style.display=
""):a.style.display="",addEventImgWidthHeight(g,h);(a=document.getElementById("original_size"))&&(a.checked||"1"==b.keepImageOriginalSizeAutoCheck)&&(a.checked=!0,c.disabled=!0,e.disabled=!0,d.disabled=!0,f.disabled=!0)}}}}}
function makeErrorContent(){var a=LayerWin.KEDITORTOP.G_CURRKEDITOR.imageFileInfo.validData,c="",b=LayerWin.RAONKEditor_lang.msg.multi_file_validation_error;if(0<a.sizeErrorFile.length)if(1==a.sizeErrorFile.length)c+=a.sizeErrorFile[0].filename+" : "+a.sizeErrorFile[0].content+"\n";else var d=b.replace("{0}",a.sizeErrorFile[0].filename),d=d.replace("{1}",(a.sizeErrorFile.length-1).toString()),c=c+(d+a.sizeErrorFile[0].content+"\n");0<a.base64CntErrorFile.length&&(1==a.base64CntErrorFile.length?c+=
a.base64CntErrorFile[0].filename+" : "+a.base64CntErrorFile[0].content+"\n":(d=b.replace("{0}",a.base64CntErrorFile[0].filename),d=d.replace("{1}",(a.base64CntErrorFile.length-1).toString()),c+=d+a.base64CntErrorFile[0].content+"\n"));0<a.extensionErrorFile.length&&(1==a.extensionErrorFile.length?c+=a.extensionErrorFile[0].filename+" : "+a.extensionErrorFile[0].content+"\n":(d=b.replace("{0}",a.extensionErrorFile[0].filename),d=d.replace("{1}",(a.extensionErrorFile.length-1).toString()),c+=d+a.extensionErrorFile[0].content+
"\n"));0<a.detectErrorFile.length&&"0"==KEDITORTOP.G_CURRKEDITOR._config.useKManager&&(1==a.detectErrorFile.length?c+=a.detectErrorFile[0].filename+" : "+a.detectErrorFile[0].content+"\n":(d=b.replace("{0}",a.detectErrorFile[0].filename),d=d.replace("{1}",(a.detectErrorFile.length-1).toString()),c+=d+a.detectErrorFile[0].content+"\n"));return c}
function multiImageInit(){var a=document.getElementById("img_title"),c=document.getElementById("img_alt"),b=document.getElementById("img_id"),d=document.getElementById("img_class");document.getElementById("img_width");document.getElementById("img_height");document.getElementById("continue_insert");document.getElementById("image_spacing");document.getElementById("continue_insert_menu");document.getElementById("original_size");document.getElementById("maintain_value");a.disabled=!0;c.disabled=!0;b.disabled=
!0;d.disabled=!0}
function set_page_table_lock_property(){KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("ok_btn"),"click",function(){applyTableLockProperty()});var a=LayerWin.GetParentbyTagName(KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT,"table",!0);if(a){var c=LayerWin.checkLockAttr(a,!0),b=document.getElementsByName("table_lock");c?(b[0].checked=!0,b[1].checked=!1):(b[0].checked=!1,b[1].checked=!0);a.getAttribute("lock_mode")&&(d=a.getAttribute("lock_mode"));c=document.getElementsByName("lock_mode");"1"==
d?(c[0].checked=!0,c[1].checked=!1):(c[0].checked=!1,c[1].checked=!0);var d=KEDITORTOP.G_CURRKEDITOR._config.defaultTableLockMode;a.getAttribute("lock_mode")&&(d=a.getAttribute("lock_mode"));c=document.getElementsByName("lock_mode");"1"==d?(c[0].checked=!0,c[1].checked=!1):(c[0].checked=!1,c[1].checked=!0);d=KEDITORTOP.G_CURRKEDITOR._config.defaultShowLockIconUserMode;a.getAttribute("show_icon")&&(d=a.getAttribute("show_icon"));a=document.getElementsByName("lock_icon_option");"0"==d?(a[1].checked=
!0,a[0].checked=!1):(a[1].checked=!1,a[0].checked=!0)}}
function applyTableLockProperty(){var a=LayerWin.GetParentbyTagName(KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT,"table",!0);a&&(document.getElementsByName("table_lock")[0].checked?(LayerWin.setClassName(a,"k_editor_table_lock"),a.setAttribute(KEDITORTOP.G_CURRKEDITOR._config.adminTableLock.defaultLockName,""),document.getElementsByName("lock_mode")[0].checked?a.setAttribute("lock_mode","1"):a.setAttribute("lock_mode","2"),document.getElementsByName("lock_icon_option")[0].checked?a.setAttribute("show_icon",
"1"):a.setAttribute("show_icon","0")):(LayerWin.removeLockAttr(a),LayerWin.removeClassName(a,"k_editor_table_lock"),a.removeAttribute("lock_mode"),a.removeAttribute("show_icon")),a=LayerWin.getFirstRange().range.startContainer,3==a.nodeType&&(a=a.parentNode),a&&1==a.nodeType&&LayerWin.setMenuIconRealable(a));event_popup_close()}
function setBorderListValue(a,c){switch(a){case "none":c.style.borderTopStyle="none";break;case "solid":c.style.borderTop="1px solid rgb(93, 93, 93)";break;case "dotted":c.style.borderTop="1px dotted rgb(93, 93, 93)";break;case "dashed":c.style.borderTop="1px dashed rgb(93, 93, 93)";break;case "double":c.style.border="3px double rgb(93, 93, 93)";break;case "groove":c.style.border="3px groove rgb(225, 225, 225)";break;case "ridge":c.style.border="3px ridge rgb(225, 225, 225)";break;case "inset":c.style.border=
"3px inset rgb(225, 225, 225)";break;case "outset":c.style.border="3px outset rgb(225, 225, 225)"}}
function paste_to_image_loaded_event(){var a=LayerWin.getDialogSkinName(LayerWin._k_editor);document.getElementById("keditor_dialog_box").className="K_edITor_ED_Popup_Type06 K_edITor_PUi_"+a;if("0"==LayerWin._k_editor._config.pasteToImagePopupMode){for(var c=document.querySelectorAll(".con_right"),b=c.length,a=0;a<b;a++)if(c[a].className=c[a].className.replace("con_right","con_left"),c[a].style.width="500px",0==a){c[a].parentNode.style.height="270px";var d=c[a].querySelector("dd");d.style.width="496px";
d.style.height="170px";d=c[a].querySelector("canvas");d.width="496";d.height="170"}a=document.querySelectorAll("fieldset");a[0].style.display="none";a[1].style.display="none";document.querySelector("#setting_img_format").style.marginTop="55px";c=a[2].querySelectorAll("li");b=["22%","22%","30%","20%"];d=c.length;for(a=0;a<d;a++)c[a].style.display="inline-block",c[a].style.width=b[a]}var c=document.getElementById("html_btn"),e=document.getElementById("image_width"),f=document.getElementById("image_height"),
g=document.getElementById("image_quality");document.getElementById("span_title").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.title;document.getElementById("span_save_client").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.save_client;document.getElementById("legent_format").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.format;document.getElementById("label_quality").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.quality;document.getElementById("rotate").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.rotate;
document.getElementById("size").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.size;document.getElementById("label_width").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.width;document.getElementById("label_height").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.height;document.getElementById("lock_size_rate").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.lock_size_rate;document.getElementById("span_origin_size").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.origin_size;document.getElementById("span_origin_size").parentNode.title=
LayerWin.RAONKEditor_lang.paste_to_image.origin_size;document.getElementById("dt_preview").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.preview;document.getElementById("label_lock_size_rate").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.lock_size_rate;document.getElementById("label_lock_origin_size").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.lock_origin_size;""!=LayerWin._k_editor._config.buttonText001?(document.getElementById("span_insert_image").innerHTML=LayerWin._k_editor._config.buttonText001,
document.getElementById("span_insert_image").parentNode.title=LayerWin._k_editor._config.buttonText001):(document.getElementById("span_insert_image").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.insert_image,document.getElementById("span_insert_image").parentNode.title=LayerWin.RAONKEditor_lang.paste_to_image.insert_image);document.getElementById("span_insert_html").innerHTML=LayerWin.RAONKEditor_lang.paste_to_image.insert_html;document.getElementById("span_insert_html").parentNode.title=LayerWin.RAONKEditor_lang.paste_to_image.insert_html;
KEDITORTOP.RAONKEDITOR.util.addEvent(g,"keydown",LayerWin.onlyNumber);KEDITORTOP.RAONKEDITOR.util.addEvent(g,"blur",function(){100<KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g.value)?g.value="100":0==KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g.value)&&(g.value="1")});KEDITORTOP.RAONKEDITOR.util.addEvent(e,"keydown",LayerWin.onlyNumber);KEDITORTOP.RAONKEDITOR.util.addEvent(f,"keydown",LayerWin.onlyNumber);KEDITORTOP.RAONKEDITOR.util.addEvent(e,"keyup",function(){if(1==document.getElementById("lock_size_rate").checked){var a=
parseInt(q,10)*parseInt(e.value,10)/parseInt(p,10);f.value=isNaN(a)?f.value:Math.round(a)}});KEDITORTOP.RAONKEDITOR.util.addEvent(f,"keyup",function(){if(1==document.getElementById("lock_size_rate").checked){var a=parseInt(p,10)*parseInt(f.value,10)/parseInt(q,10);e.value=isNaN(a)?e.value:Math.round(a)}});KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("span_origin_size").parentNode,"click",function(){e.value=p;f.value=q});KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("lock_origin_size"),
"click",function(){document.getElementById("lock_origin_size").checked?(e.value=parseInt(document.getElementById("original_img_width").value,10),f.value=parseInt(document.getElementById("original_img_height").value,10),e.disabled=!0,f.disabled=!0):(e.disabled=!1,f.disabled=!1)});KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("quality_spinUp"),"click",function(){0==g.disabled&&LayerWin.click_plus_func(document.getElementById("image_quality"),100,10)});KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("quality_spinDown"),
"click",function(){0==g.disabled&&LayerWin.click_minus_func(document.getElementById("image_quality"),1,10)});var h=KEDITORTOP.G_CURRKEDITOR.clipImageBeforePopup;LayerWin.canvasBugFix(h);for(var m=document.getElementById("canvas_preview"),k=m.getContext("2d"),l,n,p,q,u=0,x=0,r=1,d=b=!1,a=0;a<KEDITORTOP.G_CURRKEDITOR._config.pasteToImageType.length;a++)"png"==KEDITORTOP.G_CURRKEDITOR._config.pasteToImageType[a].toLowerCase()?b=!0:"jpg"==KEDITORTOP.G_CURRKEDITOR._config.pasteToImageType[a].toLowerCase()&&
(d=!0);"Windows"==KEDITORTOP.RAONKEDITOR.UserAgent.os.name&&d&&b?(a=KEDITORTOP.RAONKEDITOR.util.getExtensionFromFileName(KEDITORTOP.G_CURRKEDITOR.clipImageBlob.name).toLowerCase(),imageType="jpg"!=a&&"jpeg"!=a?"png":"jpeg"):"Windows"!=KEDITORTOP.RAONKEDITOR.UserAgent.os.name||!d&&b?(imageType="png",document.getElementById("image_type_png").checked=!0,document.getElementById("image_type_jpg").parentNode.style.display="none",document.getElementById("label_quality").parentNode.style.display="none"):
d&&!b&&(imageType="jpeg",document.getElementById("image_type_png").parentNode.style.display="none");var t={type:"",width:0,height:0,checkOriginSize:!1};0==KEDITORTOP.G_CURRKEDITOR.bTextorHtmlData&&(document.getElementById("html_btn").style.display="none",c=document.getElementById("image_btn"));KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("image_btn"),"click",function(){if("1"==KEDITORTOP.G_CURRKEDITOR._config.pasteToImagePopupMode){var a=document.getElementById("image_type_jpg"),b=
document.getElementById("image_type_png");a&&a.checked&&(imageType="jpeg");b&&b.checked&&(imageType="png")}for(var a=0,b=document.getElementsByName("image_rotate"),c=b.length,d=0;d<c;d++)if(b[d].checked){a=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(b[d].value);break}b=1;0==g.disabled&&(b=1*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(g.value)/100);var l=function(a){a&&(KEDITORTOP.G_CURRKEDITOR.clipImageBlob=a);t.type="image";t.width=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(e.value);t.height=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(f.value);
t.checkOriginSize=document.getElementById("lock_origin_size").checked;a=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(document.getElementById("original_img_width").value);var b=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(document.getElementById("original_img_height").value);t.checkOriginSize&&(t.width=a,t.height=b);LayerWin.command_pasteToImage(KEDITORTOP.G_CURRKEDITOR.ID,KEDITORTOP.G_CURRKEDITOR,t);h=void 0;event_popup_close()},c=KEDITORTOP.G_CURRKEDITOR.clipImageBlob.type.replace("image/","");0==a&&1==b&&
imageType==c||"0"==KEDITORTOP.G_CURRKEDITOR._config.pasteToImagePopupMode?l():(m.style.display="none",90==a||270==a?(c=h.height,d=h.width):(c=h.width,d=h.height),m.width=c,m.height=d,k.save(),"png"!=imageType&&(k.fillStyle="white",k.fillRect(0,0,m.width,m.height)),k.translate(m.width/2,m.height/2),k.rotate(a*Math.PI/180),"png"==imageType&&k.clearRect(0,0,m.width,m.height),k.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),k.restore(),m.toBlob(function(a){l(a)},"image/"+imageType,b))});KEDITORTOP.RAONKEDITOR.util.addEvent(document.getElementById("html_btn"),
"click",function(){t.type="html";LayerWin.command_pasteToImage(KEDITORTOP.G_CURRKEDITOR.ID,KEDITORTOP.G_CURRKEDITOR,t);h=void 0;event_popup_close();KEDITORTOP.G_CURRKEDITOR.pasteTableParam.tableNode&&LayerWin.RAONK_EDITOR.prototype.dialog.show(KEDITORTOP.G_CURRKEDITOR._config.webPath.page,KEDITORTOP.G_CURRKEDITOR._config.pages.paste_table)});for(var v=document.getElementsByName("image_rotate"),d=v.length,a=0;a<d;a++)b=function(a){return function(b){b=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(v[a].value);
k.save();k.clearRect(0,0,m.width,m.height);k.translate(m.width/2,m.height/2);k.rotate(b*Math.PI/180);k.drawImage(h,-l/2,-n/2,l,n);k.restore();var c;90==b||270==b?(b=h.height,c=h.width,p=h.height,q=h.width):(b=h.width,c=h.height,p=h.width,q=h.height);e.value=b;f.value=c}}(a),KEDITORTOP.RAONKEDITOR.util.addEvent(v[a],"click",b);for(var z=document.getElementsByName("image_type"),d=z.length,a=0;a<d;a++)b=function(a){return function(b){b=z[a].value;"jpg"==b?(imageType="jpeg",g.disabled=!1):(imageType=
b,g.disabled=!0)}}(a),KEDITORTOP.RAONKEDITOR.util.addEvent(z[a],"click",b);g.value="100";setCursorPos(document.getElementById("image_type_jpg"),!1,!1);LayerWin.setFocusFirstAndLast(document,document.getElementById("image_type_jpg"),c);(function(){KEDITORTOP.G_CURRKEDITOR=LayerWin._k_editor;p=h.width;q=h.height;document.getElementById("original_img_width").value=h.width;document.getElementById("original_img_height").value=h.height;var a="",b="";0>LayerWin._k_editor._config.imgDefaultWidth.indexOf("%")&&
(a=LayerWin._k_editor._config.imgDefaultWidth,b=LayerWin._k_editor._config.imgDefaultHeight);""!=a?KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a)&&(b=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(q,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p,10),q=isNaN(b)?q:Math.round(b),p=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(a)):""!=b&&KEDITORTOP.RAONKEDITOR.util.parseIntOr0(q)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(b)&&(a=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p,
10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(b,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(q,10),p=isNaN(a)?p:Math.round(a),q=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(b));e.value=p;f.value=q;r=Math.min(m.width/h.width,m.height/h.height);1>r?(l=Math.round(h.width*r),n=Math.round(h.height*r)):(l=h.width,n=h.height,r=1);l<m.width&&(u=(m.width-l)/2);n<m.height&&(x=(m.height-n)/2);k.drawImage(h,u,x,l,n)})();c=document.getElementsByClassName("Li");b=null;for(a=0;a<c.length;a++)if("none"!=c[a].style.display){b=
c[a].getElementsByTagName("input")[0];break}b&&(setCursorPos(b,!1,!1),LayerWin.setFocusFirstAndLast(document,b))}function keditor_create_conversion(){var a={text:document.getElementById("targetContent").value};LayerWin.event_keditor_create_conversion(a,window.frameElement.parentNode.parentNode)}function keditor_calculator(){var a=document.getElementById("valueText");LayerWin.event_keditor_calculator(a.value,window.frameElement.parentNode.parentNode)}
function keditor_insert_placeholder(){var a={notice:""};a.notice=document.getElementById("input_notice").value;LayerWin.event_keditor_insert_placeholder(a,window.frameElement.parentNode.parentNode)}
function keditor_paragraph_attribute(){var a=document.getElementById("p_margin_left"),c=document.getElementById("p_margin_right"),b=document.getElementById("p_margin_top"),d=document.getElementById("p_margin_bottom"),e=document.getElementById("p_letter_spacing"),f=document.getElementById("p_word_spacing"),g=document.getElementById("p_text_indent"),h=document.getElementById("p_font_size"),m=document.getElementById("font_family_select"),k=document.getElementById("p_font_size_type"),l,n,p,q,u;"[object Array]"===
Object.prototype.toString.call(KEDITORTOP.G_CURRKEDITOR._config.paragraphAttributeType)?(p_text_indent_type=document.getElementById("p_text_indent_type"),p_margin_left_type=document.getElementById("p_margin_left_type"),p_margin_right_type=document.getElementById("p_margin_right_type"),p_margin_top_type=document.getElementById("p_margin_top_type"),p_margin_bottom_type=document.getElementById("p_margin_bottom_type"),l=p_text_indent_type[p_text_indent_type.options.selectedIndex].value,n=p_margin_left_type[p_margin_left_type.options.selectedIndex].value,
p=p_margin_right_type[p_margin_right_type.options.selectedIndex].value,q=p_margin_top_type[p_margin_top_type.options.selectedIndex].value,u=p_margin_bottom_type[p_margin_bottom_type.options.selectedIndex].value):u=q=p=n=l=KEDITORTOP.G_CURRKEDITOR._config.paragraphAttributeType;LayerWin.event_keditor_paragraph_attribute({marginLeft:a.value,marginRight:c.value,marginTop:b.value,marginBottom:d.value,letterSpacing:e.value,wordSpacing:f.value,textIndent:g.value,fontSize:h.value,fontFamily:m.value,fontType:k.value,
textIndentType:l,marginLeftType:n,marginRightType:p,marginTopType:q,marginBottomType:u},window.frameElement.parentNode.parentNode)}function keditor_paste_table(){for(var a="",c=document.getElementsByName("radio_select"),b=c.length,d=0;d<b;d++)if(1==c[d].checked){a=c[d].value;break}LayerWin.event_keditor_paste_table({type:a},window.frameElement.parentNode.parentNode)}
function set_paste_table_button(){for(var a=KEDITORTOP.G_CURRKEDITOR.pasteTableParam.tableNode,c=0,b=0,c=a.rows.length,d=0;d<c;d++){var e=a.rows[d].cells.length;b<e&&(b=e)}for(var a=KEDITORTOP.G_CURRKEDITOR.pasteTableParam.currTableNode,f=0,g=0,f=a.rows.length,d=0;d<f;d++)e=a.rows[d].cells.length,g<e&&(g=e);f==c&&(document.getElementById("radio_3").removeAttribute("disabled"),document.getElementById("radio_4").removeAttribute("disabled"));g==b&&(document.getElementById("radio_5").removeAttribute("disabled"),
document.getElementById("radio_6").removeAttribute("disabled"))}function keditor_load_auto_save_open(a,c,b){return LayerWin.event_keditor_load_auto_save_open(a,c,b)}function keditor_load_auto_save(){LayerWin.event_keditor_load_auto_save(g_currHtml,window.frameElement.parentNode.parentNode,g_currEditorId)}function keditor_load_auto_save_del(a,c,b,d){a="keditor_"+a;""!=c&&(a+="_"+c);LayerWin.event_keditor_load_auto_save_del(a,b,window.frameElement.parentNode.parentNode,d)}
function keditor_load_auto_save_setDateList(){var a=keditor_load_auto_save_open(KEDITORTOP.G_CURRKEDITOR.ID,KEDITORTOP.G_CURRKEDITOR._config.setAutoSave.unique_key,KEDITORTOP.G_CURRKEDITOR._config.setAutoSave.maxCount);if(null!=a&&void 0!=a&&0<a.length)for(var c=document.getElementById("ul_date"),b=a.length-1;0<=b;b--){var d=document.createElement("li");d.style.cursor="pointer";var e=document.createElement("span");e.className="icon";var f=document.createElement("img");f.src="../images/bg/editor_popup_close_bg_rounded_dark.png";
f.width="10";f.height="10";f.style.cursor="pointer";e.appendChild(f);var g=document.createElement("span");g.className="text";var f=a[b].date.split(" "),h=f[0].split("/");g.innerHTML=h[2]+"/"+h[0]+"/"+h[1]+" "+f[1];f=document.createElement("a");f.appendChild(g);f.href="javascript:void(0)";f.style.textDecoration="none";f.className="a_data_width";g=document.createElement("a");g.appendChild(e);g.href="javascript:void(0)";g.style.textDecoration="none";7==KEDITORTOP.RAONKEDITOR.browser.ieVersion&&(d.style.width=
"100%");d.appendChild(f);d.appendChild(g);c.appendChild(d);e=function(b){return function(c){keditor_load_auto_save_click_date(b,a);KEDITORTOP.RAONKEDITOR.util.stopEvent(c)}}(b);KEDITORTOP.RAONKEDITOR.util.addEvent(d,"click",e);KEDITORTOP.RAONKEDITOR.util.addEvent(f,"focus",e);d=function(a){return function(a){13==("which"in a?a.which:a.keyCode)&&(KEDITORTOP.RAONKEDITOR.util.cancelEvent(a),keditor_load_auto_save())}}(f);KEDITORTOP.RAONKEDITOR.util.addEvent(f,"keydown",d);"cssFloat"in f.style?f.style.cssFloat=
"left":f.style.styleFloat="left";"cssFloat"in g.style?g.style.cssFloat="right":g.style.styleFloat="right";g.style.marginRight="5px";d=function(b){return function(c){keditor_load_auto_save_click_date(b,a);keditor_load_auto_save_click_del(KEDITORTOP.G_CURRKEDITOR.ID,KEDITORTOP.G_CURRKEDITOR._config.setAutoSave.unique_key,b,KEDITORTOP.G_CURRKEDITOR._config.setAutoSave.maxCount);KEDITORTOP.RAONKEDITOR.util.stopEvent(c)}}(b);KEDITORTOP.RAONKEDITOR.util.addEvent(g,"click",d);setCursorPos(document.getElementById("ul_date").getElementsByTagName("a")[0],
!1,!1);LayerWin.setFocusFirstAndLast(document,document.getElementById("ul_date").getElementsByTagName("a")[0])}else keditor_load_auto_save_setHtml("<html><head></head><body></body></html>")}
function keditor_load_auto_save_click_date(a,c){for(var b=document.getElementById("ul_date"),d=b.getElementsByTagName("li").length-1,e=d;0<=e;e--){var f=d-e;e==a?b.getElementsByTagName("li")[f].style.backgroundColor="#dff1ff":b.getElementsByTagName("li")[f].style.backgroundColor="#ffffff";b.getElementsByTagName("li")[f].getElementsByTagName("img")[0].src="../images/bg/editor_popup_close_bg_rounded_dark.png"}0<b.getElementsByTagName("li").length&&keditor_load_auto_save_setHtml(c[a].html);g_currEditorId=
c[a].id}
function keditor_load_auto_save_setHtml(a){var c=document.getElementById("content_frame").contentWindow.document;g_currHtml=a;"1"==KEDITORTOP.G_CURRKEDITOR._config.enforceDoctype&&(g_currHtml=g_currHtml.replace(/<!doctype *([^>?+])*>/gi,""));a=LayerWin.getRemoveHeadScript(g_currHtml);g_currHtml=a.html;c.open("text/html","replace");LayerWin.isCustomDomain(LayerWin.document)&&(c.domain=LayerWin.document.domain);c.write(g_currHtml);c.close();LayerWin.setHeadScriptSrc(c,a.scriptsAry);a=Math.max(c.body.scrollWidth,c.body.offsetWidth,
c.documentElement.clientWidth,c.documentElement.scrollWidth,c.documentElement.offsetWidth);var b=Math.max(c.body.scrollHeight,c.body.offsetHeight,c.documentElement.clientHeight,c.documentElement.scrollHeight,c.documentElement.offsetHeight),d=document.getElementById("content_frame").parentNode,e=LayerWin.getClientRect(d),d=e.right-e.left,e=e.bottom-e.top,f=!0;KEDITORTOP.RAONKEDITOR.browser.ie&&7>=KEDITORTOP.RAONKEDITOR.browser.ieVersion&&(f=!1);a>d?f&&(c.body.style.overflowX="scroll"):f&&(c.body.style.overflowX=
"hidden");b>e?f&&(c.body.style.overflowY="scroll"):f&&(c.body.style.overflowY="hidden");KEDITORTOP.RAONKEDITOR.util.addEvent(c,"contextmenu",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});c.body.contentEditable=!1}function keditor_load_auto_save_click_del(a,c,b,d){var e=document.getElementById("ul_date");if(confirm(LayerWin.RAONKEditor_lang.loadAutoSave.delMsg)){for(keditor_load_auto_save_del(a,c,b,d);e.hasChildNodes();)e.removeChild(e.firstChild);keditor_load_auto_save_setDateList()}}
function about_set_license(){try{document.getElementById("keditor_license_company").innerHTML=": "+LayerWin._k_editor.____.l[1],document.getElementById("keditor_license_system").innerHTML=": "+LayerWin._k_editor.____.l[2],document.getElementById("keditor_license_product").innerHTML=": "+LayerWin._k_editor.____.l[0],"S"==LayerWin._k_editor.____.l[8]?document.getElementById("keditor_license_edition").innerHTML=": Standard Edition":document.getElementById("keditor_license_edition").innerHTML=": Professional Edition",
0==LayerWin._k_editor.____.l[5]?document.getElementById("keditor_license_user").innerHTML=": Unlimited.":document.getElementById("keditor_license_user").innerHTML=": "+LayerWin._k_editor.____.l[5],document.getElementById("keditor_license_ver").innerHTML=": "+KEDITORTOP.RAONKEDITOR.util.getRV(KEDITORTOP.RAONKEDITOR._$0)}catch(a){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(a)}}KEDITORTOP.RAONKEDITOR.util.addEvent(window,"dragover",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});
KEDITORTOP.RAONKEDITOR.util.addEvent(document,"dragover",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});KEDITORTOP.RAONKEDITOR.util.addEvent(window,"drop",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});KEDITORTOP.RAONKEDITOR.util.addEvent(document,"drop",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});"undefined"==typeof useContextmenu&&KEDITORTOP.RAONKEDITOR.util.addEvent(document,"contextmenu",function(a){KEDITORTOP.RAONKEDITOR.util.cancelEvent(a)});
function kplugin_action(a){LayerWin.event_kplugin_action(a,window.frameElement.parentNode.parentNode)}function setInputBoxWidth(a,c){c=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(c);KEDITORTOP.RAONKEDITOR.browser.mobile&&(a.style.width=KEDITORTOP.RAONKEDITOR.browser.safari?c-10+"px":c+"px")}
function keditor_spellcheck_set_popup(a,c){if(0==a.length)return!1;try{for(var b=LayerWin.rangy.createRange(document.getElementById("copycontent").contentDocument),d=0;d<a.length;d++)if(b.findText(a[d].word)){b.deleteContents();var e=document.createElement("span");e.setAttribute("id","cnt"+d);e.setAttribute("class","cnt");e.setAttribute("onmouseover","parent.wrong_word_over(this)");e.setAttribute("onmouseout","parent.wrong_word_out(this)");var f=document.createElement("span");f.setAttribute("class",
"cnt_modify");f.setAttribute("title","\uc801\uc6a9\ud558\uae30");f.setAttribute("onclick","parent.above_word_click(this)");f.innerHTML=a[d].suggestions[0];e.appendChild(f);var g=document.createElement("span");g.setAttribute("class","wordspan");g.innerText=a[d].word;var h=document.createElement("sup"),m=document.createTextNode(d+1+")");h.appendChild(m);e.appendChild(h);e.appendChild(g);b.insertNode(e);b.selectNode(e);c?b.collapse(!1):b.collapse(!0);var k=document.createElement("dl");k.setAttribute("id",
"list"+d);k.setAttribute("value",d);-1!=LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word.indexOf("'")?k.innerHTML='<dt onclick="wrong_word_click(this)"><a href="javascript:void(0);" data-value="'+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+'">'+(d+1)+") "+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+"</a></dt>":k.innerHTML="<dt onclick='wrong_word_click(this)'><a href='javascript: void (0);' data-value='"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+"'>"+(d+1)+") "+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+
"</a></dt>";document.getElementById("wordlist").appendChild(k);for(var l=0;l<LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions.length;l++){var n=document.createElement("dd");n.setAttribute("onclick","replace_word_click(this)");n.innerHTML="<a href='javascript: void (0);' value='"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions[l]+"'>"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions[l]+"</a></dt>";document.getElementById("list"+d).appendChild(n)}k.getElementsByTagName("dd")[0].setAttribute("class",
"recommend")}else{var p=a[d].word,p=p.replace(/ /gi,"\u00a0");if(b.findText(p)){b.deleteContents();e=document.createElement("span");e.setAttribute("id","cnt"+d);e.setAttribute("class","cnt");e.setAttribute("onmouseover","parent.wrong_word_over(this)");e.setAttribute("onmouseout","parent.wrong_word_out(this)");f=document.createElement("span");f.setAttribute("class","cnt_modify");f.setAttribute("title","\uc801\uc6a9\ud558\uae30");f.setAttribute("onclick","parent.above_word_click(this)");f.innerHTML=
a[d].suggestions[0];e.appendChild(f);g=document.createElement("span");g.setAttribute("class","wordspan");g.innerText=a[d].word;h=document.createElement("sup");m=document.createTextNode(d+1+")");h.appendChild(m);e.appendChild(h);e.appendChild(g);b.insertNode(e);b.selectNode(e);c?b.collapse(!1):b.collapse(!0);k=document.createElement("dl");k.setAttribute("id","list"+d);k.setAttribute("value",d);-1!=LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word.indexOf("'")?k.innerHTML='<dt onclick="wrong_word_click(this)"><a href="javascript:void(0);" data-value="'+
LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+'">'+(d+1)+") "+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+"</a></dt>":k.innerHTML="<dt onclick='wrong_word_click(this)'><a href='javascript: void (0);' data-value='"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+"'>"+(d+1)+") "+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].word+"</a></dt>";document.getElementById("wordlist").appendChild(k);for(l=0;l<LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions.length;l++)n=document.createElement("dd"),
n.setAttribute("onclick","replace_word_click(this)"),n.innerHTML="<a href='javascript: void (0);' value='"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions[l]+"'>"+LayerWin.G_KPlugin.spellcheck.chkWordArr[d].suggestions[l]+"</a></dt>",document.getElementById("list"+d).appendChild(n);k.getElementsByTagName("dd")[0].setAttribute("class","recommend")}else LayerWin.G_KPlugin.spellcheck.chkWordArr.splice(d,1),d--}LayerWin.hideProcessingBackground()}catch(q){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&
console.log(q)}}
function imgSizeUnitChange(a,c){var b=document.getElementById("img_height_unit"),d=document.getElementById("img_width_unit"),e=document.getElementById("img_width"),f=document.getElementById("img_height"),g=document.getElementById("img_ratio"),h=KEDITORTOP.G_CURRKEDITOR._config.imgDefaultWidth,m=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h);if("%"==a){var k=LayerWin.getWidthForAutoBodyFit(LayerWin._k_editor,"img"),k=Math.round(document.getElementById("original_image_width").value/k*1E4)/100;0==k&&(k=
"")}if(d.value!=b.value)if(d.value=a,b.value=a,"%"==a)-1<h.indexOf("%")&&m<k&&""!=k&&0!=m?e.value=m:e.value=k,f.value="",f.disabled=!0;else{var h=KEDITORTOP.G_CURRKEDITOR._config.imgDefaultWidth,l=KEDITORTOP.G_CURRKEDITOR._config.imgDefaultHeight,n=document.getElementById("original_image_width").value,p=document.getElementById("original_image_height").value;""!=h&&0>h.indexOf("%")?KEDITORTOP.RAONKEDITOR.util.parseIntOr0(n)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h)&&(l=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p,
10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(n,10),p=isNaN(l)?p:Math.round(l),n=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(h)):""!=l&&KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p)>KEDITORTOP.RAONKEDITOR.util.parseIntOr0(l)&&(p=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(n,10)*KEDITORTOP.RAONKEDITOR.util.parseIntOr0(l,10)/KEDITORTOP.RAONKEDITOR.util.parseIntOr0(p,10),n=isNaN(p)?n:Math.round(p),p=KEDITORTOP.RAONKEDITOR.util.parseIntOr0(l));e.value=n;f.value=p;f.disabled=
!1}"true"==g.getAttribute("ratio-checked")?(d.value=a,b.value=a,"%"==a?"w"==c&&(-1<h.indexOf("%")&&m<k&&""!=k&&0!=m?e.value=m:e.value=k,f.value="",f.setAttribute("disabled","true")):(e.removeAttribute("disabled"),f.removeAttribute("disabled"))):d.value==b.value?g.removeAttribute("disabled"):(g.className="img_link_btn",g.setAttribute("ratio-checked",!1),g.setAttribute("disabled","true"),e.removeAttribute("disabled"),f.removeAttribute("disabled"))}
function checkSameBorderWidthInCells(a,c){var b=["borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth"],d=b.length,e={isSame:!0,borderWidth:""};try{if(c){a=[];for(var f=["td","th"],g=f.length,h=0;h<g;h++){var m=c.getElementsByTagName(f[h]);try{a=a.concat(Array.prototype.slice.call(m,0))}catch(k){for(var l=m.length,n=0;n<l;n++)a.push(m[n])}}}var p=a.length;if(500>=p){for(var q=a[0].style.borderLeftWidth,h=0;h<p;h++)for(var u=a[h],n=0;n<d;n++)if(q!=u.style[b[n]]){e.isSame=!1;break}1==
e.isSame&&(e.borderWidth=q)}else e={isSame:!1,borderWidth:""}}catch(x){e={isSame:!1,borderWidth:""}}return e}function changeStyleForiOS(a,c){if(KEDITORTOP.RAONKEDITOR.browser.iOS&&KEditorLayerWin.isMobileAndFixBottom())for(data in a.style.webkitAppearance="none",c){a.style[data]=c[data];break}}
function page_dialog_loaded_event(a){try{var c=document.location.href;try{c=c.substring(c.indexOf("/pages/editor_")+14),c=c.substring(0,c.indexOf(".html?"))}catch(b){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(b)}if(LayerWin.isMobileAndFixBottom()){var d=KEDITORTOP.document.createElement("div");d.style.width="99%";d.style.position="absolute";KEDITORTOP.document.body.append(d);var e=LayerWin.getClientRect(d).width;d.parentNode.removeChild(d);for(a=1;6>=a;a++){var f=
document.querySelector(".K_edITor_ED_Popup_Type0"+a);if(f){f.style.width=e+"px";break}}e=!0;-1<",calculator,paragraph_attribute,".indexOf(","+c+",")&&(e=!1);if(e){var g=document.querySelectorAll(".EdiTor_Popup_contents");for(a=0;a<g.length;a++)for(var h=g[a].querySelectorAll("table"),m=h.length,e=0;e<m;e++)h[e].style.width="",h[e].classList.add("mobile")}"function"===typeof setUiForMobile&&setUiForMobile()}"function"===typeof KEDITORTOP.G_CURRKEDITOR._config.event.dialogLoaded?KEDITORTOP.G_CURRKEDITOR._config.event.dialogLoaded(c,
document):"function"===typeof KEDITORTOP.KEDITORWIN.RAONKEDITOR_DialogLoaded&&KEDITORTOP.KEDITORWIN.RAONKEDITOR_DialogLoaded(c,document)}catch(k){KEDITORTOP&&KEDITORTOP.RAONKEDITOR&&KEDITORTOP.RAONKEDITOR.logMode&&console.log(k)}}
function row_property_set_page(){if(null==KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT){var a=LayerWin.getFirstRange().range.startContainer;3==a.nodeType&&(a=a.parentNode);KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT=a}a=LayerWin.GetTDTHCell(KEDITORTOP.RAONKEDITOR.G_SELECTED_ELEMENT);if(null!=a&&void 0!=a){var c=LayerWin.GetParentbyTagName(a,"table"),b=LayerWin.GetParentbyTagName(a,"tr");if(null!=c&&null!=b){for(var d=null,e="",f="",g="",h="",m=!0,k=!0,l=!0,n=!0,p=b.cells.length,q=0;q<p;q++)d=b.cells[q],
0!=q&&(m&&e!=d.style.backgroundColor&&(m=!1),k&&f!=d.style.height&&(k=!1),l&&g!=d.style.textAlign&&(l=!1),n&&h!=d.style.verticalAlign&&(n=!1)),e=d.style.backgroundColor,f=d.style.height,g=d.style.textAlign,h=d.style.verticalAlign;m&&(document.getElementById("background_color").style.backgroundColor=e);f=LayerWin.parseIntOr0(f);k&&0<f&&(document.getElementById("row_height").value=f);l&&""!=g&&(document.getElementById("horizontal_align").value=g);n&&""!=h&&(document.getElementById("vertical_align").value=
h);if(KEDITORTOP.RAONKEDITOR.browser.ie&&9>=KEDITORTOP.RAONKEDITOR.browser.ieVersion)a=document.getElementsByClassName("contents")[0],b=document.getElementById("div_thead"),a.removeChild(b);else{(d="THEAD"==b.parentNode.tagName?!0:!1)?document.getElementById("row_thead").checked=!0:document.getElementById("row_thead").checked=!1;e=!1;f=[];for(g=0;g<c.rows.length;g++)for(h=c.rows[g],m=0;m<h.cells.length;m++)k=h.cells[m],1<k.rowSpan&&f.push({tr:h,td:k});for(g=0;g<f.length;g++)if(c=f[g],1==a.rowSpan)if(d){if(b.rowIndex>
c.tr.rowIndex&&b.rowIndex<=c.tr.rowIndex+c.td.rowSpan-1){e=!0;break}}else{if(c.tr.rowIndex+c.td.rowSpan-1>b.rowIndex&&c.tr.rowIndex<=b.rowIndex){e=!0;break}}else if(d){if(b.rowIndex>c.tr.rowIndex&&b.rowIndex<=c.tr.rowIndex+c.td.rowSpan-1){e=!0;break}}else if(b.rowIndex+a.rowSpan<c.tr.rowIndex+c.td.rowSpan&&b.rowIndex+a.rowSpan-1>=c.tr.rowIndex){e=!0;break}e&&(document.getElementById("row_thead").disabled=!0)}}}}
function setBrowserClass(a){var c="";KEDITORTOP.RAONKEDITOR.browser.chrome||KEDITORTOP.RAONKEDITOR.browser.opera?c="bt1":KEDITORTOP.RAONKEDITOR.browser.gecko&&(c="bt2");KEDITORTOP.RAONKEDITOR.util.addClass(a,c)};
